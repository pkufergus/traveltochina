!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document){throw new Error("jQuery requires a window with a document")}return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.2",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+rb(o[l])}w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return lb(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=mb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=nb(b)}function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++){gb(a,b[d],c)}return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sb(tb(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xb(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return !0}function bb(){return !1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=bb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g){d[g]&&Bb(e,d[g])}}if(b){if(c){for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++){Ab(e,d[g])}}else{Ab(a,f)}}return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++]){ob.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0}if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++){d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--){if(b=Tb[e]+c,b in a){return b}}return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jc(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++){if(d=dc[f].call(j,a,k,j.opts)){return d}}return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)}},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t){return v}h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vc(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vc(c,a[c],b,e)}}return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xc){Xc[a](void 0,!0)}}),k.cors=!!Yc&&"withCredentials" in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd){return bd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});jQuery.migrateMute===void 0&&(jQuery.migrateMute=!0),function(e,t,n){function r(n){var r=t.console;i[n]||(i[n]=!0,e.migrateWarnings.push(n),r&&r.warn&&!e.migrateMute&&(r.warn("JQMIGRATE: "+n),e.migrateTrace&&r.trace&&r.trace()))}function a(t,a,i,o){if(Object.defineProperty){try{return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){return r(o),i},set:function(e){r(o),i=e}}),n}catch(s){}}e._definePropertyBroken=!0,t[a]=i}var i={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){i={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&r("jQuery is not compatible with Quirks Mode");var o=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,u=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},l=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;a(e,"attrFn",o||{},"jQuery.attrFn is deprecated"),e.attr=function(t,a,i,u){var c=a.toLowerCase(),g=t&&t.nodeType;return u&&(4>s.length&&r("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(g)&&(o?a in o:e.isFunction(e.fn[a])))?e(t)[a](i):("type"===a&&i!==n&&l.test(t.nodeName)&&t.parentNode&&r("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,r){var a,i=e.prop(t,r);return i===!0||"boolean"!=typeof i&&(a=t.getAttributeNode(r))&&a.nodeValue!==!1?r.toLowerCase():n},set:function(t,n,r){var a;return n===!1?e.removeAttr(t,r):(a=e.propFix[r]||r,a in t&&(t[a]=!0),t.setAttribute(r,r.toLowerCase())),r}},f.test(c)&&r("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,a,i))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&r("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var a=(e.nodeName||"").toLowerCase();return"button"===a?c.apply(this,arguments):("input"!==a&&"option"!==a&&r("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var g,h,v=e.fn.init,m=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,a){var i;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(i=y.exec(e.trim(t)))&&i[0]&&("<"!==t.charAt(0)&&r("$(html) HTML strings must start with '<' character"),i[3]&&r("$(html) HTML text after last tag is ignored"),"#"===i[0].charAt(0)&&(r("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?v.call(this,e.parseHTML(i[2],n,!0),n,a):v.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?m.apply(this,arguments):(r("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(g=e.uaMatch(navigator.userAgent),h={},g.browser&&(h[g.browser]=!0,h.version=g.version),h.chrome?h.webkit=!0:h.webkit&&(h.safari=!0),e.browser=h),a(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,a){return a&&a instanceof e&&!(a instanceof t)&&(a=t(a)),e.fn.init.call(this,r,a,n)},t.fn.init.prototype=t.fn;var n=t(document);return r("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var a,i,o=this[0];return !o||"events"!==t||1!==arguments.length||(a=e.data(o,t),i=e._data(o,t),a!==n&&a!==i||i===n)?b.apply(this,arguments):(r("Use of jQuery.fn.data('events') is deprecated"),i)};var j=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return r("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,a,i,o){a=a||document,a=!a.nodeType&&a[0]||a,a=a.ownerDocument||a,r("jQuery.clean() is deprecated");var s,u,c,l,d=[];if(e.merge(d,e.buildFragment(t,a).childNodes),i){for(c=function(e){return !e.type||j.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):n},s=0;null!=(u=d[s]);s++){e.nodeName(u,"script")&&c(u)||(i.appendChild(u),u.getElementsByTagName!==n&&(l=e.grep(e.merge([],u.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(l)),s+=l.length))}}return d});var Q=e.event.add,x=e.event.remove,k=e.event.trigger,N=e.fn.toggle,T=e.fn.live,M=e.fn.die,S="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",C=RegExp("\\b(?:"+S+")\\b"),H=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!=typeof t||e.event.special.hover?t:(H.test(t)&&r("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(H,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&a(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,a,i){e!==document&&C.test(t)&&r("AJAX events should be attached to document: "+t),Q.call(this,e,A(t||""),n,a,i)},e.event.remove=function(e,t,n,r,a){x.call(this,e,A(t)||"",n,r,a)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return r("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n)){return N.apply(this,arguments)}r("jQuery.fn.toggle(handler, handler...) is deprecated");var a=arguments,i=t.guid||e.guid++,o=0,s=function(n){var r=(e._data(this,"lastToggle"+t.guid)||0)%o;return e._data(this,"lastToggle"+t.guid,r+1),n.preventDefault(),a[r].apply(this,arguments)||!1};for(s.guid=i;a.length>o;){a[o++].guid=i}return this.click(s)},e.fn.live=function(t,n,a){return r("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,a),this)},e.fn.die=function(t,n){return r("jQuery.fn.die() is deprecated"),M?M.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,a){return n||C.test(e)||r("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,a)},e.each(S.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window);(function(jQuery,undefined){var oldManip=jQuery.fn.domManip,tmplItmAtt="_tmplitem",htmlExpr=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,newTmplItems={},wrappedItems={},appendToTmplItems,topTmplItem={key:0,data:{}},itemKey=0,cloneIndex=0,stack=[];function newTmplItem(options,parentItem,fn,data){var newItem={data:data||(data===0||data===false)?data:(parentItem?parentItem.data:{}),_wrap:parentItem?parentItem._wrap:null,tmpl:null,parent:parentItem||null,nodes:[],calls:tiCalls,nest:tiNest,wrap:tiWrap,html:tiHtml,update:tiUpdate};if(options){jQuery.extend(newItem,options,{nodes:[],parent:parentItem})}if(fn){newItem.tmpl=fn;newItem._ctnt=newItem._ctnt||newItem.tmpl(jQuery,newItem);newItem.key=++itemKey;(stack.length?wrappedItems:newTmplItems)[itemKey]=newItem}return newItem}jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),elems,i,l,tmplItems,parent=this.length===1&&this[0].parentNode;appendToTmplItems=newTmplItems||{};if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);ret=this}else{for(i=0,l=insert.length;i<l;i++){cloneIndex=i;elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}cloneIndex=0;ret=this.pushStack(ret,name,insert.selector)}tmplItems=appendToTmplItems;appendToTmplItems=null;jQuery.tmpl.complete(tmplItems);return ret}});jQuery.fn.extend({tmpl:function(data,options,parentItem){return jQuery.tmpl(this[0],data,options,parentItem)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(name){return jQuery.template(name,this[0])},domManip:function(args,table,callback,options){if(args[0]&&jQuery.isArray(args[0])){var dmArgs=jQuery.makeArray(arguments),elems=args[0],elemsLength=elems.length,i=0,tmplItem;while(i<elemsLength&&!(tmplItem=jQuery.data(elems[i++],"tmplItem"))){}if(tmplItem&&cloneIndex){dmArgs[2]=function(fragClone){jQuery.tmpl.afterManip(this,fragClone,callback)}}oldManip.apply(this,dmArgs)}else{oldManip.apply(this,arguments)}cloneIndex=0;if(!appendToTmplItems){jQuery.tmpl.complete(newTmplItems)}return this}});jQuery.extend({tmpl:function(tmpl,data,options,parentItem){var ret,topLevel=!parentItem;if(topLevel){parentItem=topTmplItem;tmpl=jQuery.template[tmpl]||jQuery.template(null,tmpl);wrappedItems={}}else{if(!tmpl){tmpl=parentItem.tmpl;newTmplItems[parentItem.key]=parentItem;parentItem.nodes=[];if(parentItem.wrapped){updateWrapped(parentItem,parentItem.wrapped)}return jQuery(build(parentItem,null,parentItem.tmpl(jQuery,parentItem)))}}if(!tmpl){return[]}if(typeof data==="function"){data=data.call(parentItem||{})}if(options&&options.wrapped){updateWrapped(options,options.wrapped)}ret=jQuery.isArray(data)?jQuery.map(data,function(dataItem){return dataItem?newTmplItem(options,parentItem,tmpl,dataItem):null}):[newTmplItem(options,parentItem,tmpl,data)];return topLevel?jQuery(build(parentItem,null,ret)):ret},tmplItem:function(elem){var tmplItem;if(elem instanceof jQuery){elem=elem[0]}while(elem&&elem.nodeType===1&&!(tmplItem=jQuery.data(elem,"tmplItem"))&&(elem=elem.parentNode)){}return tmplItem||topTmplItem},template:function(name,tmpl){if(tmpl){if(typeof tmpl==="string"){tmpl=buildTmplFn(tmpl)}else{if(tmpl instanceof jQuery){tmpl=tmpl[0]||{}}}if(tmpl.nodeType){tmpl=jQuery.data(tmpl,"tmpl")||jQuery.data(tmpl,"tmpl",buildTmplFn(tmpl.innerHTML))}return typeof name==="string"?(jQuery.template[name]=tmpl):tmpl}return name?(typeof name!=="string"?jQuery.template(null,name):(jQuery.template[name]||jQuery.template(null,htmlExpr.test(name)?name:jQuery(name)))):null},encode:function(text){return(""+text).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""},"for":{open:"for(var $i = 0; $i < $1; $i++) {",close:"}"},log:{open:"console.log($1a);"}},complete:function(items){newTmplItems={}},afterManip:function afterManip(elem,fragClone,callback){var content=fragClone.nodeType===11?jQuery.makeArray(fragClone.childNodes):fragClone.nodeType===1?[fragClone]:[];callback.call(elem,fragClone);storeTmplItems(content);cloneIndex++}});function build(tmplItem,nested,content){var frag,ret=content?jQuery.map(content,function(item){return(typeof item==="string")?(tmplItem.key?item.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+tmplItmAtt+'="'+tmplItem.key+'" $2'):item):build(item,tmplItem,item._ctnt)}):tmplItem;if(nested){return ret}ret=ret.join("");ret.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(all,before,middle,after){frag=jQuery(middle).get();storeTmplItems(frag);if(before){frag=unencode(before).concat(frag)}if(after){frag=frag.concat(unencode(after))}});return frag?frag:unencode(ret)}function unencode(text){var el=document.createElement("div");el.innerHTML=text;return jQuery.makeArray(el.childNodes)}function buildTmplFn(markup){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+jQuery.trim(markup).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(all,slash,type,fnargs,target,parens,args){var tag=jQuery.tmpl.tag[type],def,expr,exprAutoFnDetect;if(!tag){throw"Unknown template tag: "+type}def=tag._default||[];if(parens&&!/\w$/.test(target)){target+=parens;parens=""}if(target){target=unescape(target);args=args?(","+unescape(args)+")"):(parens?")":"");expr=parens?(target.indexOf(".")>-1?target+unescape(parens):("("+target+").call($item"+args)):target;exprAutoFnDetect=parens?expr:"(typeof("+target+")==='function'?("+target+").call($item):("+target+"))"}else{exprAutoFnDetect=expr=def.$1||"null"}fnargs=unescape(fnargs);return"');"+tag[slash?"close":"open"].split("$notnull_1").join(target?"typeof("+target+")!=='undefined' && ("+target+")!=null":"true").split("$1a").join(exprAutoFnDetect).split("$1").join(expr).split("$2").join(fnargs||def.$2||"")+"__.push('"})+"');}return __;")}function updateWrapped(options,wrapped){options._wrap=build(options,true,jQuery.isArray(wrapped)?wrapped:[htmlExpr.test(wrapped)?wrapped:jQuery(wrapped).html()]).join("")}function unescape(args){return args?args.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function outerHtml(elem){var div=document.createElement("div");div.appendChild(elem.cloneNode(true));return div.innerHTML}function storeTmplItems(content){var keySuffix="_"+cloneIndex,elem,elems,newClonedItems={},i,l,m;for(i=0,l=content.length;i<l;i++){if((elem=content[i]).nodeType!==1){continue}elems=elem.getElementsByTagName("*");for(m=elems.length-1;m>=0;m--){processItemKey(elems[m])}processItemKey(elem)}function processItemKey(el){var pntKey,pntNode=el,pntItem,tmplItem,key;if((key=el.getAttribute(tmplItmAtt))){while(pntNode.parentNode&&(pntNode=pntNode.parentNode).nodeType===1&&!(pntKey=pntNode.getAttribute(tmplItmAtt))){}if(pntKey!==key){pntNode=pntNode.parentNode?(pntNode.nodeType===11?0:(pntNode.getAttribute(tmplItmAtt)||0)):0;if(!(tmplItem=newTmplItems[key])){tmplItem=wrappedItems[key];tmplItem=newTmplItem(tmplItem,newTmplItems[pntNode]||wrappedItems[pntNode]);tmplItem.key=++itemKey;newTmplItems[itemKey]=tmplItem}if(cloneIndex){cloneTmplItem(key)}}el.removeAttribute(tmplItmAtt)}else{if(cloneIndex&&(tmplItem=jQuery.data(el,"tmplItem"))){cloneTmplItem(tmplItem.key);newTmplItems[tmplItem.key]=tmplItem;pntNode=jQuery.data(el.parentNode,"tmplItem");pntNode=pntNode?pntNode.key:0}}if(tmplItem){pntItem=tmplItem;while(pntItem&&pntItem.key!=pntNode){pntItem.nodes.push(el);pntItem=pntItem.parent}delete tmplItem._ctnt;delete tmplItem._wrap;jQuery.data(el,"tmplItem",tmplItem)}function cloneTmplItem(key){key=key+keySuffix;tmplItem=newClonedItems[key]=(newClonedItems[key]||newTmplItem(tmplItem,newTmplItems[tmplItem.parent.key+keySuffix]||tmplItem.parent))}}}function tiCalls(content,tmpl,data,options){if(!content){return stack.pop()}stack.push({_:content,tmpl:tmpl,item:this,data:data,options:options})}function tiNest(tmpl,data,options){return jQuery.tmpl(jQuery.template(tmpl),data,options,this)}function tiWrap(call,wrapped){var options=call.options||{};options.wrapped=wrapped;return jQuery.tmpl(jQuery.template(call.tmpl),call.data,options,call.item)}function tiHtml(filter,textOnly){var wrapped=this._wrap;return jQuery.map(jQuery(jQuery.isArray(wrapped)?wrapped.join(""):wrapped).filter(filter||"*"),function(e){return textOnly?e.innerText||e.textContent:e.outerHTML||outerHtml(e)})}function tiUpdate(){var coll=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(coll[0]);jQuery(coll).remove()}})(jQuery);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}if(typeof Date.prototype.toJSON2!=="function"){Date.prototype.toJSON2=function(key){return"/Date("+this.getFullYear()+","+this.getMonth()+","+this.getDate()+","+this.getHours()+","+this.getMinutes()+","+this.getSeconds()+","+this.getMilliseconds()+")/"};String.prototype.toJSON2=function(key){return this.valueOf().replace(/"/g,'\\"')}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(k=="__type"||k=="html"){continue}if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function($,r){var h,n=Array.prototype.slice,t=decodeURIComponent,a=$.param,j,c,m,y,b=$.bbq=$.bbq||{},s,x,k,e=$.event.special,d="hashchange",B="querystring",F="fragment",z="elemUrlAttr",l="href",w="src",p=/^.*\?|#.*$/g,u,H,g,i,C,E={};function G(I){return typeof I==="string"}function D(J){var I=n.call(arguments,1);return function(){return J.apply(this,I.concat(n.call(arguments)))}}function o(I){return I.replace(H,"$2")}function q(I){return I.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function f(K,P,I,L,J){var R,O,N,Q,M;if(L!==h){N=I.match(K?H:/^([^#?]*)\??([^#]*)(#?.*)/);M=N[3]||"";if(J===2&&G(L)){O=L.replace(K?u:p,"")}else{Q=m(N[2]);L=G(L)?m[K?F:B](L):L;O=J===2?L:J===1?$.extend({},L,Q):$.extend({},Q,L);O=j(O);if(K){O=O.replace(g,t)}}R=N[1]+(K?C:O||!N[1]?"?":"")+O+M}else{R=P(I!==h?I:location.href)}return R}a[B]=D(f,0,q);a[F]=c=D(f,1,o);a.sorted=j=function(J,K){var I=[],L={};$.each(a(J,K).split("&"),function(P,M){var O=M.replace(/(?:%5B|=).*$/,""),N=L[O];if(!N){N=L[O]=[];I.push(O)}N.push(M)});return $.map(I.sort(),function(M){return L[M]}).join("&")};c.noEscape=function(J){J=J||"";var I=$.map(J.split(""),encodeURIComponent);g=new RegExp(I.join("|"),"g")};c.noEscape(",/");c.ajaxCrawlable=function(I){if(I!==h){if(I){u=/^.*(?:#!|#)/;H=/^([^#]*)(?:#!|#)?(.*)$/;C="#!"}else{u=/^.*#/;H=/^([^#]*)#?(.*)$/;C="#"}i=!!I}return i};c.ajaxCrawlable(0);$.deparam=m=function(L,I){var K={},J={"true":!0,"false":!1,"null":null};$.each(L.replace(/\+/g," ").split("&"),function(O,T){var N=T.split("="),S=t(N[0]),M,R=K,P=0,U=S.split("]["),Q=U.length-1;if(/\[/.test(U[0])&&/\]$/.test(U[Q])){U[Q]=U[Q].replace(/\]$/,"");U=U.shift().split("[").concat(U);Q=U.length-1}else{Q=0}if(N.length===2){M=t(N[1]);if(I){M=M&&!isNaN(M)?+M:M==="undefined"?h:J[M]!==h?J[M]:M}if(Q){for(;P<=Q;P++){S=U[P]===""?R.length:U[P];R=R[S]=P<Q?R[S]||(U[P+1]&&isNaN(U[P+1])?{}:[]):M}}else{if($.isArray(K[S])){K[S].push(M)}else{if(K[S]!==h){K[S]=[K[S],M]}else{K[S]=M}}}}else{if(S){K[S]=I?h:""}}});return K};function A(K,I,J){if(I===h||typeof I==="boolean"){J=I;I=a[K?F:B]()}else{I=G(I)?I.replace(K?u:p,""):I}return m(I,J)}m[B]=D(A,0);m[F]=y=D(A,1);$[z]||($[z]=function(I){return $.extend(E,I)})({a:l,base:l,iframe:w,img:w,input:w,form:"action",link:l,script:w});k=$[z];function v(L,J,K,I){if(!G(K)&&typeof K!=="object"){I=K;K=J;J=h}return this.each(function(){var O=$(this),M=J||k()[(this.nodeName||"").toLowerCase()]||"",N=M&&O.attr(M)||"";O.attr(M,a[L](N,K,I))})}$.fn[B]=D(v,B);$.fn[F]=D(v,F);b.pushState=s=function(L,I){if(G(L)&&/^#/.test(L)&&I===h){I=2}var K=L!==h,J=c(location.href,K?L:{},K?I:2);location.href=J};b.getState=x=function(I,J){return I===h||typeof I==="boolean"?y(I):y(J)[I]};b.removeState=function(I){var J={};if(I!==h){J=x();$.each($.isArray(I)?I:arguments,function(L,K){delete J[K]})}s(J,2)};e[d]=$.extend(e[d],{add:function(I){var K;function J(M){var L=M[F]=c();M.getState=function(N,O){return N===h||typeof N==="boolean"?m(L,N):m(L,O)[N]};K.apply(this,arguments)}if($.isFunction(I)){K=I;return J}else{K=I.handler;I.handler=J}}})})(jQuery,this);(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,i=h.documentMode,d="on"+c in e&&(i===b||i>7);function a(j){j=j||location.href;return"#"+j.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(j){return j?this.bind(c,j):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var j={},p,m=a(),k=function(q){return q},l=k,o=k;j.start=function(){p||n()};j.stop=function(){p&&clearTimeout(p);p=b};function n(){var r=a(),q=o(m);if(r!==m){l(m=r,q);$(e).trigger(c)}else{if(q!==m){location.href=location.href.replace(/#.*/,"")+q}}p=setTimeout(n,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var q,r;j.start=function(){if(!q){r=$.fn[c].src;r=r&&r+a();q=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){r||l(a());n()}).attr("src",r||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){q.document.title=h.title}}catch(s){}}}};j.stop=k;o=function(){return a(q.location.href)};l=function(v,s){var u=q.document,t=$.fn[c].domain;if(v!==s){u.title=h.title;u.open();t&&u.write('<script>document.domain="'+t+'"</script>');u.close();q.location.hash=v}}})();return j})()})(jQuery,this);(function(a,b){function c(b,c){var e=b.nodeName.toLowerCase();if("area"===e){var f=b.parentNode,g=f.name,h;return !b.href||!g||f.nodeName.toLowerCase()!=="map"?!1:(h=a("img[usemap=#"+g+"]")[0],!!h&&d(h))}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||c:c)&&d(b)}function d(b){return !a(b).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(a.ui.version){return}a.extend(a.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({propAttr:a.fn.prop||a.fn.attr,_focus:a.fn.focus,focus:function(b,c){return typeof b=="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?b=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):b=this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b){return this.css("zIndex",c)}if(this.length){var d=a(this[0]),e,f;while(d.length&&d[0]!==document){e=d.css("position");if(e==="absolute"||e==="relative"||e==="fixed"){f=parseInt(d.css("zIndex"),10);if(!isNaN(f)&&f!==0){return f}}d=d.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function h(b,c,d,f){return a.each(e,function(){c-=parseFloat(a.curCSS(b,"padding"+this,!0))||0,d&&(c-=parseFloat(a.curCSS(b,"border"+this+"Width",!0))||0),f&&(c-=parseFloat(a.curCSS(b,"margin"+this,!0))||0)}),c}var e=d==="Width"?["Left","Right"]:["Top","Bottom"],f=d.toLowerCase(),g={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?g["inner"+d].call(this):this.each(function(){a(this).css(f,h(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return typeof b!="number"?g["outer"+d].call(this,b):this.each(function(){a(this).css(f,h(this,b,!0,c)+"px")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return !!a.data(c,b)}}):function(b,c,d){return !!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a(function(){var b=document.body,c=b.appendChild(c=document.createElement("div"));c.offsetHeight,a.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),a.support.minHeight=c.offsetHeight===100,a.support.selectstart="onselectstart" in c,b.removeChild(c).style.display="none"}),a.curCSS||(a.curCSS=a.css),a.extend(a.ui,{plugin:{add:function(b,c,d){var e=a.ui[b].prototype;for(var f in d){e.plugins[f]=e.plugins[f]||[],e.plugins[f].push([c,d[f]])}},call:function(a,b,c){var d=a.plugins[b];if(!d||!a.element[0].parentNode){return}for(var e=0;e<d.length;e++){a.options[d[e][0]]&&d[e][1].apply(a.element,c)}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(b,c){if(a(b).css("overflow")==="hidden"){return !1}var d=c&&c==="left"?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)},isOverAxis:function(a,b,c){return a>b&&a<b+c},isOver:function(b,c,d,e,f,g){return a.ui.isOverAxis(b,d,f)&&a.ui.isOverAxis(c,e,g)}})})(jQuery);(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(b){for(var d=0,e;(e=b[d])!=null;d++){try{a(e).triggerHandler("remove")}catch(f){}}c(b)}}else{var d=a.fn.remove;a.fn.remove=function(b,c){return this.each(function(){return c||(!b||a.filter(b,[this]).length)&&a("*",this).add([this]).each(function(){try{a(this).triggerHandler("remove")}catch(b){}}),d.call(a(this),b,c)})}}a.widget=function(b,c,d){var e=b.split(".")[0],f;b=b.split(".")[1],f=e+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][f]=function(c){return !!a.data(c,b)},a[e]=a[e]||{},a[e][b]=function(a,b){arguments.length&&this._createWidget(a,b)};var g=new c;g.options=a.extend(!0,{},g.options),a[e][b].prototype=a.extend(!0,g,{namespace:e,widgetName:b,widgetEventPrefix:a[e][b].prototype.widgetEventPrefix||b,widgetBaseClass:f},d),a.widget.bridge(b,a[e][b])},a.widget.bridge=function(c,d){a.fn[c]=function(e){var f=typeof e=="string",g=Array.prototype.slice.call(arguments,1),h=this;return e=!f&&g.length?a.extend.apply(null,[!0,e].concat(g)):e,f&&e.charAt(0)==="_"?h:(f?this.each(function(){var d=a.data(this,c),f=d&&a.isFunction(d[e])?d[e].apply(d,g):d;if(f!==d&&f!==b){return h=f,!1}}):this.each(function(){var b=a.data(this,c);b?b.option(e||{})._init():a.data(this,c,new d(e,this))}),h)}},a.Widget=function(a,b){arguments.length&&this._createWidget(a,b)},a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(b,c){a.data(c,this.widgetName,this),this.element=a(c),this.options=a.extend(!0,{},this.options,this._getCreateOptions(),b);var d=this;this.element.bind("remove."+this.widgetName,function(){d.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(c,d){var e=c;if(arguments.length===0){return a.extend({},this.options)}if(typeof c=="string"){if(d===b){return this.options[c]}e={},e[c]=d}return this._setOptions(e),this},_setOptions:function(b){var c=this;return a.each(b,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&this.widget()[b?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",b),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(b,c,d){var e,f,g=this.options[b];d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent;if(f){for(e in f){e in c||(c[e]=f[e])}}return this.element.trigger(c,d),!(a.isFunction(g)&&g.call(this.element[0],c,d)===!1||c.isDefaultPrevented())}}})(jQuery);(function(a,b){var c=!1;a(document).mouseup(function(a){c=!1}),a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){if(!0===a.data(c.target,b.widgetName+".preventClickEvent")){return a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(c){return}this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=b.which==1,f=typeof this.options.cancel=="string"&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!e||f||!this._mouseCapture(b)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==!1;if(!this._mouseStarted){return b.preventDefault(),!0}}return !0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0},_mouseMove:function(b){return !a.browser.msie||document.documentMode>=9||!!b.button?this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted):this._mouseUp(b)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return !0}})})(jQuery);(function(a,b){a.ui=a.ui||{};var c=/left|center|right/,d=/top|center|bottom/,e="center",f={},g=a.fn.position,h=a.fn.offset;a.fn.position=function(b){if(!b||!b.of){return g.apply(this,arguments)}b=a.extend({},b);var h=a(b.of),i=h[0],j=(b.collision||"flip").split(" "),k=b.offset?b.offset.split(" "):[0,0],l,m,n;return i.nodeType===9?(l=h.width(),m=h.height(),n={top:0,left:0}):i.setTimeout?(l=h.width(),m=h.height(),n={top:h.scrollTop(),left:h.scrollLeft()}):i.preventDefault?(b.at="left top",l=m=0,n={top:b.of.pageY,left:b.of.pageX}):(l=h.outerWidth(),m=h.outerHeight(),n=h.offset()),a.each(["my","at"],function(){var a=(b[this]||"").split(" ");a.length===1&&(a=c.test(a[0])?a.concat([e]):d.test(a[0])?[e].concat(a):[e,e]),a[0]=c.test(a[0])?a[0]:e,a[1]=d.test(a[1])?a[1]:e,b[this]=a}),j.length===1&&(j[1]=j[0]),k[0]=parseInt(k[0],10)||0,k.length===1&&(k[1]=k[0]),k[1]=parseInt(k[1],10)||0,b.at[0]==="right"?n.left+=l:b.at[0]===e&&(n.left+=l/2),b.at[1]==="bottom"?n.top+=m:b.at[1]===e&&(n.top+=m/2),n.left+=k[0],n.top+=k[1],this.each(function(){var c=a(this),d=c.outerWidth(),g=c.outerHeight(),h=parseInt(a.curCSS(this,"marginLeft",!0))||0,i=parseInt(a.curCSS(this,"marginTop",!0))||0,o=d+h+(parseInt(a.curCSS(this,"marginRight",!0))||0),p=g+i+(parseInt(a.curCSS(this,"marginBottom",!0))||0),q=a.extend({},n),r;b.my[0]==="right"?q.left-=d:b.my[0]===e&&(q.left-=d/2),b.my[1]==="bottom"?q.top-=g:b.my[1]===e&&(q.top-=g/2),f.fractions||(q.left=Math.round(q.left),q.top=Math.round(q.top)),r={left:q.left-h,top:q.top-i},a.each(["left","top"],function(c,e){a.ui.position[j[c]]&&a.ui.position[j[c]][e](q,{targetWidth:l,targetHeight:m,elemWidth:d,elemHeight:g,collisionPosition:r,collisionWidth:o,collisionHeight:p,offset:k,my:b.my,at:b.at})}),a.fn.bgiframe&&c.bgiframe(),c.offset(a.extend(q,{using:b.using}))})},a.ui.position={fit:{left:function(b,c){var d=a(window),e=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft();b.left=e>0?b.left-e:Math.max(b.left-c.collisionPosition.left,b.left)},top:function(b,c){var d=a(window),e=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop();b.top=e>0?b.top-e:Math.max(b.top-c.collisionPosition.top,b.top)}},flip:{left:function(b,c){if(c.at[0]===e){return}var d=a(window),f=c.collisionPosition.left+c.collisionWidth-d.width()-d.scrollLeft(),g=c.my[0]==="left"?-c.elemWidth:c.my[0]==="right"?c.elemWidth:0,h=c.at[0]==="left"?c.targetWidth:-c.targetWidth,i=-2*c.offset[0];b.left+=c.collisionPosition.left<0?g+h+i:f>0?g+h+i:0},top:function(b,c){if(c.at[1]===e){return}var d=a(window),f=c.collisionPosition.top+c.collisionHeight-d.height()-d.scrollTop(),g=c.my[1]==="top"?-c.elemHeight:c.my[1]==="bottom"?c.elemHeight:0,h=c.at[1]==="top"?c.targetHeight:-c.targetHeight,i=-2*c.offset[1];b.top+=c.collisionPosition.top<0?g+h+i:f>0?g+h+i:0}}},a.offset.setOffset||(a.offset.setOffset=function(b,c){/static/.test(a.curCSS(b,"position"))&&(b.style.position="relative");var d=a(b),e=d.offset(),f=parseInt(a.curCSS(b,"top",!0),10)||0,g=parseInt(a.curCSS(b,"left",!0),10)||0,h={top:c.top-e.top+f,left:c.left-e.left+g};"using" in c?c.using.call(b,h):d.css(h)},a.fn.offset=function(b){var c=this[0];return !c||!c.ownerDocument?null:b?a.isFunction(b)?this.each(function(c){a(this).offset(b.call(this,c,a(this).offset()))}):this.each(function(){a.offset.setOffset(this,b)}):h.call(this)}),a.curCSS||(a.curCSS=a.css),function(){var b=document.getElementsByTagName("body")[0],c=document.createElement("div"),d,e,g,h,i;d=document.createElement(b?"div":"body"),g={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},b&&a.extend(g,{position:"absolute",left:"-1000px",top:"-1000px"});for(var j in g){d.style[j]=g[j]}d.appendChild(c),e=b||document.documentElement,e.insertBefore(d,e.firstChild),c.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",h=a(c).offset(function(a,b){return b}).offset(),d.innerHTML="",e.removeChild(d),i=h.top+h.left+(b?2000:0),f.fractions=i>21&&i<22}()})(jQuery);(function(a,b){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return}return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c.iframeFix&&a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute");if(!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1){return this._mouseUp({}),!1}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&(c=a.ui.ddmanager.drop(this,b)),this.dropped&&(c=this.dropped,this.dropped=!1);var d=this.element[0],e=!1;while(d&&(d=d.parentNode)){d==document&&(e=!0)}if(!e&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==!1&&f._clear()})}else{this._trigger("stop",b)!==!1&&this._clear()}return !1},_mouseUp:function(b){return this.options.iframeFix===!0&&a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?!0:!1;return a(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo),d[0]!=this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window"){this.containment=[b.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,b.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(b.containment=="document"?0:a(window).scrollLeft())+a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(b.containment=="document"?0:a(window).scrollTop())+(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment),d=c[0];if(!d){return}var e=c.offset(),f=a(d).css("overflow")!="hidden";this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(f?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}else{b.containment.constructor==Array&&(this.containment=b.containment)}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName),f=b.pageX,g=b.pageY;if(this.originalPosition){var h;if(this.containment){if(this.relative_container){var i=this.relative_container.offset();h=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]}else{h=this.containment}b.pageX-this.offset.click.left<h[0]&&(f=h[0]+this.offset.click.left),b.pageY-this.offset.click.top<h[1]&&(g=h[1]+this.offset.click.top),b.pageX-this.offset.click.left>h[2]&&(f=h[2]+this.offset.click.left),b.pageY-this.offset.click.top>h[3]&&(g=h[3]+this.offset.click.top)}if(c.grid){var j=c.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1]:this.originalPageY;g=h?j-this.offset.click.top<h[1]||j-this.offset.click.top>h[3]?j-this.offset.click.top<h[1]?j+c.grid[1]:j-c.grid[1]:j:j;var k=c.grid[0]?this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0]:this.originalPageX;f=h?k-this.offset.click.left<h[0]||k-this.offset.click.left>h[2]?k-this.offset.click.left<h[0]?k+c.grid[0]:k-c.grid[0]:k:k}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),b=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.extend(a.ui.draggable,{version:"1.8.23"}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("draggable"),e=this,f=function(b){var c=this.offset.click.top,d=this.offset.click.left,e=this.positionAbs.top,f=this.positionAbs.left,g=b.height,h=b.width,i=b.top,j=b.left;return a.ui.isOver(e+c,f+d,i,j,g,h)};a.each(d.sortables,function(f){this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(b,c){var d=a("body"),e=a(this).data("draggable").options;d.css("cursor")&&(e._cursor=d.css("cursor")),d.css("cursor",e.cursor)},stop:function(b,c){var d=a(this).data("draggable").options;d._cursor&&a("body").css("cursor",d._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(b,c){var d=a(this).data("draggable");d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"&&(d.overflowOffset=d.scrollParent.offset())},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=!1;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!e.axis||e.axis!="x"){d.overflowOffset.top+d.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity?d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop+e.scrollSpeed:b.pageY-d.overflowOffset.top<e.scrollSensitivity&&(d.scrollParent[0].scrollTop=f=d.scrollParent[0].scrollTop-e.scrollSpeed)}if(!e.axis||e.axis!="y"){d.overflowOffset.left+d.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity?d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft+e.scrollSpeed:b.pageX-d.overflowOffset.left<e.scrollSensitivity&&(d.scrollParent[0].scrollLeft=f=d.scrollParent[0].scrollLeft-e.scrollSpeed)}}else{if(!e.axis||e.axis!="x"){b.pageY-a(document).scrollTop()<e.scrollSensitivity?f=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity&&(f=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed))}if(!e.axis||e.axis!="y"){b.pageX-a(document).scrollLeft()<e.scrollSensitivity?f=a(document).scrollLeft(a(document).scrollLeft()-e.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity&&(f=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed))}}f!==!1&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(d,b)}}),a.ui.plugin.add("draggable","snap",{start:function(b,c){var d=a(this).data("draggable"),e=d.options;d.snapElements=[],a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var b=a(this),c=b.offset();this!=d.element[0]&&d.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),top:c.top,left:c.left})})},drag:function(b,c){var d=a(this).data("draggable"),e=d.options,f=e.snapTolerance,g=c.offset.left,h=g+d.helperProportions.width,i=c.offset.top,j=i+d.helperProportions.height;for(var k=d.snapElements.length-1;k>=0;k--){var l=d.snapElements[k].left,m=l+d.snapElements[k].width,n=d.snapElements[k].top,o=n+d.snapElements[k].height;if(!(l-f<g&&g<m+f&&n-f<i&&i<o+f||l-f<g&&g<m+f&&n-f<j&&j<o+f||l-f<h&&h<m+f&&n-f<i&&i<o+f||l-f<h&&h<m+f&&n-f<j&&j<o+f)){d.snapElements[k].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=!1;continue}if(e.snapMode!="inner"){var p=Math.abs(n-j)<=f,q=Math.abs(o-i)<=f,r=Math.abs(l-h)<=f,s=Math.abs(m-g)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n-d.helperProportions.height,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m}).left-d.margins.left)}var t=p||q||r||s;if(e.snapMode!="outer"){var p=Math.abs(n-i)<=f,q=Math.abs(o-j)<=f,r=Math.abs(l-g)<=f,s=Math.abs(m-h)<=f;p&&(c.position.top=d._convertPositionTo("relative",{top:n,left:0}).top-d.margins.top),q&&(c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top),r&&(c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left),s&&(c.position.left=d._convertPositionTo("relative",{top:0,left:m-d.helperProportions.width}).left-d.margins.left)}!d.snapElements[k].snapping&&(p||q||r||s||t)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[k].item})),d.snapElements[k].snapping=p||q||r||s||t}}}),a.ui.plugin.add("draggable","stack",{start:function(b,c){var d=a(this).data("draggable").options,e=a.makeArray(a(d.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});if(!e.length){return}var f=parseInt(e[0].style.zIndex)||0;a(e).each(function(a){this.style.zIndex=f+a}),this[0].style.zIndex=f+e.length}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})})(jQuery);(function(a,b){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0,this.isout=1,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){var b=a.ui.ddmanager.droppables[this.options.scope];for(var c=0;c<b.length;c++){b[c]==this&&b.splice(c,1)}return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(b,c){b=="accept"&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0]){return}this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0]){return !1}var e=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"droppable");if(b.options.greedy&&!b.options.disabled&&b.options.scope==d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)){return e=!0,!1}}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.extend(a.ui.droppable,{version:"1.8.23"}),a.ui.intersect=function(b,c,d){if(!c.offset){return !1}var e=(b.positionAbs||b.position.absolute).left,f=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,h=g+b.helperProportions.height,i=c.offset.left,j=i+c.proportions.width,k=c.offset.top,l=k+c.proportions.height;switch(d){case"fit":return i<=e&&f<=j&&k<=g&&h<=l;case"intersect":return i<e+b.helperProportions.width/2&&f-b.helperProportions.width/2<j&&k<g+b.helperProportions.height/2&&h-b.helperProportions.height/2<l;case"pointer":var m=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,n=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,o=a.ui.isOver(n,m,k,i,c.proportions.height,c.proportions.width);return o;case"touch":return(g>=k&&g<=l||h>=k&&h<=l||g<k&&h>l)&&(e>=i&&e<=j||f>=i&&f<=j||e<i&&f>j);default:return !1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf();g:for(var h=0;h<d.length;h++){if(d[h].options.disabled||b&&!d[h].accept.call(d[h].element[0],b.currentItem||b.element)){continue}for(var i=0;i<f.length;i++){if(f[i]==d[h].element[0]){d[h].proportions.height=0;continue g}}d[h].visible=d[h].element.css("display")!="none";if(!d[h].visible){continue}e=="mousedown"&&d[h]._activate.call(d[h],c),d[h].offset=d[h].element.offset(),d[h].proportions={width:d[h].element[0].offsetWidth,height:d[h].element[0].offsetHeight}}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options){return}!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,c))}),d},dragStart:function(b,c){b.element.parents(":not(body,html)").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var d=a.ui.intersect(b,this,this.options.tolerance),e=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null;if(!e){return}var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");g.length&&(f=a.data(g[0],"droppable"),f.greedyChild=e=="isover"?1:0)}f&&e=="isover"&&(f.isover=0,f.isout=1,f._out.call(f,c)),this[e]=1,this[e=="isout"?"isover":"isout"]=0,this[e=="isover"?"_over":"_out"].call(this,c),f&&e=="isout"&&(f.isout=0,f.isover=1,f._over.call(f,c))})},dragStop:function(b,c){b.element.parents(":not(body,html)").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}})(jQuery);(function(a,b){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var b=this,c=this.options;this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!c.aspectRatio,aspectRatio:c.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:c.helper||c.ghost||c.animate?c.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=c.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var d=this.handles.split(",");this.handles={};for(var e=0;e<d.length;e++){var f=a.trim(d[e]),g="ui-resizable-"+f,h=a('<div class="ui-resizable-handle '+g+'"></div>');h.css({zIndex:c.zIndex}),"se"==f&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[f]=".ui-resizable-"+f,this.element.append(h)}}this._renderAxis=function(b){b=b||this.element;for(var c in this.handles){this.handles[c].constructor==String&&(this.handles[c]=a(this.handles[c],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var d=a(this.handles[c],this.element),e=0;e=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth();var f=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join("");b.css(f,e),this._proportionallyResize()}if(!a(this.handles[c]).length){continue}}},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!b.resizing){if(this.className){var a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}b.axis=a&&a[1]?a[1]:"se"}}),c.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").hover(function(){if(c.disabled){return}a(this).removeClass("ui-resizable-autohide"),b._handles.show()},function(){if(c.disabled){return}b.resizing||(a(this).addClass("ui-resizable-autohide"),b._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var c=this.element;c.after(this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(b){var c=!1;for(var d in this.handles){a(this.handles[d])[0]==b.target&&(c=!0)}return !this.options.disabled&&c},_mouseStart:function(b){var d=this.options,e=this.element.position(),f=this.element;this.resizing=!0,this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()},(f.is(".ui-draggable")||/absolute/.test(f.css("position")))&&f.css({position:"absolute",top:e.top,left:e.left}),this._renderProxy();var g=c(this.helper.css("left")),h=c(this.helper.css("top"));d.containment&&(g+=a(d.containment).scrollLeft()||0,h+=a(d.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:g,top:h},this.size=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalSize=this._helper?{width:f.outerWidth(),height:f.outerHeight()}:{width:f.width(),height:f.height()},this.originalPosition={left:g,top:h},this.sizeDiff={width:f.outerWidth()-f.width(),height:f.outerHeight()-f.height()},this.originalMousePosition={left:b.pageX,top:b.pageY},this.aspectRatio=typeof d.aspectRatio=="number"?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;var i=a(".ui-resizable-"+this.axis).css("cursor");return a("body").css("cursor",i=="auto"?this.axis+"-resize":i),f.addClass("ui-resizable-resizing"),this._propagate("start",b),!0},_mouseDrag:function(b){var c=this.helper,d=this.options,e={},f=this,g=this.originalMousePosition,h=this.axis,i=b.pageX-g.left||0,j=b.pageY-g.top||0,k=this._change[h];if(!k){return !1}var l=k.apply(this,[b,i,j]),m=a.browser.msie&&a.browser.version<7,n=this.sizeDiff;this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey){l=this._updateRatio(l,b)}return l=this._respectSize(l,b),this._propagate("resize",b),c.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",b,this.ui()),!1},_mouseStop:function(b){this.resizing=!1;var c=this.options,d=this;if(this._helper){var e=this._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:d.sizeDiff.height,h=f?0:d.sizeDiff.width,i={width:d.helper.width()-h,height:d.helper.height()-g},j=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,k=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;c.animate||this.element.css(a.extend(i,{top:k,left:j})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()}return a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b=this.options,c,e,f,g,h;h={minWidth:d(b.minWidth)?b.minWidth:0,maxWidth:d(b.maxWidth)?b.maxWidth:Infinity,minHeight:d(b.minHeight)?b.minHeight:0,maxHeight:d(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a){c=h.minHeight*this.aspectRatio,f=h.minWidth/this.aspectRatio,e=h.maxHeight*this.aspectRatio,g=h.maxWidth/this.aspectRatio,c>h.minWidth&&(h.minWidth=c),f>h.minHeight&&(h.minHeight=f),e<h.maxWidth&&(h.maxWidth=e),g<h.maxHeight&&(h.maxHeight=g)}this._vBoundaries=h},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),d(a.left)&&(this.position.left=a.left),d(a.top)&&(this.position.top=a.top),d(a.height)&&(this.size.height=a.height),d(a.width)&&(this.size.width=a.width)},_updateRatio:function(a,b){var c=this.options,e=this.position,f=this.size,g=this.axis;return d(a.height)?a.width=a.height*this.aspectRatio:d(a.width)&&(a.height=a.width/this.aspectRatio),g=="sw"&&(a.left=e.left+(f.width-a.width),a.top=null),g=="nw"&&(a.top=e.top+(f.height-a.height),a.left=e.left+(f.width-a.width)),a},_respectSize:function(a,b){var c=this.helper,e=this._vBoundaries,f=this._aspectRatio||b.shiftKey,g=this.axis,h=d(a.width)&&e.maxWidth&&e.maxWidth<a.width,i=d(a.height)&&e.maxHeight&&e.maxHeight<a.height,j=d(a.width)&&e.minWidth&&e.minWidth>a.width,k=d(a.height)&&e.minHeight&&e.minHeight>a.height;j&&(a.width=e.minWidth),k&&(a.height=e.minHeight),h&&(a.width=e.maxWidth),i&&(a.height=e.maxHeight);var l=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height,n=/sw|nw|w/.test(g),o=/nw|ne|n/.test(g);j&&n&&(a.left=l-e.minWidth),h&&n&&(a.left=l-e.maxWidth),k&&o&&(a.top=m-e.minHeight),i&&o&&(a.top=m-e.maxHeight);var p=!a.width&&!a.height;return p&&!a.left&&a.top?a.top=null:p&&!a.top&&a.left&&(a.left=null),a},_proportionallyResize:function(){var b=this.options;if(!this._proportionallyResizeElements.length){return}var c=this.helper||this.element;for(var d=0;d<this._proportionallyResizeElements.length;d++){var e=this._proportionallyResizeElements[d];if(!this.borderDif){var f=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],g=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];this.borderDif=a.map(f,function(a,b){var c=parseInt(a,10)||0,d=parseInt(g[b],10)||0;return c+d})}if(!a.browser.msie||!a(c).is(":hidden")&&!a(c).parents(":hidden").length){e.css({height:c.height()-this.borderDif[0]-this.borderDif[2]||0,width:c.width()-this.borderDif[1]-this.borderDif[3]||0})}else{continue}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var d=a.browser.msie&&a.browser.version<7,e=d?1:0,f=d?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+f,height:this.element.outerHeight()+f,position:"absolute",left:this.elementOffset.left-e+"px",top:this.elementOffset.top-e+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(a,b,c){return{width:this.originalSize.width+b}},w:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{left:f.left+b,width:e.width-b}},n:function(a,b,c){var d=this.options,e=this.originalSize,f=this.originalPosition;return{top:f.top+c,height:e.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),b!="resize"&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.extend(a.ui.resizable,{version:"1.8.23"}),a.ui.plugin.add("resizable","alsoResize",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=function(b){a(b).each(function(){var b=a(this);b.data("resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};typeof e.alsoResize=="object"&&!e.alsoResize.parentNode?e.alsoResize.length?(e.alsoResize=e.alsoResize[0],f(e.alsoResize)):a.each(e.alsoResize,function(a){f(a)}):f(e.alsoResize)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(a,b){i(a,b)}):i(e.alsoResize)},stop:function(b,c){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","animate",{stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d._proportionallyResizeElements,g=f.length&&/textarea/i.test(f[0].nodeName),h=g&&a.ui.hasScroll(f[0],"left")?0:d.sizeDiff.height,i=g?0:d.sizeDiff.width,j={width:d.size.width-i,height:d.size.height-h},k=parseInt(d.element.css("left"),10)+(d.position.left-d.originalPosition.left)||null,l=parseInt(d.element.css("top"),10)+(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(j,l&&k?{top:l,left:k}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var c={width:parseInt(d.element.css("width"),10),height:parseInt(d.element.css("height"),10),top:parseInt(d.element.css("top"),10),left:parseInt(d.element.css("left"),10)};f&&f.length&&a(f[0]).css({width:c.width,height:c.height}),d._updateCache(c),d._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(b,d){var e=a(this).data("resizable"),f=e.options,g=e.element,h=f.containment,i=h instanceof a?h.get(0):/parent/.test(h)?g.parent().get(0):h;if(!i){return}e.containerElement=a(i);if(/document/.test(h)||h==document){e.containerOffset={left:0,top:0},e.containerPosition={left:0,top:0},e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var j=a(i),k=[];a(["Top","Right","Left","Bottom"]).each(function(a,b){k[a]=c(j.css("padding"+b))}),e.containerOffset=j.offset(),e.containerPosition=j.position(),e.containerSize={height:j.innerHeight()-k[3],width:j.innerWidth()-k[1]};var l=e.containerOffset,m=e.containerSize.height,n=e.containerSize.width,o=a.ui.hasScroll(i,"left")?i.scrollWidth:n,p=a.ui.hasScroll(i)?i.scrollHeight:m;e.parentData={element:i,left:l.left,top:l.top,width:o,height:p}}},resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.containerSize,g=d.containerOffset,h=d.size,i=d.position,j=d._aspectRatio||b.shiftKey,k={top:0,left:0},l=d.containerElement;l[0]!=document&&/static/.test(l.css("position"))&&(k=g),i.left<(d._helper?g.left:0)&&(d.size.width=d.size.width+(d._helper?d.position.left-g.left:d.position.left-k.left),j&&(d.size.height=d.size.width/d.aspectRatio),d.position.left=e.helper?g.left:0),i.top<(d._helper?g.top:0)&&(d.size.height=d.size.height+(d._helper?d.position.top-g.top:d.position.top),j&&(d.size.width=d.size.height*d.aspectRatio),d.position.top=d._helper?g.top:0),d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top;var m=Math.abs((d._helper?d.offset.left-k.left:d.offset.left-k.left)+d.sizeDiff.width),n=Math.abs((d._helper?d.offset.top-k.top:d.offset.top-g.top)+d.sizeDiff.height),o=d.containerElement.get(0)==d.element.parent().get(0),p=/relative|absolute/.test(d.containerElement.css("position"));o&&p&&(m-=d.parentData.left),m+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-m,j&&(d.size.height=d.size.width/d.aspectRatio)),n+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-n,j&&(d.size.width=d.size.height*d.aspectRatio))},stop:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.position,g=d.containerOffset,h=d.containerPosition,i=d.containerElement,j=a(d.helper),k=j.offset(),l=j.outerWidth()-d.sizeDiff.width,m=j.outerHeight()-d.sizeDiff.height;d._helper&&!e.animate&&/relative/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m}),d._helper&&!e.animate&&/static/.test(i.css("position"))&&a(this).css({left:k.left-h.left-g.left,width:l,height:m})}}),a.ui.plugin.add("resizable","ghost",{start:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:0.25,display:"block",position:"relative",height:f.height,width:f.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:""),d.ghost.appendTo(d.helper)},resize:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.ghost.css({position:"relative",height:d.size.height,width:d.size.width})},stop:function(b,c){var d=a(this).data("resizable"),e=d.options;d.ghost&&d.helper&&d.helper.get(0).removeChild(d.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(b,c){var d=a(this).data("resizable"),e=d.options,f=d.size,g=d.originalSize,h=d.originalPosition,i=d.axis,j=e._aspectRatio||b.shiftKey;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var k=Math.round((f.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1),l=Math.round((f.height-g.height)/(e.grid[1]||1))*(e.grid[1]||1);/^(se|s|e)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l):/^(ne)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l):/^(sw)$/.test(i)?(d.size.width=g.width+k,d.size.height=g.height+l,d.position.left=h.left-k):(d.size.width=g.width+k,d.size.height=g.height+l,d.position.top=h.top-l,d.position.left=h.left-k)}});var c=function(a){return parseInt(a,10)||0},d=function(a){return !isNaN(parseInt(a,10))}})(jQuery);(function(a,b){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]),c.addClass("ui-selectee"),c.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=c.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){return this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable"),this._mouseDestroy(),this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,b.pageY];if(this.options.disabled){return}var d=this.options;this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,!b.metaKey&&!b.ctrlKey&&(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().andSelf().each(function(){var d=a.data(this,"selectable-item");if(d){var e=!b.metaKey&&!b.ctrlKey||!d.$element.hasClass("ui-selected");return d.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),d.unselecting=!e,d.selecting=e,d.selected=e,e?c._trigger("selecting",b,{selecting:d.element}):c._trigger("unselecting",b,{unselecting:d.element}),!1}})},_mouseDrag:function(b){var c=this;this.dragged=!0;if(this.options.disabled){return}var d=this.options,e=this.opos[0],f=this.opos[1],g=b.pageX,h=b.pageY;if(e>g){var i=g;g=e,e=i}if(f>h){var i=h;h=f,f=i}return this.helper.css({left:e,top:f,width:g-e,height:h-f}),this.selectees.each(function(){var i=a.data(this,"selectable-item");if(!i||i.element==c.element[0]){return}var j=!1;d.tolerance=="touch"?j=!(i.left>g||i.right<e||i.top>h||i.bottom<f):d.tolerance=="fit"&&(j=i.left>e&&i.right<g&&i.top>f&&i.bottom<h),j?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,c._trigger("selecting",b,{selecting:i.element}))):(i.selecting&&((b.metaKey||b.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),c._trigger("unselecting",b,{unselecting:i.element}))),i.selected&&!b.metaKey&&!b.ctrlKey&&!i.startselected&&(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,c._trigger("unselecting",b,{unselecting:i.element})))}),!1},_mouseStop:function(b){var c=this;this.dragged=!1;var d=this.options;return a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}}),a.extend(a.ui.selectable,{version:"1.8.23"})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){a.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--){this.items[b].item.removeData(this.widgetName+"-item")}return this},_setOption:function(b,c){b==="disabled"?(this.options[b]=c,this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(b);var e=null,f=this,g=a(b.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==f){return e=a(this),!1}});a.data(b.target,d.widgetName+"-item")==f&&(e=a(b.target));if(!e){return !1}if(this.options.handle&&!c){var h=!1;a(this.options.handle,e).find("*").andSelf().each(function(){this==b.target&&(h=!0)});if(!h){return !1}}return this.currentItem=e,this._removeCurrentsFromItems(),!0},_mouseStart:function(b,c,d){var e=this.options,f=this;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),e.containment&&this._setContainment(),e.cursor&&(a("body").css("cursor")&&(this._storedCursor=a("body").css("cursor")),a("body").css("cursor",e.cursor)),e.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",e.opacity)),e.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",e.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!d){for(var g=this.containers.length-1;g>=0;g--){this.containers[g]._trigger("activate",b,f._uiHash(this))}}return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var c=this.options,d=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity?this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop+c.scrollSpeed:b.pageY-this.overflowOffset.top<c.scrollSensitivity&&(this.scrollParent[0].scrollTop=d=this.scrollParent[0].scrollTop-c.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity?this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft+c.scrollSpeed:b.pageX-this.overflowOffset.left<c.scrollSensitivity&&(this.scrollParent[0].scrollLeft=d=this.scrollParent[0].scrollLeft-c.scrollSpeed)):(b.pageY-a(document).scrollTop()<c.scrollSensitivity?d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity&&(d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed)),b.pageX-a(document).scrollLeft()<c.scrollSensitivity?d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity&&(d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed))),d!==!1&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],g=f.item[0],h=this._intersectsWithPointer(f);if(!h){continue}if(g!=this.currentItem[0]&&this.placeholder[h==1?"next":"prev"]()[0]!=g&&!a.ui.contains(this.placeholder[0],g)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],g):!0)){this.direction=h==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f)){this._rearrange(b,f)}else{break}this._trigger("change",b,this._uiHash());break}}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(!b){return}a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var d=this,e=d.placeholder.offset();d.reverting=!0,a(this.helper).animate({left:e.left-this.offset.parent.left-d.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:e.top-this.offset.parent.top-d.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else{this._clear(b,c)}return !1},cancel:function(){var b=this;if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,b._uiHash(this)),this.containers[c].containerCache.over&&(this.containers[c]._trigger("out",null,b._uiHash(this)),this.containers[c].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l=d+j>h&&d+j<i&&b+k>f&&b+k<g;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?l:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(b){var c=this.options.axis==="x"||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height),d=this.options.axis==="y"||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&g=="right"||f=="down"?2:1:f&&(f=="down"?2:1):!1},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height),d=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?f=="right"&&d||f=="left"&&!d:e&&(e=="down"&&c||e=="up"&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c=this,d=[],e=[],f=this._connectWith();if(f&&b){for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&e.push([a.isFunction(j.options.items)?j.options.items.call(j.element):a(j.options.items,j.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),j])}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var g=e.length-1;g>=0;g--){e[g][0].each(function(){d.push(this)})}return a(d)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");for(var b=0;b<this.items.length;b++){for(var c=0;c<a.length;c++){a[c]==this.items[b].item[0]&&this.items.splice(b,1)}}},_refreshItems:function(b){this.items=[],this.containers=[this];var c=this.items,d=this,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(var g=f.length-1;g>=0;g--){var h=a(f[g]);for(var i=h.length-1;i>=0;i--){var j=a.data(h[i],this.widgetName);j&&j!=this&&!j.options.disabled&&(e.push([a.isFunction(j.options.items)?j.options.items.call(j.element[0],b,{item:this.currentItem}):a(j.options.items,j.element),j]),this.containers.push(j))}}}for(var g=e.length-1;g>=0;g--){var k=e[g][1],l=e[g][0];for(var i=0,m=l.length;i<m;i++){var n=a(l[i]);n.data(this.widgetName+"-item",k),c.push({item:n,instance:k,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var c=this.items.length-1;c>=0;c--){var d=this.items[c];if(d.instance!=this.currentContainer&&this.currentContainer&&d.item[0]!=this.currentItem[0]){continue}var e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item;b||(d.width=e.outerWidth(),d.height=e.outerHeight());var f=e.offset();d.left=f.left,d.top=f.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var c=this.containers.length-1;c>=0;c--){var f=this.containers[c].element.offset();this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}}return this},_createPlaceholder:function(b){var c=b||this,d=c.options;if(!d.placeholder||d.placeholder.constructor==String){var e=d.placeholder;d.placeholder={element:function(){var b=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return e||(b.style.visibility="hidden"),b},update:function(a,b){if(e&&!d.forcePlaceholderSize){return}b.height()||b.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10)),b.width()||b.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}c.placeholder=a(d.placeholder.element.call(c.element,c.currentItem)),c.currentItem.after(c.placeholder),d.placeholder.update(c,c.placeholder)},_contactContainers:function(b){var c=null,d=null;for(var e=this.containers.length-1;e>=0;e--){if(a.ui.contains(this.currentItem[0],this.containers[e].element[0])){continue}if(this._intersectsWith(this.containers[e].containerCache)){if(c&&a.ui.contains(this.containers[e].element[0],c.element[0])){continue}c=this.containers[e],d=e}else{this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",b,this._uiHash(this)),this.containers[e].containerCache.over=0)}}if(!c){return}if(this.containers.length===1){this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}else{if(this.currentContainer!=this.containers[d]){var f=10000,g=null,h=this.positionAbs[this.containers[d].floating?"left":"top"];for(var i=this.items.length-1;i>=0;i--){if(!a.ui.contains(this.containers[d].element[0],this.items[i].item[0])){continue}var j=this.containers[d].floating?this.items[i].item.offset().left:this.items[i].item.offset().top;Math.abs(j-h)<f&&(f=Math.abs(j-h),g=this.items[i],this.direction=j-h>0?"down":"up")}if(!g&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[d],g?this._rearrange(b,g,null,!0):this._rearrange(b,null,this.containers[d].element,!0),this._trigger("change",b,this._uiHash()),this.containers[d]._trigger("change",b,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",b,this._uiHash(this)),this.containers[d].containerCache.over=1}}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;return d.parents("body").length||a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(d[0].style.width==""||c.forceHelperSize)&&d.width(this.currentItem.width()),(d[0].style.height==""||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){typeof b=="string"&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left" in b&&(this.offset.click.left=b.left+this.margins.left),"right" in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top" in b&&(this.offset.click.top=b.top+this.margins.top),"bottom" in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie){b={top:0,left:0}}return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;b.containment=="parent"&&(b.containment=this.helper[0].parentNode);if(b.containment=="document"||b.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0],d=a(b.containment).offset(),e=a(c).css("overflow")!="hidden";this.containment=[d.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,d.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,d.left+(e?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,d.top+(e?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){c||(c=this.position);var d=b=="absolute"?1:-1,e=this.options,f=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():g?0:f.scrollTop())*d),left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:f.scrollLeft())*d)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&(this.scrollParent[0]==document||!a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var f=b.pageX,g=b.pageY;if(this.originalPosition){this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top));if(c.grid){var h=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?h-this.offset.click.top<this.containment[1]||h-this.offset.click.top>this.containment[3]?h-this.offset.click.top<this.containment[1]?h+c.grid[1]:h-c.grid[1]:h:h;var i=this.originalPageX+Math.round((f-this.originalPageX)/c.grid[0])*c.grid[0];f=this.containment?i-this.offset.click.left<this.containment[0]||i-this.offset.click.left>this.containment[2]?i-this.offset.click.left<this.containment[0]?i+c.grid[0]:i-c.grid[0]:i:i}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this,f=this.counter;window.setTimeout(function(){f==e.counter&&e.refreshPositions(!d)},0)},_clear:function(b,c){this.reverting=!1;var d=[],e=this;!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var f in this._storedCSS){if(this._storedCSS[f]=="auto"||this._storedCSS[f]=="static"){this._storedCSS[f]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!c&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c&&d.push(function(a){this._trigger("update",a,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||d.push(function(a){this._trigger("remove",a,this._uiHash())});for(var f=this.containers.length-1;f>=0;f--){a.ui.contains(this.containers[f].element[0],this.currentItem[0])&&!c&&(d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.containers[f])),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.containers[f])))}}for(var f=this.containers.length-1;f>=0;f--){c||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[f])),this.containers[f].containerCache.over=0)}this._storedCursor&&a("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(var f=0;f<d.length;f++){d[f].call(this,b)}this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!1}c||this._trigger("beforeStop",b,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!c){for(var f=0;f<d.length;f++){d[f].call(this,b)}this._trigger("stop",b,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}}),a.extend(a.ui.sortable,{version:"1.8.23"})})(jQuery);(function(a,b){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0,b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),b.headers=b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(c.disabled){return}a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){if(c.disabled){return}a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){if(c.disabled){return}a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){if(c.disabled){return}a(this).removeClass("ui-state-focus")}),b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(c.navigation){var d=b.element.find("a").filter(c.navigationFilter).eq(0);if(d.length){var e=d.closest(".ui-accordion-header");e.length?b.active=e:b.active=d.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),b.active.next().addClass("ui-accordion-content-active"),b._createIcons(),b.resize(),b.element.attr("role","tablist"),b.headers.attr("role","tab").bind("keydown.accordion",function(a){return b._keydown(a)}).next().attr("role","tabpanel"),b.headers.not(b.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),b.active.length?b.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0),a.browser.safari||b.headers.find("a").attr("tabIndex",-1),c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(a){b._clickHandler.call(b,a,this),a.preventDefault()})},_createIcons:function(){var b=this.options;b.icons&&(a("<span></span>").addClass("ui-icon "+b.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(b.autoHeight||b.fillHeight)&&c.css("height",""),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b=="active"&&this.activate(c),b=="icons"&&(this._destroyIcons(),c&&this._createIcons()),b=="disabled"&&this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(this.options.disabled||b.altKey||b.ctrlKey){return}var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target),b.preventDefault()}return f?(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),!1):!0},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var d=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height(),a.browser.msie&&this.element.parent().css("overflow",d),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else{b.autoHeight&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c))}return this},activate:function(a){this.options.active=a;var b=this._findActive(a)[0];return this._clickHandler({target:b},b),this},_findActive:function(b){return b?typeof b=="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===!1?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var d=this.options;if(d.disabled){return}if(!b.target){if(!d.collapsible){return}this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),f={options:d,newHeader:a([]),oldHeader:d.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,f);return}var h=a(b.currentTarget||c),i=h[0]===this.active[0];d.active=d.collapsible&&i?!1:this.headers.index(h);if(this.running||!d.collapsible&&i){return}var j=this.active,g=h.next(),e=this.active.next(),f={options:d,newHeader:i&&d.collapsible?a([]):h,oldHeader:this.active,newContent:i&&d.collapsible?a([]):g,oldContent:e},k=this.headers.index(this.active[0])>this.headers.index(h[0]);this.active=i?a([]):h,this._toggle(g,e,f,i,k),j.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(d.icons.headerSelected).addClass(d.icons.header),i||(h.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(d.icons.header).addClass(d.icons.headerSelected),h.next().addClass("ui-accordion-content-active"));return},_toggle:function(b,c,d,e,f){var g=this,h=g.options;g.toShow=b,g.toHide=c,g.data=d;var i=function(){if(!g){return}return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data),g.running=c.size()===0?b.size():c.size();if(h.animated){var j={};h.collapsible&&e?j={toShow:a([]),toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace}:j={toShow:b,toHide:c,complete:i,down:f,autoHeight:h.autoHeight||h.fillSpace},h.proxied||(h.proxied=h.animated),h.proxiedDuration||(h.proxiedDuration=h.duration),h.animated=a.isFunction(h.proxied)?h.proxied(j):h.proxied,h.duration=a.isFunction(h.proxiedDuration)?h.proxiedDuration(j):h.proxiedDuration;var k=a.ui.accordion.animations,l=h.duration,m=h.animated;m&&!k[m]&&!a.easing[m]&&(m="slide"),k[m]||(k[m]=function(a){this.slide(a,{easing:m,duration:l||700})}),k[m](j)}else{h.collapsible&&e?b.toggle():(c.hide(),b.show()),i(!0)}c.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),b.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(a){this.running=a?0:--this.running;if(this.running){return}this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data)}}),a.extend(a.ui.accordion,{version:"1.8.23",animations:{slide:function(b,c){b=a.extend({easing:"swing",duration:300},b,c);if(!b.toHide.size()){b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b);return}if(!b.toShow.size()){b.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},b);return}var d=b.toShow.css("overflow"),e=0,f={},g={},h=["height","paddingTop","paddingBottom"],i,j=b.toShow;i=j[0].style.width,j.width(j.parent().width()-parseFloat(j.css("paddingLeft"))-parseFloat(j.css("paddingRight"))-(parseFloat(j.css("borderLeftWidth"))||0)-(parseFloat(j.css("borderRightWidth"))||0)),a.each(h,function(c,d){g[d]="hide";var e=(""+a.css(b.toShow[0],d)).match(/^([\d+-.]+)(.*)$/);f[d]={value:e[1],unit:e[2]||"px"}}),b.toShow.css({height:0,overflow:"hidden"}).show(),b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(a,c){c.prop=="height"&&(e=c.end-c.start===0?0:(c.now-c.start)/(c.end-c.start)),b.toShow[0].style[c.prop]=e*f[c.prop].value+f[c.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height",""),b.toShow.css({width:i,overflow:d}),b.complete()}})},bounceslide:function(a){this.slide(a,{easing:a.down?"easeOutBounce":"swing",duration:a.down?1000:200})}}})})(jQuery);(function(a,b){var c=0;a.widget("ui.autocomplete",{options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var b=this,c=this.element[0].ownerDocument,d;this.isMultiLine=this.element.is("textarea"),this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(c){if(b.options.disabled||b.element.propAttr("readOnly")){return}d=!1;var e=a.ui.keyCode;switch(c.keyCode){case e.PAGE_UP:b._move("previousPage",c);break;case e.PAGE_DOWN:b._move("nextPage",c);break;case e.UP:b._keyEvent("previous",c);break;case e.DOWN:b._keyEvent("next",c);break;case e.ENTER:case e.NUMPAD_ENTER:b.menu.active&&(d=!0,c.preventDefault());case e.TAB:if(!b.menu.active){return}b.menu.select(c);break;case e.ESCAPE:b.element.val(b.term),b.close(c);break;default:clearTimeout(b.searching),b.searching=setTimeout(function(){b.term!=b.element.val()&&(b.selectedItem=null,b.search(null,c))},b.options.delay)}}).bind("keypress.autocomplete",function(a){d&&(d=!1,a.preventDefault())}).bind("focus.autocomplete",function(){if(b.options.disabled){return}b.selectedItem=null,b.previous=b.element.val()}).bind("blur.autocomplete",function(a){if(b.options.disabled){return}clearTimeout(b.searching),b.closing=setTimeout(function(){b.close(a),b._change(a)},150)}),this._initSource(),this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(c){var d=b.menu.element[0];a(c.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(c){c.target!==b.element[0]&&c.target!==d&&!a.ui.contains(d,c.target)&&b.close()})},1),setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(a,c){var d=c.item.data("item.autocomplete");!1!==b._trigger("focus",a,{item:d})&&/^key/.test(a.originalEvent.type)&&b.element.val(d.value)},selected:function(a,d){var e=d.item.data("item.autocomplete"),f=b.previous;b.element[0]!==c.activeElement&&(b.element.focus(),b.previous=f,setTimeout(function(){b.previous=f,b.selectedItem=e},1)),!1!==b._trigger("select",a,{item:e})&&b.element.val(e.value),b.term=b.element.val(),b.close(a),b.selectedItem=e},blur:function(a,c){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu"),a.fn.bgiframe&&this.menu.element.bgiframe(),b.beforeunloadHandler=function(){b.element.removeAttr("autocomplete")},a(window).bind("beforeunload",b.beforeunloadHandler)},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup"),this.menu.element.remove(),a(window).unbind("beforeunload",this.beforeunloadHandler),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments),b==="source"&&this._initSource(),b==="appendTo"&&this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0]),b==="disabled"&&c&&this.xhr&&this.xhr.abort()},_initSource:function(){var b=this,c,d;a.isArray(this.options.source)?(c=this.options.source,this.source=function(b,d){d(a.ui.autocomplete.filter(c,b.term))}):typeof this.options.source=="string"?(d=this.options.source,this.source=function(c,e){b.xhr&&b.xhr.abort(),b.xhr=a.ajax({url:d,data:c,dataType:"json",success:function(a,b){e(a)},error:function(){e([])}})}):this.source=this.options.source},search:function(a,b){a=a!=null?a:this.element.val(),this.term=this.element.val();if(a.length<this.options.minLength){return this.close(b)}clearTimeout(this.closing);if(this._trigger("search",b)===!1){return}return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.source({term:a},this._response())},_response:function(){var a=this,b=++c;return function(d){b===c&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){!this.options.disabled&&a&&a.length?(a=this._normalize(a),this._suggest(a),this._trigger("open")):this.close()},close:function(a){clearTimeout(this.closing),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.deactivate(),this._trigger("close",a))},_change:function(a){this.previous!==this.element.val()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return typeof b=="string"?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(c,b),this.menu.deactivate(),this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(new a.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItem(b,c)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this.element.val(this.term),this.menu.deactivate();return}this.menu[a](b)},widget:function(){return this.menu.element},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b),b.preventDefault()}}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}})})(jQuery),function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(!a(c.target).closest(".ui-menu-item a").length){return}c.preventDefault(),b.select(c)}),this.refresh()},refresh:function(){var b=this,c=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");c.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(a,b){this.deactivate();if(this.hasScroll()){var c=b.offset().top-this.element.offset().top,d=this.element.scrollTop(),e=this.element.height();c<0?this.element.scrollTop(d+c):c>=e&&this.element.scrollTop(d+c-e+b.height())}this.active=b.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end(),this._trigger("focus",a,{item:b})},deactivate:function(){if(!this.active){return}this.active.children("a").removeClass("ui-state-hover").removeAttr("id"),this._trigger("blur"),this.active=null},next:function(a){this.move("next",".ui-menu-item:first",a)},previous:function(a){this.move("prev",".ui-menu-item:last",a)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(a,b,c){if(!this.active){this.activate(c,this.element.children(b));return}var d=this.active[a+"All"](".ui-menu-item").eq(0);d.length?this.activate(c,d):this.activate(c,this.element.children(b))},nextPage:function(b){if(this.hasScroll()){if(!this.active||this.last()){this.activate(b,this.element.children(".ui-menu-item:first"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c-d+a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:last")),this.activate(b,e)}else{this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))}},previousPage:function(b){if(this.hasScroll()){if(!this.active||this.first()){this.activate(b,this.element.children(".ui-menu-item:last"));return}var c=this.active.offset().top,d=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var b=a(this).offset().top-c+d-a(this).height();return b<10&&b>-10});e.length||(e=this.element.children(".ui-menu-item:first")),this.activate(b,e)}else{this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))}},hasScroll:function(){return this.element.height()<this.element[a.fn.prop?"prop":"attr"]("scrollHeight")},select:function(a){this._trigger("selected",a,{item:this.active})}})}(jQuery);(function(a,b){var c,d,e,f,g="ui-button ui-widget ui-state-default ui-corner-all",h="ui-state-hover ui-state-active ",i="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var b=a(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},k=function(b){var c=b.name,d=b.form,e=a([]);return c&&(d?e=a(d).find("[name='"+c+"']"):e=a("[name='"+c+"']",b.ownerDocument).filter(function(){return !this.form})),e};a.widget("ui.button",{options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",j),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.propAttr("disabled"):this.element.propAttr("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,h=this.options,i=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(i?"":" ui-state-active"),m="ui-state-focus";h.label===null&&(h.label=this.buttonElement.html()),this.buttonElement.addClass(g).attr("role","button").bind("mouseenter.button",function(){if(h.disabled){return}a(this).addClass("ui-state-hover"),this===c&&a(this).addClass("ui-state-active")}).bind("mouseleave.button",function(){if(h.disabled){return}a(this).removeClass(l)}).bind("click.button",function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus.button",function(){b.buttonElement.addClass(m)}).bind("blur.button",function(){b.buttonElement.removeClass(m)}),i&&(this.element.bind("change.button",function(){if(f){return}b.refresh()}),this.buttonElement.bind("mousedown.button",function(a){if(h.disabled){return}f=!1,d=a.pageX,e=a.pageY}).bind("mouseup.button",function(a){if(h.disabled){return}if(d!==a.pageX||e!==a.pageY){f=!0}})),this.type==="checkbox"?this.buttonElement.bind("click.button",function(){if(h.disabled||f){return !1}a(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click.button",function(){if(h.disabled||f){return !1}a(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var c=b.element[0];k(c).not(c).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown.button",function(){if(h.disabled){return !1}a(this).addClass("ui-state-active"),c=this,a(document).one("mouseup",function(){c=null})}).bind("mouseup.button",function(){if(h.disabled){return !1}a(this).removeClass("ui-state-active")}).bind("keydown.button",function(b){if(h.disabled){return !1}(b.keyCode==a.ui.keyCode.SPACE||b.keyCode==a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){this.element.is(":checkbox")?this.type="checkbox":this.element.is(":radio")?this.type="radio":this.element.is("input")?this.type="input":this.type="button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().filter(":last"),b="label[for='"+this.element.attr("id")+"']";this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible");var c=this.element.is(":checked");c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.attr("aria-pressed",c)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(g+" "+h+" "+i).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title"),a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);if(b==="disabled"){c?this.element.propAttr("disabled",!0):this.element.propAttr("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is(":disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?k(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var b=this.buttonElement.removeClass(i),c=a("<span></span>",this.element[0].ownerDocument).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",c))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(b,c){b==="disabled"&&this.buttons.button("option",b,c),a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy"),a.Widget.prototype.destroy.call(this)}})})(jQuery);(function(a,b){var c="ui-dialog ui-widget ui-widget-content ui-corner-all ",d={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},e={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",collision:"fit",using:function(b){var c=a(this).css(b).offset().top;c<0&&a(this).css("top",b.top-c)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.options.title=this.options.title||this.originalTitle;var b=this,d=b.options,e=d.title||"&#160;",f=a.ui.dialog.getTitleId(b.element),g=(b.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass(c+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",-1).css("outline",0).keydown(function(c){d.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}).attr({role:"dialog","aria-labelledby":f}).mousedown(function(a){b.moveToTop(!1,a)}),h=b.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g),i=(b.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(g),j=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role","button").hover(function(){j.addClass("ui-state-hover")},function(){j.removeClass("ui-state-hover")}).focus(function(){j.addClass("ui-state-focus")}).blur(function(){j.removeClass("ui-state-focus")}).click(function(a){return b.close(a),!1}).appendTo(i),k=(b.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(j),l=a("<span></span>").addClass("ui-dialog-title").attr("id",f).html(e).prependTo(i);a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose)&&(d.beforeClose=d.beforeclose),i.find("*").add(i).disableSelection(),d.draggable&&a.fn.draggable&&b._makeDraggable(),d.resizable&&a.fn.resizable&&b._makeResizable(),b._createButtons(d.buttons),b._isOpen=!1,a.fn.bgiframe&&g.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){var a=this;return a.overlay&&a.overlay.destroy(),a.uiDialog.hide(),a.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),a.uiDialog.remove(),a.originalTitle&&a.element.attr("title",a.originalTitle),a},widget:function(){return this.uiDialog},close:function(b){var c=this,d,e;if(!1===c._trigger("beforeClose",b)){return}return c.overlay&&c.overlay.destroy(),c.uiDialog.unbind("keypress.ui-dialog"),c._isOpen=!1,c.options.hide?c.uiDialog.hide(c.options.hide,function(){c._trigger("close",b)}):(c.uiDialog.hide(),c._trigger("close",b)),a.ui.dialog.overlay.resize(),c.options.modal&&(d=0,a(".ui-dialog").each(function(){this!==c.uiDialog[0]&&(e=a(this).css("z-index"),isNaN(e)||(d=Math.max(d,e)))}),a.ui.dialog.maxZ=d),c},isOpen:function(){return this._isOpen},moveToTop:function(b,c){var d=this,e=d.options,f;return e.modal&&!b||!e.stack&&!e.modal?d._trigger("focus",c):(e.zIndex>a.ui.dialog.maxZ&&(a.ui.dialog.maxZ=e.zIndex),d.overlay&&(a.ui.dialog.maxZ+=1,d.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)),f={scrollTop:d.element.scrollTop(),scrollLeft:d.element.scrollLeft()},a.ui.dialog.maxZ+=1,d.uiDialog.css("z-index",a.ui.dialog.maxZ),d.element.attr(f),d._trigger("focus",c),d)},open:function(){if(this._isOpen){return}var b=this,c=b.options,d=b.uiDialog;return b.overlay=c.modal?new a.ui.dialog.overlay(b):null,b._size(),b._position(c.position),d.show(c.show),b.moveToTop(!0),c.modal&&d.bind("keydown.ui-dialog",function(b){if(b.keyCode!==a.ui.keyCode.TAB){return}var c=a(":tabbable",this),d=c.filter(":first"),e=c.filter(":last");if(b.target===e[0]&&!b.shiftKey){return d.focus(1),!1}if(b.target===d[0]&&b.shiftKey){return e.focus(1),!1}}),a(b.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus(),b._isOpen=!0,b._trigger("open"),b},_createButtons:function(b){var c=this,d=!1,e=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),f=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(e);c.uiDialog.find(".ui-dialog-buttonpane").remove(),typeof b=="object"&&b!==null&&a.each(b,function(){return !(d=!0)}),d&&(a.each(b,function(b,d){d=a.isFunction(d)?{click:d,text:b}:d;var e=a('<button type="button"></button>').click(function(){d.click.apply(c.element[0],arguments)}).appendTo(f);a.each(d,function(a,b){if(a==="click"){return}a in e?e[a](b):e.attr(a,b)}),a.fn.button&&e.button()}),e.appendTo(c.uiDialog))},_makeDraggable:function(){function f(a){return{position:a.position,offset:a.offset}}var b=this,c=b.options,d=a(document),e;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,g){e=c.height==="auto"?"auto":a(this).height(),a(this).height(a(this).height()).addClass("ui-dialog-dragging"),b._trigger("dragStart",d,f(g))},drag:function(a,c){b._trigger("drag",a,f(c))},stop:function(g,h){c.position=[h.position.left-d.scrollLeft(),h.position.top-d.scrollTop()],a(this).removeClass("ui-dialog-dragging").height(e),b._trigger("dragStop",g,f(h)),a.ui.dialog.overlay.resize()}})},_makeResizable:function(c){function h(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}c=c===b?this.options.resizable:c;var d=this,e=d.options,f=d.uiDialog.css("position"),g=typeof c=="string"?c:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:g,start:function(b,c){a(this).addClass("ui-dialog-resizing"),d._trigger("resizeStart",b,h(c))},resize:function(a,b){d._trigger("resize",a,h(b))},stop:function(b,c){a(this).removeClass("ui-dialog-resizing"),e.height=a(this).height(),e.width=a(this).width(),d._trigger("resizeStop",b,h(c)),a.ui.dialog.overlay.resize()}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(b){var c=[],d=[0,0],e;if(b){if(typeof b=="string"||typeof b=="object"&&"0" in b){c=b.split?b.split(" "):[b[0],b[1]],c.length===1&&(c[1]=c[0]),a.each(["left","top"],function(a,b){+c[a]===c[a]&&(d[a]=c[a],c[a]=b)}),b={my:c.join(" "),at:c.join(" "),offset:d.join(" ")}}b=a.extend({},a.ui.dialog.prototype.options.position,b)}else{b=a.ui.dialog.prototype.options.position}e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.css({top:0,left:0}).position(a.extend({of:window},b)),e||this.uiDialog.hide()},_setOptions:function(b){var c=this,f={},g=!1;a.each(b,function(a,b){c._setOption(a,b),a in d&&(g=!0),a in e&&(f[a]=b)}),g&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",f)},_setOption:function(b,d){var e=this,f=e.uiDialog;switch(b){case"beforeclose":b="beforeClose";break;case"buttons":e._createButtons(d);break;case"closeText":e.uiDialogTitlebarCloseText.text(""+d);break;case"dialogClass":f.removeClass(e.options.dialogClass).addClass(c+d);break;case"disabled":d?f.addClass("ui-dialog-disabled"):f.removeClass("ui-dialog-disabled");break;case"draggable":var g=f.is(":data(draggable)");g&&!d&&f.draggable("destroy"),!g&&d&&e._makeDraggable();break;case"position":e._position(d);break;case"resizable":var h=f.is(":data(resizable)");h&&!d&&f.resizable("destroy"),h&&typeof d=="string"&&f.resizable("option","handles",d),!h&&d!==!1&&e._makeResizable(d);break;case"title":a(".ui-dialog-title",e.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(e,arguments)},_size:function(){var b=this.options,c,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),b.minWidth>b.width&&(b.width=b.minWidth),c=this.uiDialog.css({height:"auto",width:b.width}).height(),d=Math.max(0,b.minHeight-c);if(b.height==="auto"){if(a.support.minHeight){this.element.css({minHeight:d,height:"auto"})}else{this.uiDialog.show();var f=this.element.css("height","auto").height();e||this.uiDialog.hide(),this.element.height(Math.max(f,d))}}else{this.element.height(Math.max(b.height-c,0))}this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),a.extend(a.ui.dialog,{version:"1.8.23",uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(b){this.$el=a.ui.dialog.overlay.create(b)}}),a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){a.ui.dialog.overlay.instances.length&&a(document).bind(a.ui.dialog.overlay.events,function(b){if(a(b.target).zIndex()<a.ui.dialog.overlay.maxZ){return !1}})},1),a(document).bind("keydown.dialog-overlay",function(c){b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===a.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize));var c=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return a.fn.bgiframe&&c.bgiframe(),this.instances.push(c),c},destroy:function(b){var c=a.inArray(b,this.instances);c!=-1&&this.oldInstances.push(this.instances.splice(c,1)[0]),this.instances.length===0&&a([document,window]).unbind(".dialog-overlay"),b.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))}),this.maxZ=d},height:function(){var b,c;return a.browser.msie&&a.browser.version<7?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),c=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<c?a(window).height()+"px":b+"px"):a(document).height()+"px"},width:function(){var b,c;return a.browser.msie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),c=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<c?a(window).width()+"px":b+"px"):a(document).width()+"px"},resize:function(){var b=a([]);a.each(a.ui.dialog.overlay.instances,function(){b=b.add(this)}),b.css({width:0,height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}}),a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);(function(a,b){var c=5;a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var b=this,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=d.values&&d.values.length||1,h=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(d.disabled?" ui-slider-disabled ui-disabled":"")),this.range=a([]),d.range&&(d.range===!0&&(d.values||(d.values=[this._valueMin(),this._valueMin()]),d.values.length&&d.values.length!==2&&(d.values=[d.values[0],d.values[0]])),this.range=a("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(d.range==="min"||d.range==="max"?" ui-slider-range-"+d.range:"")));for(var i=e.length;i<g;i+=1){h.push(f)}this.handles=e.add(a(h.join("")).appendTo(b.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(a){a.preventDefault()}).hover(function(){d.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){d.disabled?a(this).blur():(a(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),a(this).addClass("ui-state-focus"))}).blur(function(){a(this).removeClass("ui-state-focus")}),this.handles.each(function(b){a(this).data("index.ui-slider-handle",b)}),this.handles.keydown(function(d){var e=a(this).data("index.ui-slider-handle"),f,g,h,i;if(b.options.disabled){return}switch(d.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:d.preventDefault();if(!b._keySliding){b._keySliding=!0,a(this).addClass("ui-state-active"),f=b._start(d,e);if(f===!1){return}}}i=b.options.step,b.options.values&&b.options.values.length?g=h=b.values(e):g=h=b.value();switch(d.keyCode){case a.ui.keyCode.HOME:h=b._valueMin();break;case a.ui.keyCode.END:h=b._valueMax();break;case a.ui.keyCode.PAGE_UP:h=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.PAGE_DOWN:h=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/c);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===b._valueMax()){return}h=b._trimAlignValue(g+i);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin()){return}h=b._trimAlignValue(g-i)}b._slide(d,e,h)}).keyup(function(c){var d=a(this).data("index.ui-slider-handle");b._keySliding&&(b._keySliding=!1,b._stop(c,d),b._change(c,d),a(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(b){var c=this.options,d,e,f,g,h,i,j,k,l;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),d={x:b.pageX,y:b.pageY},e=this._normValueFromMouse(d),f=this._valueMax()-this._valueMin()+1,h=this,this.handles.each(function(b){var c=Math.abs(e-h.values(b));f>c&&(f=c,g=a(this),i=b)}),c.range===!0&&this.values(1)===c.min&&(i+=1,g=a(this.handles[i])),j=this._start(b,i),j===!1?!1:(this._mouseSliding=!0,h._handleIndex=i,g.addClass("ui-state-active").focus(),k=g.offset(),l=!a(b.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:b.pageX-k.left-g.width()/2,top:b.pageY-k.top-g.height()/2-(parseInt(g.css("borderTopWidth"),10)||0)-(parseInt(g.css("borderBottomWidth"),10)||0)+(parseInt(g.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,i,e),this._animateOff=!0,!0))},_mouseStart:function(a){return !0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return this.orientation==="horizontal"?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),d<0&&(d=0),this.orientation==="vertical"&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),this.options.values.length===2&&this.options.range===!0&&(b===0&&c>d||b===1&&c<d)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("change",a,c)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(b,c){var d,e,f;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),this._change(null,b);return}if(!arguments.length){return this._values()}if(!a.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(b):this.value()}d=this.options.values,e=arguments[0];for(f=0;f<d.length;f+=1){d[f]=this._trimAlignValue(e[f]),this._change(null,f)}this._refreshValue()},_setOption:function(b,c){var d,e=0;a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments);switch(b){case"disabled":c?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(d=0;d<e;d+=1){this._change(null,d)}this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(a){var b,c,d;if(arguments.length){return b=this.options.values[a],b=this._trimAlignValue(b),b}c=this.options.values.slice();for(d=0;d<c.length;d+=1){c[d]=this._trimAlignValue(c[d])}return c},_trimAlignValue:function(a){if(a<=this._valueMin()){return this._valueMin()}if(a>=this._valueMax()){return this._valueMax()}var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return Math.abs(c)*2>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,c=this.options,d=this,e=this._animateOff?!1:c.animate,f,g={},h,i,j,k;this.options.values&&this.options.values.length?this.handles.each(function(b,i){f=(d.values(b)-d._valueMin())/(d._valueMax()-d._valueMin())*100,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",a(this).stop(1,1)[e?"animate":"css"](g,c.animate),d.options.range===!0&&(d.orientation==="horizontal"?(b===0&&d.range.stop(1,1)[e?"animate":"css"]({left:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({width:f-h+"%"},{queue:!1,duration:c.animate})):(b===0&&d.range.stop(1,1)[e?"animate":"css"]({bottom:f+"%"},c.animate),b===1&&d.range[e?"animate":"css"]({height:f-h+"%"},{queue:!1,duration:c.animate}))),h=f}):(i=this.value(),j=this._valueMin(),k=this._valueMax(),f=k!==j?(i-j)/(k-j)*100:0,g[d.orientation==="horizontal"?"left":"bottom"]=f+"%",this.handle.stop(1,1)[e?"animate":"css"](g,c.animate),b==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[e?"animate":"css"]({width:f+"%"},c.animate),b==="max"&&this.orientation==="horizontal"&&this.range[e?"animate":"css"]({width:100-f+"%"},{queue:!1,duration:c.animate}),b==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[e?"animate":"css"]({height:f+"%"},c.animate),b==="max"&&this.orientation==="vertical"&&this.range[e?"animate":"css"]({height:100-f+"%"},{queue:!1,duration:c.animate}))}}),a.extend(a.ui.slider,{version:"1.8.23"})})(jQuery);(function(a,b){function e(){return ++c}function f(){return ++d}var c=0,d=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(a,b){if(a=="selected"){if(this.options.collapsible&&b==this.options.selected){return}this.select(b)}else{this.options[a]=b,this._tabify()}},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+e()},_sanitizeSelector:function(a){return a.replace(/:/g,"\\:")},_cookie:function(){var b=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+f());return a.cookie.apply(null,[b].concat(a.makeArray(arguments)))},_ui:function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var b=a(this);b.html(b.data("label.tabs")).removeData("label.tabs")})},_tabify:function(c){function m(b,c){b.css("display",""),!a.support.opacity&&c.opacity&&b[0].style.removeAttribute("filter")}var d=this,e=this.options,f=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=a(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return a("a",this)[0]}),this.panels=a([]),this.anchors.each(function(b,c){var g=a(c).attr("href"),h=g.split("#")[0],i;h&&(h===location.toString().split("#")[0]||(i=a("base")[0])&&h===i.href)&&(g=c.hash,c.href=g);if(f.test(g)){d.panels=d.panels.add(d.element.find(d._sanitizeSelector(g)))}else{if(g&&g!=="#"){a.data(c,"href.tabs",g),a.data(c,"load.tabs",g.replace(/#.*$/,""));var j=d._tabId(c);c.href="#"+j;var k=d.element.find("#"+j);k.length||(k=a(e.panelTemplate).attr("id",j).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(d.panels[b-1]||d.list),k.data("destroy.tabs",!0)),d.panels=d.panels.add(k)}else{e.disabled.push(b)}}}),c?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),e.selected===b?(location.hash&&this.anchors.each(function(a,b){if(b.hash==location.hash){return e.selected=a,!1}}),typeof e.selected!="number"&&e.cookie&&(e.selected=parseInt(d._cookie(),10)),typeof e.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),e.selected=e.selected||(this.lis.length?0:-1)):e.selected===null&&(e.selected=-1),e.selected=e.selected>=0&&this.anchors[e.selected]||e.selected<0?e.selected:0,e.disabled=a.unique(e.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(a,b){return d.lis.index(a)}))).sort(),a.inArray(e.selected,e.disabled)!=-1&&e.disabled.splice(a.inArray(e.selected,e.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),e.selected>=0&&this.anchors.length&&(d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(e.selected).addClass("ui-tabs-selected ui-state-active"),d.element.queue("tabs",function(){d._trigger("show",null,d._ui(d.anchors[e.selected],d.element.find(d._sanitizeSelector(d.anchors[e.selected].hash))[0]))}),this.load(e.selected)),a(window).bind("unload",function(){d.lis.add(d.anchors).unbind(".tabs"),d.lis=d.anchors=d.panels=null})):e.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[e.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),e.cookie&&this._cookie(e.selected,e.cookie);for(var g=0,h;h=this.lis[g];g++){a(h)[a.inArray(g,e.disabled)!=-1&&!a(h).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled")}e.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(e.event!=="mouseover"){var i=function(a,b){b.is(":not(.ui-state-disabled)")&&b.addClass("ui-state-"+a)},j=function(a,b){b.removeClass("ui-state-"+a)};this.lis.bind("mouseover.tabs",function(){i("hover",a(this))}),this.lis.bind("mouseout.tabs",function(){j("hover",a(this))}),this.anchors.bind("focus.tabs",function(){i("focus",a(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){j("focus",a(this).closest("li"))})}var k,l;e.fx&&(a.isArray(e.fx)?(k=e.fx[0],l=e.fx[1]):k=l=e.fx);var n=l?function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.hide().removeClass("ui-tabs-hide").animate(l,l.duration||"normal",function(){m(c,l),d._trigger("show",null,d._ui(b,c[0]))})}:function(b,c){a(b).closest("li").addClass("ui-tabs-selected ui-state-active"),c.removeClass("ui-tabs-hide"),d._trigger("show",null,d._ui(b,c[0]))},o=k?function(a,b){b.animate(k,k.duration||"normal",function(){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),m(b,k),d.element.dequeue("tabs")})}:function(a,b,c){d.lis.removeClass("ui-tabs-selected ui-state-active"),b.addClass("ui-tabs-hide"),d.element.dequeue("tabs")};this.anchors.bind(e.event+".tabs",function(){var b=this,c=a(b).closest("li"),f=d.panels.filter(":not(.ui-tabs-hide)"),g=d.element.find(d._sanitizeSelector(b.hash));if(c.hasClass("ui-tabs-selected")&&!e.collapsible||c.hasClass("ui-state-disabled")||c.hasClass("ui-state-processing")||d.panels.filter(":animated").length||d._trigger("select",null,d._ui(this,g[0]))===!1){return this.blur(),!1}e.selected=d.anchors.index(this),d.abort();if(e.collapsible){if(c.hasClass("ui-tabs-selected")){return e.selected=-1,e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){o(b,f)}).dequeue("tabs"),this.blur(),!1}if(!f.length){return e.cookie&&d._cookie(e.selected,e.cookie),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this)),this.blur(),!1}}e.cookie&&d._cookie(e.selected,e.cookie);if(g.length){f.length&&d.element.queue("tabs",function(){o(b,f)}),d.element.queue("tabs",function(){n(b,g)}),d.load(d.anchors.index(this))}else{throw"jQuery UI Tabs: Mismatching fragment identifier."}a.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return !1})},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},destroy:function(){var b=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var b=a.data(this,"href.tabs");b&&(this.href=b);var c=a(this).unbind(".tabs");a.each(["href","load","cache"],function(a,b){c.removeData(b+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),b.cookie&&this._cookie(null,b.cookie),this},add:function(c,d,e){e===b&&(e=this.anchors.length);var f=this,g=this.options,h=a(g.tabTemplate.replace(/#\{href\}/g,c).replace(/#\{label\}/g,d)),i=c.indexOf("#")?this._tabId(a("a",h)[0]):c.replace("#","");h.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var j=f.element.find("#"+i);return j.length||(j=a(g.panelTemplate).attr("id",i).data("destroy.tabs",!0)),j.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),e>=this.lis.length?(h.appendTo(this.list),j.appendTo(this.list[0].parentNode)):(h.insertBefore(this.lis[e]),j.insertBefore(this.panels[e])),g.disabled=a.map(g.disabled,function(a,b){return a>=e?++a:a}),this._tabify(),this.anchors.length==1&&(g.selected=0,h.addClass("ui-tabs-selected ui-state-active"),j.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){f._trigger("show",null,f._ui(f.anchors[0],f.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[e],this.panels[e])),this},remove:function(b){b=this._getIndex(b);var c=this.options,d=this.lis.eq(b).remove(),e=this.panels.eq(b).remove();return d.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(b+(b+1<this.anchors.length?1:-1)),c.disabled=a.map(a.grep(c.disabled,function(a,c){return a!=b}),function(a,c){return a>=b?--a:a}),this._tabify(),this._trigger("remove",null,this._ui(d.find("a")[0],e[0])),this},enable:function(b){b=this._getIndex(b);var c=this.options;if(a.inArray(b,c.disabled)==-1){return}return this.lis.eq(b).removeClass("ui-state-disabled"),c.disabled=a.grep(c.disabled,function(a,c){return a!=b}),this._trigger("enable",null,this._ui(this.anchors[b],this.panels[b])),this},disable:function(a){a=this._getIndex(a);var b=this,c=this.options;return a!=c.selected&&(this.lis.eq(a).addClass("ui-state-disabled"),c.disabled.push(a),c.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[a],this.panels[a]))),this},select:function(a){a=this._getIndex(a);if(a==-1){if(this.options.collapsible&&this.options.selected!=-1){a=this.options.selected}else{return this}}return this.anchors.eq(a).trigger(this.options.event+".tabs"),this},load:function(b){b=this._getIndex(b);var c=this,d=this.options,e=this.anchors.eq(b)[0],f=a.data(e,"load.tabs");this.abort();if(!f||this.element.queue("tabs").length!==0&&a.data(e,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(b).addClass("ui-state-processing");if(d.spinner){var g=a("span",e);g.data("label.tabs",g.html()).html(d.spinner)}return this.xhr=a.ajax(a.extend({},d.ajaxOptions,{url:f,success:function(f,g){c.element.find(c._sanitizeSelector(e.hash)).html(f),c._cleanup(),d.cache&&a.data(e,"cache.tabs",!0),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.success(f,g)}catch(h){}},error:function(a,f,g){c._cleanup(),c._trigger("load",null,c._ui(c.anchors[b],c.panels[b]));try{d.ajaxOptions.error(a,f,b,e)}catch(g){}}})),c.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(a,b){return this.anchors.eq(a).removeData("cache.tabs").data("load.tabs",b),this},length:function(){return this.anchors.length}}),a.extend(a.ui.tabs,{version:"1.8.23"}),a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(a,b){var c=this,d=this.options,e=c._rotate||(c._rotate=function(b){clearTimeout(c.rotation),c.rotation=setTimeout(function(){var a=d.selected;c.select(++a<c.anchors.length?a:0)},a),b&&b.stopPropagation()}),f=c._unrotate||(c._unrotate=b?function(a){e()}:function(a){a.clientX&&c.rotate(null)});return a?(this.element.bind("tabsshow",e),this.anchors.bind(d.event+".tabs",f),e()):(clearTimeout(c.rotation),this.element.unbind("tabsshow",e),this.anchors.unbind(d.event+".tabs",f),delete this._rotate,delete this._unrotate),this}})})(jQuery);(function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(a){var b="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return a.bind("mouseout",function(a){var c=$(a.target).closest(b);if(!c.length){return}c.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(c){var d=$(c.target).closest(b);if($.datepicker._isDisabledDatepicker(instActive.inline?a.parent()[0]:instActive.input[0])||!d.length){return}d.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),d.addClass("ui-state-hover"),d.hasClass("ui-datepicker-prev")&&d.addClass("ui-datepicker-prev-hover"),d.hasClass("ui-datepicker-next")&&d.addClass("ui-datepicker-next-hover")})}function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null||b[c]==undefined){a[c]=b[c]}}return a}function isArray(a){return a&&($.browser.safari&&typeof a=="object"&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return extendRemove(this._defaults,a||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(a,b){var c=a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:c,input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:b?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(a,b){var c=$(a);b.append=$([]),b.trigger=$([]);if(c.hasClass(this.markerClassName)){return}this._attachments(c,b),c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),this._autoSize(b),$.data(a,PROP_NAME,b),b.settings.disabled&&this._disableDatepicker(a)},_attachments:function(a,b){var c=this._get(b,"appendText"),d=this._get(b,"isRTL");b.append&&b.append.remove(),c&&(b.append=$('<span class="'+this._appendClass+'">'+c+"</span>"),a[d?"before":"after"](b.append)),a.unbind("focus",this._showDatepicker),b.trigger&&b.trigger.remove();var e=this._get(b,"showOn");(e=="focus"||e=="both")&&a.focus(this._showDatepicker);if(e=="button"||e=="both"){var f=this._get(b,"buttonText"),g=this._get(b,"buttonImage");b.trigger=$(this._get(b,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:g,alt:f,title:f}):$('<button type="button"></button>').addClass(this._triggerClass).html(g==""?f:$("<img/>").attr({src:g,alt:f,title:f}))),a[d?"before":"after"](b.trigger),b.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==a[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=a[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(a[0])):$.datepicker._showDatepicker(a[0]),!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var d=function(a){var b=0,c=0;for(var d=0;d<a.length;d++){a[d].length>b&&(b=a[d].length,c=d)}return c};b.setMonth(d(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort"))),b.setDate(d(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=$(a);if(c.hasClass(this.markerClassName)){return}c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(a,c,d){b.settings[c]=d}).bind("getData.datepicker",function(a,c){return this._get(b,c)}),$.data(a,PROP_NAME,b),this._setDate(b,this._getDefaultDate(b),!0),this._updateDatepicker(b),this._updateAlternate(b),b.settings.disabled&&this._disableDatepicker(a),b.dpDiv.css("display","block")},_dialogDatepicker:function(a,b,c,d,e){var f=this._dialogInst;if(!f){this.uuid+=1;var g="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+g+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},$.data(this._dialogInput[0],PROP_NAME,f)}extendRemove(f.settings,d||{}),b=b&&b.constructor==Date?this._formatDate(f,b):b,this._dialogInput.val(b),this._pos=e?e.length?e:[e.pageX,e.pageY]:null;if(!this._pos){var h=document.documentElement.clientWidth,i=document.documentElement.clientHeight,j=document.documentElement.scrollLeft||document.body.scrollLeft,k=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[h/2-100+j,i/2-150+k]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=c,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,f),this},_destroyDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName)){return}var d=a.nodeName.toLowerCase();$.removeData(a,PROP_NAME),d=="input"?(c.append.remove(),c.trigger.remove(),b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(d=="div"||d=="span")&&b.removeClass(this.markerClassName).empty()},_enableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName)){return}var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b})},_disableDatepicker:function(a){var b=$(a),c=$.data(a,PROP_NAME);if(!b.hasClass(this.markerClassName)){return}var d=a.nodeName.toLowerCase();if(d=="input"){a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(d=="div"||d=="span"){var e=b.children("."+this._inlineClass);e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=$.map(this._disabledInputs,function(b){return b==a?null:b}),this._disabledInputs[this._disabledInputs.length]=a},_isDisabledDatepicker:function(a){if(!a){return !1}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return !0}}return !1},_getInst:function(a){try{return $.data(a,PROP_NAME)}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var d=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?$.extend({},$.datepicker._defaults):d?b=="all"?$.extend({},d.settings):this._get(d,b):null}var e=b||{};typeof b=="string"&&(e={},e[b]=c);if(d){this._curInst==d&&this._hideDatepicker();var f=this._getDateDatepicker(a,!0),g=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");extendRemove(d.settings,e),g!==null&&e.dateFormat!==undefined&&e.minDate===undefined&&(d.settings.minDate=this._formatDate(d,g)),h!==null&&e.dateFormat!==undefined&&e.maxDate===undefined&&(d.settings.maxDate=this._formatDate(d,h)),this._attachments($(a),d),this._autoSize(d),this._setDate(d,f),this._updateAlternate(d),this._updateDatepicker(d)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(a){var b=$.datepicker._getInst(a.target),c=!0,d=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=!0;if($.datepicker._datepickerShowing){switch(a.keyCode){case 9:$.datepicker._hideDatepicker(),c=!1;break;case 13:var e=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",b.dpDiv);e[0]&&$.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,e[0]);var f=$.datepicker._get(b,"onSelect");if(f){var g=$.datepicker._formatDate(b);f.apply(b.input?b.input[0]:null,[g,b])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&$.datepicker._clearDate(a.target),c=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&$.datepicker._gotoToday(a.target),c=a.ctrlKey||a.metaKey;break;case 37:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?1:-1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?-$.datepicker._get(b,"stepBigMonths"):-$.datepicker._get(b,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,-7,"D"),c=a.ctrlKey||a.metaKey;break;case 39:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,d?-1:1,"D"),c=a.ctrlKey||a.metaKey,a.originalEvent.altKey&&$.datepicker._adjustDate(a.target,a.ctrlKey?+$.datepicker._get(b,"stepBigMonths"):+$.datepicker._get(b,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&$.datepicker._adjustDate(a.target,7,"D"),c=a.ctrlKey||a.metaKey;break;default:c=!1}}else{a.keyCode==36&&a.ctrlKey?$.datepicker._showDatepicker(this):c=!1}c&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var b=$.datepicker._getInst(a.target);if($.datepicker._get(b,"constrainInput")){var c=$.datepicker._possibleChars($.datepicker._get(b,"dateFormat")),d=String.fromCharCode(a.charCode==undefined?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||d<" "||!c||c.indexOf(d)>-1}},_doKeyUp:function(a){var b=$.datepicker._getInst(a.target);if(b.input.val()!=b.lastVal){try{var c=$.datepicker.parseDate($.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,$.datepicker._getFormatConfig(b));c&&($.datepicker._setDateFromField(b),$.datepicker._updateAlternate(b),$.datepicker._updateDatepicker(b))}catch(d){$.datepicker.log(d)}}return !0},_showDatepicker:function(a){a=a.target||a,a.nodeName.toLowerCase()!="input"&&(a=$("input",a.parentNode)[0]);if($.datepicker._isDisabledDatepicker(a)||$.datepicker._lastInput==a){return}var b=$.datepicker._getInst(a);$.datepicker._curInst&&$.datepicker._curInst!=b&&($.datepicker._curInst.dpDiv.stop(!0,!0),b&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var c=$.datepicker._get(b,"beforeShow"),d=c?c.apply(a,[a,b]):{};if(d===!1){return}extendRemove(b.settings,d),b.lastVal=null,$.datepicker._lastInput=a,$.datepicker._setDateFromField(b),$.datepicker._inDialog&&(a.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(a),$.datepicker._pos[1]+=a.offsetHeight);var e=!1;$(a).parents().each(function(){return e|=$(this).css("position")=="fixed",!e}),e&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var f={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,b.dpDiv.empty(),b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(b),f=$.datepicker._checkOffset(b,f,e),b.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":e?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"});if(!b.inline){var g=$.datepicker._get(b,"showAnim"),h=$.datepicker._get(b,"duration"),i=function(){var a=b.dpDiv.find("iframe.ui-datepicker-cover");if(!!a.length){var c=$.datepicker._getBorders(b.dpDiv);a.css({left:-c[0],top:-c[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex($(a).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[g]?b.dpDiv.show(g,$.datepicker._get(b,"showOptions"),h,i):b.dpDiv[g||"show"](g?h:null,i),(!g||!h)&&i(),b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus(),$.datepicker._curInst=b}},_updateDatepicker:function(a){var b=this;b.maxRows=4;var c=$.datepicker._getBorders(a.dpDiv);instActive=a,a.dpDiv.empty().append(this._generateHTML(a)),this._attachHandlers(a);var d=a.dpDiv.find("iframe.ui-datepicker-cover");!d.length||d.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()}),a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e=this._getNumberOfMonths(a),f=e[1],g=17;a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),f>1&&a.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",g*f+"em"),a.dpDiv[(e[0]!=1||e[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),a==$.datepicker._curInst&&$.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var h=a.yearshtml;setTimeout(function(){h===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml),h=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]||a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var d=a.dpDiv.outerWidth(),e=a.dpDiv.outerHeight(),f=a.input?a.input.outerWidth():0,g=a.input?a.input.outerHeight():0,h=document.documentElement.clientWidth+(c?0:$(document).scrollLeft()),i=document.documentElement.clientHeight+(c?0:$(document).scrollTop());return b.left-=this._get(a,"isRTL")?d-f:0,b.left-=c&&b.left==a.input.offset().left?$(document).scrollLeft():0,b.top-=c&&b.top==a.input.offset().top+g?$(document).scrollTop():0,b.left-=Math.min(b.left,b.left+d>h&&h>d?Math.abs(b.left+d-h):0),b.top-=Math.min(b.top,b.top+e>i&&i>e?Math.abs(e+g):0),b},_findPos:function(a){var b=this._getInst(a),c=this._get(b,"isRTL");while(a&&(a.type=="hidden"||a.nodeType!=1||$.expr.filters.hidden(a))){a=a[c?"previousSibling":"nextSibling"]}var d=$(a).offset();return[d.left,d.top]},_hideDatepicker:function(a){var b=this._curInst;if(!b||a&&b!=$.data(a,PROP_NAME)){return}if(this._datepickerShowing){var c=this._get(b,"showAnim"),d=this._get(b,"duration"),e=function(){$.datepicker._tidyDialog(b)};$.effects&&$.effects[c]?b.dpDiv.hide(c,$.datepicker._get(b,"showOptions"),d,e):b.dpDiv[c=="slideDown"?"slideUp":c=="fadeIn"?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1;var f=this._get(b,"onClose");f&&f.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(!$.datepicker._curInst){return}var b=$(a.target),c=$.datepicker._getInst(b[0]);(b[0].id!=$.datepicker._mainDivId&&b.parents("#"+$.datepicker._mainDivId).length==0&&!b.hasClass($.datepicker.markerClassName)&&!b.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||b.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=c)&&$.datepicker._hideDatepicker()},_adjustDate:function(a,b,c){var d=$(a),e=this._getInst(d[0]);if(this._isDisabledDatepicker(d[0])){return}this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c),this._updateDatepicker(e)},_gotoToday:function(a){var b=$(a),c=this._getInst(b[0]);if(this._get(c,"gotoCurrent")&&c.currentDay){c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear}else{var d=new Date;c.selectedDay=d.getDate(),c.drawMonth=c.selectedMonth=d.getMonth(),c.drawYear=c.selectedYear=d.getFullYear()}this._notifyChange(c),this._adjustDate(b)},_selectMonthYear:function(a,b,c){var d=$(a),e=this._getInst(d[0]);e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10),this._notifyChange(e),this._adjustDate(d)},_selectDay:function(a,b,c,d){var e=$(a);if($(d).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])){return}var f=this._getInst(e[0]);f.selectedDay=f.currentDay=$("a",d).html(),f.selectedMonth=f.currentMonth=b,f.selectedYear=f.currentYear=c,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))},_clearDate:function(a){var b=$(a),c=this._getInst(b[0]);this._selectDate(b,"")},_selectDate:function(a,b){var c=$(a),d=this._getInst(c[0]);b=b!=null?b:this._formatDate(d),d.input&&d.input.val(b),this._updateAlternate(d);var e=this._get(d,"onSelect");e?e.apply(d.input?d.input[0]:null,[b,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],typeof d.input[0]!="object"&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),d=this._getDate(a),e=this.formatDate(c,d,this._getFormatConfig(a));$(b).each(function(){$(this).val(e)})}},noWeekends:function(a){var b=a.getDay();return[b>0&&b<6,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var d=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;d=typeof d!="string"?d:(new Date).getFullYear()%100+parseInt(d,10);var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=-1,j=-1,k=-1,l=-1,m=!1,n=function(b){var c=s+1<a.length&&a.charAt(s+1)==b;return c&&s++,c},o=function(a){var c=n(a),d=a=="@"?14:a=="!"?20:a=="y"&&c?4:a=="o"?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=b.substring(r).match(e);if(!f){throw"Missing number at position "+r}return r+=f[0].length,parseInt(f[0],10)},p=function(a,c,d){var e=$.map(n(a)?d:c,function(a,b){return[[b,a]]}).sort(function(a,b){return -(a[1].length-b[1].length)}),f=-1;$.each(e,function(a,c){var d=c[1];if(b.substr(r,d.length).toLowerCase()==d.toLowerCase()){return f=c[0],r+=d.length,!1}});if(f!=-1){return f+1}throw"Unknown name at position "+r},q=function(){if(b.charAt(r)!=a.charAt(s)){throw"Unexpected literal at position "+r}r++},r=0;for(var s=0;s<a.length;s++){if(m){a.charAt(s)=="'"&&!n("'")?m=!1:q()}else{switch(a.charAt(s)){case"d":k=o("d");break;case"D":p("D",e,f);break;case"o":l=o("o");break;case"m":j=o("m");break;case"M":j=p("M",g,h);break;case"y":i=o("y");break;case"@":var t=new Date(o("@"));i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"!":var t=new Date((o("!")-this._ticksTo1970)/10000);i=t.getFullYear(),j=t.getMonth()+1,k=t.getDate();break;case"'":n("'")?q():m=!0;break;default:q()}}}if(r<b.length){throw"Extra/unparsed characters found in date: "+b.substring(r)}i==-1?i=(new Date).getFullYear():i<100&&(i+=(new Date).getFullYear()-(new Date).getFullYear()%100+(i<=d?0:-100));if(l>-1){j=1,k=l;do{var u=this._getDaysInMonth(i,j-1);if(k<=u){break}j++,k-=u}while(!0)}var t=this._daylightSavingAdjust(new Date(i,j-1,k));if(t.getFullYear()!=i||t.getMonth()+1!=j||t.getDate()!=k){throw"Invalid date"}return t},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var d=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,h=function(b){var c=m+1<a.length&&a.charAt(m+1)==b;return c&&m++,c},i=function(a,b,c){var d=""+b;if(h(a)){while(d.length<c){d="0"+d}}return d},j=function(a,b,c,d){return h(a)?d[b]:c[b]},k="",l=!1;if(b){for(var m=0;m<a.length;m++){if(l){a.charAt(m)=="'"&&!h("'")?l=!1:k+=a.charAt(m)}else{switch(a.charAt(m)){case"d":k+=i("d",b.getDate(),2);break;case"D":k+=j("D",b.getDay(),d,e);break;case"o":k+=i("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":k+=i("m",b.getMonth()+1,2);break;case"M":k+=j("M",b.getMonth(),f,g);break;case"y":k+=h("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":k+=b.getTime();break;case"!":k+=b.getTime()*10000+this._ticksTo1970;break;case"'":h("'")?k+="'":l=!0;break;default:k+=a.charAt(m)}}}}return k},_possibleChars:function(a){var b="",c=!1,d=function(b){var c=e+1<a.length&&a.charAt(e+1)==b;return c&&e++,c};for(var e=0;e<a.length;e++){if(c){a.charAt(e)=="'"&&!d("'")?c=!1:b+=a.charAt(e)}else{switch(a.charAt(e)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":d("'")?b+="'":c=!0;break;default:b+=a.charAt(e)}}}return b},_get:function(a,b){return a.settings[b]!==undefined?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()==a.lastVal){return}var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e,f;e=f=this._getDefaultDate(a);var g=this._getFormatConfig(a);try{e=this.parseDate(c,d,g)||f}catch(h){this.log(h),d=b?"":d}a.selectedDay=e.getDate(),a.drawMonth=a.selectedMonth=e.getMonth(),a.drawYear=a.selectedYear=e.getFullYear(),a.currentDay=d?e.getDate():0,a.currentMonth=d?e.getMonth():0,a.currentYear=d?e.getFullYear():0,this._adjustInstDate(a)},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var d=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},e=function(b){try{return $.datepicker.parseDate($.datepicker._get(a,"dateFormat"),b,$.datepicker._getFormatConfig(a))}catch(c){}var d=(b.toLowerCase().match(/^c/)?$.datepicker._getDate(a):null)||new Date,e=d.getFullYear(),f=d.getMonth(),g=d.getDate(),h=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,i=h.exec(b);while(i){switch(i[2]||"d"){case"d":case"D":g+=parseInt(i[1],10);break;case"w":case"W":g+=parseInt(i[1],10)*7;break;case"m":case"M":f+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f));break;case"y":case"Y":e+=parseInt(i[1],10),g=Math.min(g,$.datepicker._getDaysInMonth(e,f))}i=h.exec(b)}return new Date(e,f,g)},f=b==null||b===""?c:typeof b=="string"?e(b):typeof b=="number"?isNaN(b)?c:d(b):new Date(b.getTime());return f=f&&f.toString()=="Invalid Date"?c:f,f&&(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)),this._daylightSavingAdjust(f)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),(e!=a.selectedMonth||f!=a.selectedYear)&&!c&&this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(a){var b=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){var a={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,-b,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(c,+b,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(c)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(c,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),a[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),d=this._get(a,"showButtonPanel"),e=this._get(a,"hideIfNoPrevNext"),f=this._get(a,"navigationAsDateFormat"),g=this._getNumberOfMonths(a),h=this._get(a,"showCurrentAtPos"),i=this._get(a,"stepMonths"),j=g[0]!=1||g[1]!=1,k=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),l=this._getMinMaxDate(a,"min"),m=this._getMinMaxDate(a,"max"),n=a.drawMonth-h,o=a.drawYear;n<0&&(n+=12,o--);if(m){var p=this._daylightSavingAdjust(new Date(m.getFullYear(),m.getMonth()-g[0]*g[1]+1,m.getDate()));p=l&&p<l?l:p;while(this._daylightSavingAdjust(new Date(o,n,1))>p){n--,n<0&&(n=11,o--)}}a.drawMonth=n,a.drawYear=o;var q=this._get(a,"prevText");q=f?this.formatDate(q,this._daylightSavingAdjust(new Date(o,n-i,1)),this._getFormatConfig(a)):q;var r=this._canAdjustMonth(a,-1,o,n)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>":e?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+q+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+q+"</span></a>",s=this._get(a,"nextText");s=f?this.formatDate(s,this._daylightSavingAdjust(new Date(o,n+i,1)),this._getFormatConfig(a)):s;var t=this._canAdjustMonth(a,1,o,n)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":e?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>",u=this._get(a,"currentText"),v=this._get(a,"gotoCurrent")&&a.currentDay?k:b;u=f?this.formatDate(u,v,this._getFormatConfig(a)):u;var w=a.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(a,"closeText")+"</button>",x=d?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?w:"")+(this._isInRange(a,v)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+u+"</button>":"")+(c?"":w)+"</div>":"",y=parseInt(this._get(a,"firstDay"),10);y=isNaN(y)?0:y;var z=this._get(a,"showWeek"),A=this._get(a,"dayNames"),B=this._get(a,"dayNamesShort"),C=this._get(a,"dayNamesMin"),D=this._get(a,"monthNames"),E=this._get(a,"monthNamesShort"),F=this._get(a,"beforeShowDay"),G=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths"),I=this._get(a,"calculateWeek")||this.iso8601Week,J=this._getDefaultDate(a),K="";for(var L=0;L<g[0];L++){var M="";this.maxRows=4;for(var N=0;N<g[1];N++){var O=this._daylightSavingAdjust(new Date(o,n,a.selectedDay)),P=" ui-corner-all",Q="";if(j){Q+='<div class="ui-datepicker-group';if(g[1]>1){switch(N){case 0:Q+=" ui-datepicker-group-first",P=" ui-corner-"+(c?"right":"left");break;case g[1]-1:Q+=" ui-datepicker-group-last",P=" ui-corner-"+(c?"left":"right");break;default:Q+=" ui-datepicker-group-middle",P=""}}Q+='">'}Q+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+P+'">'+(/all|left/.test(P)&&L==0?c?t:r:"")+(/all|right/.test(P)&&L==0?c?r:t:"")+this._generateMonthYearHeader(a,n,o,l,m,L>0||N>0,D,E)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var R=z?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(var S=0;S<7;S++){var T=(S+y)%7;R+="<th"+((S+y+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+A[T]+'">'+C[T]+"</span></th>"}Q+=R+"</tr></thead><tbody>";var U=this._getDaysInMonth(o,n);o==a.selectedYear&&n==a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,U));var V=(this._getFirstDayOfMonth(o,n)-y+7)%7,W=Math.ceil((V+U)/7),X=j?this.maxRows>W?this.maxRows:W:W;this.maxRows=X;var Y=this._daylightSavingAdjust(new Date(o,n,1-V));for(var Z=0;Z<X;Z++){Q+="<tr>";var _=z?'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(Y)+"</td>":"";for(var S=0;S<7;S++){var ba=F?F.apply(a.input?a.input[0]:null,[Y]):[!0,""],bb=Y.getMonth()!=n,bc=bb&&!H||!ba[0]||l&&Y<l||m&&Y>m;_+='<td class="'+((S+y+6)%7>=5?" ui-datepicker-week-end":"")+(bb?" ui-datepicker-other-month":"")+(Y.getTime()==O.getTime()&&n==a.selectedMonth&&a._keyEvent||J.getTime()==Y.getTime()&&J.getTime()==O.getTime()?" "+this._dayOverClass:"")+(bc?" "+this._unselectableClass+" ui-state-disabled":"")+(bb&&!G?"":" "+ba[1]+(Y.getTime()==k.getTime()?" "+this._currentClass:"")+(Y.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!bb||G)&&ba[2]?' title="'+ba[2]+'"':"")+(bc?"":' data-handler="selectDay" data-event="click" data-month="'+Y.getMonth()+'" data-year="'+Y.getFullYear()+'"')+">"+(bb&&!G?"&#xa0;":bc?'<span class="ui-state-default">'+Y.getDate()+"</span>":'<a class="ui-state-default'+(Y.getTime()==b.getTime()?" ui-state-highlight":"")+(Y.getTime()==k.getTime()?" ui-state-active":"")+(bb?" ui-priority-secondary":"")+'" href="#">'+Y.getDate()+"</a>")+"</td>",Y.setDate(Y.getDate()+1),Y=this._daylightSavingAdjust(Y)}Q+=_+"</tr>"}n++,n>11&&(n=0,o++),Q+="</tbody></table>"+(j?"</div>"+(g[0]>0&&N==g[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),M+=Q}K+=M}return K+=x+($.browser.msie&&parseInt($.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),a._keyEvent=!1,K},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i=this._get(a,"changeMonth"),j=this._get(a,"changeYear"),k=this._get(a,"showMonthAfterYear"),l='<div class="ui-datepicker-title">',m="";if(f||!i){m+='<span class="ui-datepicker-month">'+g[b]+"</span>"}else{var n=d&&d.getFullYear()==c,o=e&&e.getFullYear()==c;m+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var p=0;p<12;p++){(!n||p>=d.getMonth())&&(!o||p<=e.getMonth())&&(m+='<option value="'+p+'"'+(p==b?' selected="selected"':"")+">"+h[p]+"</option>")}m+="</select>"}k||(l+=m+(f||!i||!j?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(f||!j){l+='<span class="ui-datepicker-year">'+c+"</span>"}else{var q=this._get(a,"yearRange").split(":"),r=(new Date).getFullYear(),s=function(a){var b=a.match(/c[+-].*/)?c+parseInt(a.substring(1),10):a.match(/[+-].*/)?r+parseInt(a,10):parseInt(a,10);return isNaN(b)?r:b},t=s(q[0]),u=Math.max(t,s(q[1]||""));t=d?Math.max(t,d.getFullYear()):t,u=e?Math.min(u,e.getFullYear()):u,a.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;t<=u;t++){a.yearshtml+='<option value="'+t+'"'+(t==c?' selected="selected"':"")+">"+t+"</option>"}a.yearshtml+="</select>",l+=a.yearshtml,a.yearshtml=null}}return l+=this._get(a,"yearSuffix"),k&&(l+=(f||!i||!j?"&#xa0;":"")+m),l+="</div>",l},_adjustInstDate:function(a,b,c){var d=a.drawYear+(c=="Y"?b:0),e=a.drawMonth+(c=="M"?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+(c=="D"?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),(c=="M"||c=="Y")&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&b<c?c:b;return e=d&&e>d?d:e,e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return b==null?[1,1]:typeof b=="number"?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(b<0?b:e[0]*e[1]),1));return b<0&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!d||b.getTime()<=d.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),$.fn.datepicker=function(a){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var b=Array.prototype.slice.call(arguments,1);return typeof a!="string"||a!="isDisabled"&&a!="getDate"&&a!="widget"?a=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b)):this.each(function(){typeof a=="string"?$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this].concat(b)):$.datepicker._attachDatepicker(this,a)}):$.datepicker["_"+a+"Datepicker"].apply($.datepicker,[this[0]].concat(b))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$})(jQuery);jQuery.effects||function(a,b){function c(b){var c;return b&&b.constructor==Array&&b.length==3?b:(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))?[parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10)]:(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))?[parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55]:(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))?[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]:(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))?[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]:(c=/rgba\(0, 0, 0, 0\)/.exec(b))?e.transparent:e[a.trim(b).toLowerCase()]}function d(b,d){var e;do{e=(a.curCSS||a.css)(b,d);if(e!=""&&e!="transparent"||a.nodeName(b,"body")){break}d="backgroundColor"}while(b=b.parentNode);return c(e)}function h(){var a=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,b={},c,d;if(a&&a.length&&a[0]&&a[a[0]]){var e=a.length;while(e--){c=a[e],typeof a[c]=="string"&&(d=c.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()}),b[d]=a[c])}}else{for(c in a){typeof a[c]=="string"&&(b[c]=a[c])}}return b}function i(b){var c,d;for(c in b){d=b[c],(d==null||a.isFunction(d)||c in g||/scrollbar/.test(c)||!/color/i.test(c)&&isNaN(parseFloat(d)))&&delete b[c]}return b}function j(a,b){var c={_:0},d;for(d in b){a[d]!=b[d]&&(c[d]=b[d])}return c}function k(b,c,d,e){typeof b=="object"&&(e=c,d=null,c=b,b=c.effect),a.isFunction(c)&&(e=c,d=null,c={});if(typeof c=="number"||a.fx.speeds[c]){e=d,d=c,c={}}return a.isFunction(d)&&(e=d,d=null),c=c||{},d=d||c.duration,d=a.fx.off?0:typeof d=="number"?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,e=e||c.complete,[b,c,d,e]}function l(b){return !b||typeof b=="number"||a.fx.speeds[b]?!0:typeof b=="string"&&!a.effects[b]?!0:!1}a.effects={},a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(b,e){a.fx.step[e]=function(a){a.colorInit||(a.start=d(a.elem,e),a.end=c(a.end),a.colorInit=!0),a.elem.style[e]="rgb("+Math.max(Math.min(parseInt(a.pos*(a.end[0]-a.start[0])+a.start[0],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[1]-a.start[1])+a.start[1],10),255),0)+","+Math.max(Math.min(parseInt(a.pos*(a.end[2]-a.start[2])+a.start[2],10),255),0)+")"}});var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},f=["add","remove","toggle"],g={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(b,c,d,e){return a.isFunction(d)&&(e=d,d=null),this.queue(function(){var g=a(this),k=g.attr("style")||" ",l=i(h.call(this)),m,n=g.attr("class")||"";a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),m=i(h.call(this)),g.attr("class",n),g.animate(j(l,m),{queue:!1,duration:c,easing:d,complete:function(){a.each(f,function(a,c){b[c]&&g[c+"Class"](b[c])}),typeof g.attr("style")=="object"?(g.attr("style").cssText="",g.attr("style").cssText=k):g.attr("style",k),e&&e.apply(this,arguments),a.dequeue(this)}})})},a.fn.extend({_addClass:a.fn.addClass,addClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{add:b},c,d,e]):this._addClass(b)},_removeClass:a.fn.removeClass,removeClass:function(b,c,d,e){return c?a.effects.animateClass.apply(this,[{remove:b},c,d,e]):this._removeClass(b)},_toggleClass:a.fn.toggleClass,toggleClass:function(c,d,e,f,g){return typeof d=="boolean"||d===b?e?a.effects.animateClass.apply(this,[d?{add:c}:{remove:c},e,f,g]):this._toggleClass(c,d):a.effects.animateClass.apply(this,[{toggle:c},d,e,f])},switchClass:function(b,c,d,e,f){return a.effects.animateClass.apply(this,[{add:c,remove:b},d,e,f])}}),a.extend(a.effects,{version:"1.8.23",save:function(a,b){for(var c=0;c<b.length;c++){b[c]!==null&&a.data("ec.storage."+b[c],a[0].style[b[c]])}},restore:function(a,b){for(var c=0;c<b.length;c++){b[c]!==null&&a.css(b[c],a.data("ec.storage."+b[c]))}},setMode:function(a,b){return b=="toggle"&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=0.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=0.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper")){return b.parent()}var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e=document.activeElement;try{e.id}catch(f){e=document.body}return b.wrap(d),(b[0]===e||a.contains(b[0],e))&&a(e).focus(),d=b.parent(),b.css("position")=="static"?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),d.css(c).show()},removeWrapper:function(b){var c,d=document.activeElement;return b.parent().is(".ui-effects-wrapper")?(c=b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).focus(),c):b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(b,c,d,e){var f=k.apply(this,arguments),g={options:f[1],duration:f[2],callback:f[3]},h=g.options.mode,i=a.effects[b];return a.fx.off||!i?h?this[h](g.duration,g.callback):this.each(function(){g.callback&&g.callback.call(this)}):i.call(this,g)},_show:a.fn.show,show:function(a){if(l(a)){return this._show.apply(this,arguments)}var b=k.apply(this,arguments);return b[1].mode="show",this.effect.apply(this,b)},_hide:a.fn.hide,hide:function(a){if(l(a)){return this._hide.apply(this,arguments)}var b=k.apply(this,arguments);return b[1].mode="hide",this.effect.apply(this,b)},__toggle:a.fn.toggle,toggle:function(b){if(l(b)||typeof b=="boolean"||a.isFunction(b)){return this.__toggle.apply(this,arguments)}var c=k.apply(this,arguments);return c[1].mode="toggle",this.effect.apply(this,c)},cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}});var m={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,b){m[b]=function(b){return Math.pow(b,a+2)}}),a.extend(m,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return a===0||a===1?a:-Math.pow(2,8*(a-1))*Math.sin(((a-1)*80-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){var b,c=4;while(a<((b=Math.pow(2,--c))-1)/11){}return 1/Math.pow(4,3-c)-7.5625*Math.pow((b*3-2)/22-a,2)}}),a.each(m,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return a<0.5?c(a*2)/2:c(a*-2+2)/-2+1}})}(jQuery);(function(a,b){a.effects.blind=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"vertical";a.effects.save(c,d),c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),h=f=="vertical"?"height":"width",i=f=="vertical"?g.height():g.width();e=="show"&&g.css(h,0);var j={};j[h]=e=="show"?i:0,g.animate(j,b.duration,b.options.easing,function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);(function(a,b){a.effects.drop=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c);var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight(!0)/2:c.outerWidth(!0)/2);e=="show"&&c.css("opacity",0).css(g,h=="pos"?-i:i);var j={opacity:e=="show"?1:0};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);(function(a,b){a.effects.fade=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:d},{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);(function(a,b){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),d=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),f={backgroundColor:c.css("backgroundColor")};e=="hide"&&(f.opacity=0),a.effects.save(c,d),c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(f,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),e=="show"&&!a.support.opacity&&this.style.removeAttribute("filter"),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);(function(a,b){a.effects.puff=function(b){return this.queue(function(){var c=a(this),d=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,f=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:!0,mode:d,percent:d=="hide"?e:100,from:d=="hide"?g:{height:g.height*f,width:g.width*f}}),c.effect("scale",b.options,b.duration,b.callback),c.dequeue()})},a.effects.scale=function(b){return this.queue(function(){var c=a(this),d=a.extend(!0,{},b.options),e=a.effects.setMode(c,b.options.mode||"effect"),f=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",h=b.options.origin;e!="effect"&&(d.origin=h||["middle","center"],d.restore=!0);var i={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:i);var j={y:g!="horizontal"?f/100:1,x:g!="vertical"?f/100:1};c.to={height:i.height*j.y,width:i.width*j.x},b.options.fade&&(e=="show"&&(c.from.opacity=0,c.to.opacity=1),e=="hide"&&(c.from.opacity=1,c.to.opacity=0)),d.from=c.from,d.to=c.to,d.mode=e,c.effect("size",d,b.duration,b.callback),c.dequeue()})},a.effects.size=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],e=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],g=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],i=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],j=a.effects.setMode(c,b.options.mode||"effect"),k=b.options.restore||!1,l=b.options.scale||"both",m=b.options.origin,n={height:c.height(),width:c.width()};c.from=b.options.from||n,c.to=b.options.to||n;if(m){var p=a.effects.getBaseline(m,n);c.from.top=(n.height-c.from.height)*p.y,c.from.left=(n.width-c.from.width)*p.x,c.to.top=(n.height-c.to.height)*p.y,c.to.left=(n.width-c.to.width)*p.x}var q={from:{y:c.from.height/n.height,x:c.from.width/n.width},to:{y:c.to.height/n.height,x:c.to.width/n.width}};if(l=="box"||l=="both"){q.from.y!=q.to.y&&(d=d.concat(h),c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(d=d.concat(i),c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to))}(l=="content"||l=="both")&&q.from.y!=q.to.y&&(d=d.concat(g),c.from=a.effects.setTransition(c,g,q.from.y,c.from),c.to=a.effects.setTransition(c,g,q.to.y,c.to)),a.effects.save(c,k?d:e),c.show(),a.effects.createWrapper(c),c.css("overflow","hidden").css(c.from);if(l=="content"||l=="both"){h=h.concat(["marginTop","marginBottom"]).concat(g),i=i.concat(["marginLeft","marginRight"]),f=d.concat(h).concat(i),c.find("*[width]").each(function(){var c=a(this);k&&a.effects.save(c,f);var d={height:c.height(),width:c.width()};c.from={height:d.height*q.from.y,width:d.width*q.from.x},c.to={height:d.height*q.to.y,width:d.width*q.to.x},q.from.y!=q.to.y&&(c.from=a.effects.setTransition(c,h,q.from.y,c.from),c.to=a.effects.setTransition(c,h,q.to.y,c.to)),q.from.x!=q.to.x&&(c.from=a.effects.setTransition(c,i,q.from.x,c.from),c.to=a.effects.setTransition(c,i,q.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.options.easing,function(){k&&a.effects.restore(c,f)})})}c.animate(c.to,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity),j=="hide"&&c.hide(),a.effects.restore(c,k?d:e),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);(function(a,b){a.effects.slide=function(b){return this.queue(function(){var c=a(this),d=["position","top","bottom","left","right"],e=a.effects.setMode(c,b.options.mode||"show"),f=b.options.direction||"left";a.effects.save(c,d),c.show(),a.effects.createWrapper(c).css({overflow:"hidden"});var g=f=="up"||f=="down"?"top":"left",h=f=="up"||f=="left"?"pos":"neg",i=b.options.distance||(g=="top"?c.outerHeight(!0):c.outerWidth(!0));e=="show"&&c.css(g,h=="pos"?isNaN(i)?"-"+i:-i:i);var j={};j[g]=(e=="show"?h=="pos"?"+=":"-=":h=="pos"?"-=":"+=")+i,c.animate(j,{queue:!1,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide(),a.effects.restore(c,d),a.effects.removeWrapper(c),b.callback&&b.callback.apply(this,arguments),c.dequeue()}})})}})(jQuery);(function(a,b){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),d=a(b.options.to),e=d.offset(),f={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()},g=c.offset(),h=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:g.top,left:g.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){h.remove(),b.callback&&b.callback.apply(c[0],arguments),c.dequeue()})})}})(jQuery);(function($){$.extend($.fn,{validate:function(options){if(!this.length){options&&options.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var validator=$.data(this[0],"validator");if(validator){return validator}this.attr("novalidate","novalidate");validator=new $.validator(options,this[0]);$.data(this[0],"validator",validator);if(validator.settings.onsubmit){var inputsAndButtons=this.find("input, button");inputsAndButtons.filter(".cancel").click(function(){validator.cancelSubmit=true});if(validator.settings.submitHandler){inputsAndButtons.filter(":submit").click(function(){validator.submitButton=this})}this.submit(function(event){if(validator.settings.debug){event.preventDefault()}function handle(){if(validator.settings.submitHandler){if(validator.submitButton){var hidden=$("<input type='hidden'/>").attr("name",validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm)}validator.settings.submitHandler.call(validator,validator.currentForm);if(validator.submitButton){hidden.remove()}return false}return true}if(validator.cancelSubmit){validator.cancelSubmit=false;return handle()}if(validator.form()){if(validator.pendingRequest){validator.formSubmitted=true;return false}return handle()}else{validator.focusInvalid();return false}})}return validator},valid:function(){if($(this[0]).is("form")){return this.validate().form()}else{var valid=true;var validator=$(this[0].form).validate();this.each(function(){valid&=validator.element(this)});return valid}},removeAttrs:function(attributes){var result={},$element=this;$.each(attributes.split(/\s/),function(index,value){result[value]=$element.attr(value);$element.removeAttr(value)});return result},rules:function(command,argument){var element=this[0];if(command){var settings=$.data(element.form,"validator").settings;var staticRules=settings.rules;var existingRules=$.validator.staticRules(element);switch(command){case"add":$.extend(existingRules,$.validator.normalizeRule(argument));staticRules[element.name]=existingRules;if(argument.messages){settings.messages[element.name]=$.extend(settings.messages[element.name],argument.messages)}break;case"remove":if(!argument){delete staticRules[element.name];return existingRules}var filtered={};$.each(argument.split(/\s/),function(index,method){filtered[method]=existingRules[method];delete existingRules[method]});return filtered}}var data=$.validator.normalizeRules($.extend({},$.validator.metadataRules(element),$.validator.classRules(element),$.validator.attributeRules(element),$.validator.staticRules(element)),element);if(data.required){var param=data.required;delete data.required;data=$.extend({required:param},data)}return data}});$.extend($.expr[":"],{blank:function(a){return !$.trim(""+a.value)},filled:function(a){return !!$.trim(""+a.value)},unchecked:function(a){return !a.checked}});$.validator=function(options,form){this.settings=$.extend(true,{},$.validator.defaults,options);this.currentForm=form;this.init()};$.validator.format=function(source,params){if(arguments.length==1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args)}}if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!=Array){params=[params]}$.each(params,function(i,n){source=source.replace(new RegExp("\\{"+i+"\\}","g"),n)});return source};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(element,event){this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(element)).hide()}},onfocusout:function(element,event){if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element)}},onkeyup:function(element,event){if(element.name in this.submitted||element==this.lastElement){this.element(element)}},onclick:function(element,event){if(element.name in this.submitted){this.element(element)}else{if(element.parentNode.name in this.submitted){this.element(element.parentNode)}}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass)}else{$(element).addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass)}else{$(element).removeClass(errorClass).addClass(validClass)}}},setDefaults:function(settings){$.extend($.validator.defaults,settings)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.validator.format("Please enter no more than {0} characters."),minlength:$.validator.format("Please enter at least {0} characters."),rangelength:$.validator.format("Please enter a value between {0} and {1} characters long."),range:$.validator.format("Please enter a value between {0} and {1}."),max:$.validator.format("Please enter a value less than or equal to {0}."),min:$.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var groups=(this.groups={});$.each(this.settings.groups,function(key,value){$.each(value.split(/\s/),function(index,name){groups[name]=key})});var rules=this.settings.rules;$.each(rules,function(key,value){rules[key]=$.validator.normalizeRule(value)});function delegate(event){var validator=$.data(this[0].form,"validator"),eventType="on"+event.type.replace(/^validate/,"");validator.settings[eventType]&&validator.settings[eventType].call(validator,this[0],event)}$(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], input, select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",delegate).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",delegate);if(this.settings.invalidHandler){$(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid()){$(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i])}return this.valid()},element:function(element){element=this.validationTargetFor(this.clean(element));this.lastElement=element;this.prepareElement(element);this.currentElements=$(element);var result=this.check(element);if(result){delete this.invalid[element.name]}else{this.invalid[element.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return result},showErrors:function(errors){if(errors){$.extend(this.errorMap,errors);this.errorList=[];for(var name in errors){this.errorList.push({message:errors[name],element:this.findByName(name)[0]})}this.successList=$.grep(this.successList,function(element){return !(element.name in errors)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if($.fn.resetForm){$(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(obj){var count=0;for(var i in obj){count++}return count},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}}},findLastActive:function(){var lastActive=this.lastActive;return lastActive&&$.grep(this.errorList,function(n){return n.element.name==lastActive.name}).length==1&&lastActive},elements:function(){var validator=this,rulesCache={};return $(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&validator.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!validator.objectLength($(this).rules())){return false}var VisibleCheckElement=$(this);if($(this).prop("type")=="select-one"&&$(this).next().hasClass("ui-combobox")){VisibleCheckElement=$(this).next().find("input")}if(VisibleCheckElement.css("visibility")=="hidden"){return false}if(VisibleCheckElement.is(":hidden")){return false}rulesCache[this.name]=true;return true})},clean:function(selector){return $(selector)[0]},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(element){this.reset();this.toHide=this.errorsFor(element)},check:function(element){element=this.validationTargetFor(this.clean(element));var rules=$(element).rules();var dependencyMismatch=false;for(var method in rules){var rule={method:method,parameters:rules[method]};try{var result=$.validator.methods[method].call(this,element.value.replace(/\r/g,""),element,rule.parameters);if(result=="dependency-mismatch"){dependencyMismatch=true;continue}dependencyMismatch=false;if(result=="pending"){this.toHide=this.toHide.not(this.errorsFor(element));return}if(!result){this.formatAndAdd(element,rule);return false}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+element.id+", check the '"+rule.method+"' method",e);throw e}}if(dependencyMismatch){return}if(this.objectLength(rules)){this.successList.push(element)}return true},customMetaMessage:function(element,method){if(!$.metadata){return}var meta=this.settings.meta?$(element).metadata()[this.settings.meta]:$(element).metadata();return meta&&meta.messages&&meta.messages[method]},customMessage:function(name,method){var m=this.settings.messages[name];return m&&(m.constructor==String?m:m[method])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined){return arguments[i]}}return undefined},defaultMessage:function(element,method){return this.findDefined(this.customMessage(element.name,method),this.customMetaMessage(element,method),!this.settings.ignoreTitle&&element.title||undefined,$.validator.messages[method],"<strong>Warning: No message defined for "+element.name+"</strong>")},formatAndAdd:function(element,rule){var message=this.defaultMessage(element,rule.method),theregex=/\$?\{(\d+)\}/g;if(typeof message=="function"){message=message.call(this,rule.parameters,element)}else{if(theregex.test(message)){message=jQuery.format(message.replace(theregex,"{$1}"),rule.parameters)}}this.errorList.push({message:message,element:element});this.errorMap[element.name]=message;this.submitted[element.name]=message},addWrapper:function(toToggle){if(this.settings.wrapper){toToggle=toToggle.add(toToggle.parent(this.settings.wrapper))}return toToggle},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var error=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,error.element,this.settings.errorClass,this.settings.validClass);this.showLabel(error.element,error.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i])}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(element,message){var label=this.errorsFor(element);if(label.length){label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);label.attr("generated")&&label.html(message)}else{label=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(element),generated:true}).addClass(this.settings.errorClass).html(message||"");if(this.settings.wrapper){label=label.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(label).length){this.settings.errorPlacement?this.settings.errorPlacement(label,$(element)):label.insertAfter(element)}}if(!message&&this.settings.success){label.text("");typeof this.settings.success=="string"?label.addClass(this.settings.success):this.settings.success(label)}this.toShow=this.toShow.add(label)},errorsFor:function(element){var name=this.idOrName(element);return this.errors().filter(function(){return $(this).attr("for")==name})},idOrName:function(element){return this.groups[element.name]||(this.checkable(element)?element.name:element.id||element.name)},validationTargetFor:function(element){if(this.checkable(element)){element=this.findByName(element.name).not(this.settings.ignore)[0]}return element},checkable:function(element){return/radio|checkbox/i.test(element.type)},findByName:function(name){var form=this.currentForm;return $(document.getElementsByName(name)).map(function(index,element){return element.form==form&&element.name==name&&element||null})},getLength:function(value,element){switch(element.nodeName.toLowerCase()){case"select":return $("option:selected",element).length;case"input":if(this.checkable(element)){return this.findByName(element.name).filter(":checked").length}}return value.length},depend:function(param,element){return this.dependTypes[typeof param]?this.dependTypes[typeof param](param,element):true},dependTypes:{"boolean":function(param,element){return param},string:function(param,element){return !!$(param,element.form).length},"function":function(param,element){return param(element)}},optional:function(element){return !$.validator.methods.required.call(this,$.trim(element.value),element)&&"dependency-mismatch"},startRequest:function(element){if(!this.pending[element.name]){this.pendingRequest++;this.pending[element.name]=true}},stopRequest:function(element,valid){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[element.name];if(valid&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit();this.formSubmitted=false}else{if(!valid&&this.pendingRequest==0&&this.formSubmitted){$(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(element){return $.data(element,"previousValue")||$.data(element,"previousValue",{old:null,valid:true,message:this.defaultMessage(element,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(className,rules){className.constructor==String?this.classRuleSettings[className]=rules:$.extend(this.classRuleSettings,className)},classRules:function(element){var rules={};var classes=$(element).attr("class");classes&&$.each(classes.split(" "),function(){if(this in $.validator.classRuleSettings){$.extend(rules,$.validator.classRuleSettings[this])}});return rules},attributeRules:function(element){var rules={};var $element=$(element);for(var method in $.validator.methods){var value;if(method==="required"&&typeof $.fn.prop==="function"){value=$element.prop(method)}else{value=$element.attr(method)}if(value){rules[method]=value}else{if($element[0].getAttribute("type")===method){rules[method]=true}}}if(rules.maxlength&&/-1|2147483647|524288/.test(rules.maxlength)){delete rules.maxlength}return rules},metadataRules:function(element){if(!$.metadata){return{}}var meta=$.data(element.form,"validator").settings.meta;return meta?$(element).metadata()[meta]:$(element).metadata()},staticRules:function(element){var rules={};var validator=$.data(element.form,"validator");if(validator.settings.rules){rules=$.validator.normalizeRule(validator.settings.rules[element.name])||{}}return rules},normalizeRules:function(rules,element){$.each(rules,function(prop,val){if(val===false){delete rules[prop];return}if(val.param||val.depends){var keepRule=true;switch(typeof val.depends){case"string":keepRule=!!$(val.depends,element.form).length;break;case"function":keepRule=val.depends.call(element,element);break}if(keepRule){rules[prop]=val.param!==undefined?val.param:true}else{delete rules[prop]}}});$.each(rules,function(rule,parameter){rules[rule]=$.isFunction(parameter)?parameter(element):parameter});$.each(["minlength","maxlength","min","max"],function(){if(rules[this]){rules[this]=Number(rules[this])}});$.each(["rangelength","range"],function(){if(rules[this]){rules[this]=[Number(rules[this][0]),Number(rules[this][1])]}});if($.validator.autoCreateRanges){if(rules.min&&rules.max){rules.range=[rules.min,rules.max];delete rules.min;delete rules.max}if(rules.minlength&&rules.maxlength){rules.rangelength=[rules.minlength,rules.maxlength];delete rules.minlength;delete rules.maxlength}}if(rules.messages){delete rules.messages}return rules},normalizeRule:function(data){if(typeof data=="string"){var transformed={};$.each(data.split(/\s/),function(){transformed[this]=true});data=transformed}return data},addMethod:function(name,method,message){$.validator.methods[name]=method;$.validator.messages[name]=message!=undefined?message:$.validator.messages[name];if(method.length<3){$.validator.addClassRules(name,$.validator.normalizeRule(name))}},methods:{required:function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch"}switch(element.nodeName.toLowerCase()){case"select":var val=$(element).val();return val&&val.length>0;case"input":if(this.checkable(element)){return this.getLength(value,element)>0}default:return $.trim(value).length>0}},remote:function(value,element,param){if(this.optional(element)){return"dependency-mismatch"}var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={}}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(this.pending[element.name]){return"pending"}if(previous.old===value){return previous.valid}previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;$.ajax($.extend(true,{url:param,mode:"abort",port:"validate"+element.name,dataType:"json",data:data,success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors()}else{var errors={};var message=response||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message(value):message;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}},param));return"pending"},minlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)>=param},maxlength:function(value,element,param){return this.optional(element)||this.getLength($.trim(value),element)<=param},rangelength:function(value,element,param){var length=this.getLength($.trim(value),element);return this.optional(element)||(length>=param[0]&&length<=param[1])},min:function(value,element,param){return this.optional(element)||value>=param},max:function(value,element,param){return this.optional(element)||value<=param},range:function(value,element,param){return this.optional(element)||(value>=param[0]&&value<=param[1])},email:function(value,element){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(value)},url:function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},date:function(value,element){return this.optional(element)||!/Invalid|NaN/.test(new Date(value))},dateISO:function(value,element){return this.optional(element)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(value)},number:function(value,element){return this.optional(element)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(value)},digits:function(value,element){return this.optional(element)||/^\d+$/.test(value)},creditcard:function(value,element){if(this.optional(element)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(value)){return false}var nCheck=0,nDigit=0,bEven=false;value=value.replace(/\D/g,"");for(var n=value.length-1;n>=0;n--){var cDigit=value.charAt(n);var nDigit=parseInt(cDigit,10);if(bEven){if((nDigit*=2)>9){nDigit-=9}}nCheck+=nDigit;bEven=!bEven}return(nCheck%10)==0},accept:function(value,element,param){param=typeof param=="string"?param.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(element)||value.match(new RegExp(".("+param+")$","i"))},equalTo:function(value,element,param){var target=$(param).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){$(element).valid()});return value==target.val()}}});$.format=$.validator.format})(jQuery);(function($){var pendingRequests={};if($.ajaxPrefilter){$.ajaxPrefilter(function(settings,_,xhr){var port=settings.port;if(settings.mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}pendingRequests[port]=xhr}})}else{var ajax=$.ajax;$.ajax=function(settings){var mode=("mode" in settings?settings:$.ajaxSettings).mode,port=("port" in settings?settings:$.ajaxSettings).port;if(mode=="abort"){if(pendingRequests[port]){pendingRequests[port].abort()}return(pendingRequests[port]=ajax.apply(this,arguments))}return ajax.apply(this,arguments)}}})(jQuery);(function($){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){$.each({focus:"focusin",blur:"focusout"},function(original,fix){$.event.special[fix]={setup:function(){this.addEventListener(original,handler,true)},teardown:function(){this.removeEventListener(original,handler,true)},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=fix;return $.event.handle.apply(this,arguments)}};function handler(e){e=$.event.fix(e);e.type=fix;return $.event.handle.call(this,e)}})}$.extend($.fn,{validateDelegate:function(delegate,type,handler){return this.bind(type,function(event){var target=$(event.target);if(target.is(delegate)){return handler.apply(target,arguments)}})}})})(jQuery);(function(){function stripHtml(value){return value.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[0-9.(),;:!?%#$'"_+=\/-]*/g,"")}$.validator.addMethod("maxWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length<params},$.validator.format("Please enter {0} words or less."));$.validator.addMethod("minWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params},$.validator.format("Please enter at least {0} words."));$.validator.addMethod("rangeWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params[0]&&value.match(/bw+b/g).length<params[1]},$.validator.format("Please enter between {0} and {1} words."))})();$.validator.addMethod("position",function(value,element){return true},"");$.validator.addMethod("text",function(value,element){return true},"");$.validator.addMethod("dateLater",function(value,element,params){return this.optional(element)||EP.Glob.StringToDate($(element).val())>=EP.Glob.StringToDate($("."+params).val())},function(params,element){return $.validator.format("Date must be later than {0}",$("."+params).val())});$.validator.addMethod("letterswithbasicpunc",function(value,element){return this.optional(element)||/^[a-z-.,()'\"\s]+$/i.test(value)},"Letters or punctuation only please");$.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^\w+$/i.test(value)},"Letters, numbers, spaces or underscores only please");$.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value)},"Letters only please");$.validator.addMethod("nowhitespace",function(value,element){return this.optional(element)||/^\S+$/i.test(value)},"No white space please");$.validator.addMethod("ziprange",function(value,element){return this.optional(element)||/^90[2-5]\d\{2}-\d{4}$/.test(value)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");$.validator.addMethod("integer",function(value,element){return this.optional(element)||/^-?\d+$/.test(value)},"A positive or negative non-decimal number please");$.validator.addMethod("nonnumeric",function(value,element){return this.optional(element)||!(/[\d]+/g.test(value))},"Not number please");$.validator.addMethod("vinUS",function(v){if(v.length!=17){return false}var i,n,d,f,cd,cdv;var LL=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var rs=0;for(i=0;i<17;i++){f=FL[i];d=v.slice(i,i+1);if(i==8){cdv=d}if(!isNaN(d)){d*=f}else{for(n=0;n<LL.length;n++){if(d.toUpperCase()===LL[n]){d=VL[n];d*=f;if(isNaN(cdv)&&n==8){cdv=LL[n]}break}}}rs+=d}cd=rs%11;if(cd==10){cd="X"}if(cd==cdv){return true}return false},"The specified vehicle identification number (VIN) is invalid.");$.validator.addMethod("dateITA",function(value,element){var check=false;var re=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(re.test(value)){var adata=value.split("/");var gg=parseInt(adata[0],10);var mm=parseInt(adata[1],10);var aaaa=parseInt(adata[2],10);var xdata=new Date(aaaa,mm-1,gg);if((xdata.getFullYear()==aaaa)&&(xdata.getMonth()==mm-1)&&(xdata.getDate()==gg)){check=true}else{check=false}}else{check=false}return this.optional(element)||check},"Please enter a correct date");$.validator.addMethod("dateNL",function(value,element){return this.optional(element)||/^\d\d?[\.\/-]\d\d?[\.\/-]\d\d\d?\d?$/.test(value)},"Vul hier een geldige datum in.");$.validator.addMethod("time",function(value,element){return this.optional(element)||/^([01]\d|2[0-3])(:[0-5]\d){0,2}$/.test(value)},"Please enter a valid time, between 00:00 and 23:59");$.validator.addMethod("time12h",function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\d){0,2}(\ [AP]M))$/i.test(value)},"Please enter a valid time, between 00:00 am and 12:00 pm");$.validator.addMethod("phoneUS",function(phone_number,element){phone_number=phone_number.replace(/\s+/g,"");return this.optional(element)||phone_number.length>9&&phone_number.match(/^(1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");$.validator.addMethod("phoneUK",function(phone_number,element){return this.optional(element)||phone_number.length>9&&phone_number.match(/^(\(?(0|\+44)[1-9]{1}\d{1,4}?\)?\s?\d{3,4}\s?\d{3,4})$/)},"Please specify a valid phone number");$.validator.addMethod("mobileUK",function(phone_number,element){return this.optional(element)||phone_number.length>9&&phone_number.match(/^((0|\+44)7(5|6|7|8|9){1}\d{2}\s?\d{6})$/)},"Please specify a valid mobile number");$.validator.addMethod("strippedminlength",function(value,element,param){return jQuery(value).text().length>=param},$.validator.format("Please enter at least {0} characters"));$.validator.addMethod("email2",function(value,element,param){return this.optional(element)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(value)},$.validator.messages.email);$.validator.addMethod("url2",function(value,element,param){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},$.validator.messages.url);$.validator.addMethod("creditcardtypes",function(value,element,param){if(/[^0-9-]+/.test(value)){return false}value=value.replace(/\D/g,"");var validTypes=0;if(param.mastercard){validTypes|=1}if(param.visa){validTypes|=2}if(param.amex){validTypes|=4}if(param.dinersclub){validTypes|=8}if(param.enroute){validTypes|=16}if(param.discover){validTypes|=32}if(param.jcb){validTypes|=64}if(param.unknown){validTypes|=128}if(param.all){validTypes=1|2|4|8|16|32|64|128}if(validTypes&1&&/^(51|52|53|54|55)/.test(value)){return value.length==16}if(validTypes&2&&/^(4)/.test(value)){return value.length==16}if(validTypes&4&&/^(34|37)/.test(value)){return value.length==15}if(validTypes&8&&/^(300|301|302|303|304|305|36|38)/.test(value)){return value.length==14}if(validTypes&16&&/^(2014|2149)/.test(value)){return value.length==15}if(validTypes&32&&/^(6011)/.test(value)){return value.length==16}if(validTypes&64&&/^(3)/.test(value)){return value.length==16}if(validTypes&64&&/^(2131|1800)/.test(value)){return value.length==15}if(validTypes&128){return true}return false},"Please enter a valid credit card number.");$.validator.addMethod("ipv4",function(value,element,param){return this.optional(element)||/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value)},"Please enter a valid IP v4 address.");$.validator.addMethod("ipv6",function(value,element,param){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},"Please enter a valid IP v6 address.");$.validator.addMethod("pattern",function(value,element,param){return this.optional(element)||param.test(value)},"Invalid format.");$.validator.addMethod("mustMatchWith",function(value,element,param){var result=this.optional(element)||$("input[name="+param+"]").val()==value;return result},"The Password and Confirmation Password must match");$.validator.addMethod("mustSelectOneIf",function(value,element,param){if(param.predicate.filter(":checked").length<1){return true}var result=param.options.filter(":checked").length>0;return result},"You must select at least one element.");(function($){var localized={en:{}};localized["default"]=localized.en;$.extend({findClosestCulture:function(name){var match;if(!name){match=$.culture||$.cultures["default"]}else{if($.isPlainObject(name)){match=name}else{var cultures=$.cultures,list=$.isArray(name)?name:[name],i,l=list.length;for(i=0;i<l;i++){name=list[i];match=cultures[name];if(match){return match}}for(i=0;i<l;i++){name=list[i];do{var index=name.lastIndexOf("-");if(index===-1){break}name=name.substr(0,index);match=cultures[name];if(match){return match}}while(1)}}}return match||null},preferCulture:function(name){$.culture=$.findClosestCulture(name)||$.cultures["default"]},localize:function(key,culture,value){if(typeof culture==="string"){culture=culture||"default";culture=$.cultures[culture]||{name:culture}}var local=localized[culture.name];if(arguments.length===3){if(!local){local=localized[culture.name]={}}local[key]=value}else{if(local){value=local[key]}if(typeof value==="undefined"){var language=localized[culture.language];if(language){value=language[key]}if(typeof value==="undefined"){value=localized["default"][key]}}}return typeof value==="undefined"?null:value},format:function(value,format,culture){culture=$.findClosestCulture(culture);if(typeof value==="number"){value=formatNumber(value,format,culture)}else{if(value instanceof Date){value=formatDate(value,format,culture)}}return value},parseInt:function(value,radix,culture){return Math.floor($.parseFloat(value,radix,culture))},parseFloat:function(value,radix,culture){culture=$.findClosestCulture(culture);var ret=NaN,nf=culture.numberFormat;value=trim(value);if(regexInfinity.test(value)){ret=parseFloat(value,radix)}else{if(!radix&&regexHex.test(value)){ret=parseInt(value,16)}else{var signInfo=parseNegativePattern(value,nf,nf.pattern[0]),sign=signInfo[0],num=signInfo[1];if(sign===""&&nf.pattern[0]!=="-n"){signInfo=parseNegativePattern(value,nf,"-n");sign=signInfo[0];num=signInfo[1]}sign=sign||"+";var exponent,intAndFraction,exponentPos=num.indexOf("e");if(exponentPos<0){exponentPos=num.indexOf("E")}if(exponentPos<0){intAndFraction=num;exponent=null}else{intAndFraction=num.substr(0,exponentPos);exponent=num.substr(exponentPos+1)}var integer,fraction,decSep=nf["."],decimalPos=intAndFraction.indexOf(decSep);if(decimalPos<0){integer=intAndFraction;fraction=null}else{integer=intAndFraction.substr(0,decimalPos);fraction=intAndFraction.substr(decimalPos+decSep.length)}var groupSep=nf[","];integer=integer.split(groupSep).join("");var altGroupSep=groupSep.replace(/\u00A0/g," ");if(groupSep!==altGroupSep){integer=integer.split(altGroupSep).join("")}var p=sign+integer;if(fraction!==null){p+="."+fraction}if(exponent!==null){var expSignInfo=parseNegativePattern(exponent,nf,"-n");p+="e"+(expSignInfo[0]||"+")+expSignInfo[1]}if(regexParseFloat.test(p)){ret=parseFloat(p)}}}return ret},parseDate:function(value,formats,culture){culture=$.findClosestCulture(culture);var date;if(formats){if(typeof formats==="string"){formats=[formats]}if(formats.length){for(var i=0,l=formats.length;i<l;i++){var format=formats[i];if(format){date=parseExact(value,format,culture);if(date){break}}}}}else{$.each(culture.calendar.patterns,function(name,format){date=parseExact(value,format,culture);if(date){return false}})}return date||null}});var cultures=$.cultures=$.cultures||{};var en=cultures["default"]=cultures.en=$.extend(true,{name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy\u0027-\u0027MM\u0027-\u0027dd\u0027T\u0027HH\u0027:\u0027mm\u0027:\u0027ss"}}}},cultures.en);en.calendar=en.calendar||en.calendars.standard;var regexTrim=/^\s+|\s+$/g,regexInfinity=/^[+-]?infinity$/i,regexHex=/^0x[a-f0-9]+$/i,regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;function startsWith(value,pattern){return value.indexOf(pattern)===0}function endsWith(value,pattern){return value.substr(value.length-pattern.length)===pattern}function trim(value){return(value+"").replace(regexTrim,"")}function zeroPad(str,count,left){for(var l=str.length;l<count;l++){str=(left?("0"+str):(str+"0"))}return str}function expandNumber(number,precision,formatInfo){var groupSizes=formatInfo.groupSizes,curSize=groupSizes[0],curGroupIndex=1,factor=Math.pow(10,precision),rounded=Math.round(number*factor)/factor;if(!isFinite(rounded)){rounded=number}number=rounded;var numberString=number+"",right="",split=numberString.split(/e/i),exponent=split.length>1?parseInt(split[1],10):0;numberString=split[0];split=numberString.split(".");numberString=split[0];right=split.length>1?split[1]:"";var l;if(exponent>0){right=zeroPad(right,exponent,false);numberString+=right.slice(0,exponent);right=right.substr(exponent)}else{if(exponent<0){exponent=-exponent;numberString=zeroPad(numberString,exponent+1);right=numberString.slice(-exponent,numberString.length)+right;numberString=numberString.slice(0,-exponent)}}if(precision>0){right=formatInfo["."]+((right.length>precision)?right.slice(0,precision):zeroPad(right,precision))}else{right=""}var stringIndex=numberString.length-1,sep=formatInfo[","],ret="";while(stringIndex>=0){if(curSize===0||curSize>stringIndex){return numberString.slice(0,stringIndex+1)+(ret.length?(sep+ret+right):right)}ret=numberString.slice(stringIndex-curSize+1,stringIndex+1)+(ret.length?(sep+ret):"");stringIndex-=curSize;if(curGroupIndex<groupSizes.length){curSize=groupSizes[curGroupIndex];curGroupIndex++}}return numberString.slice(0,stringIndex+1)+sep+ret+right}function parseNegativePattern(value,nf,negativePattern){var neg=nf["-"],pos=nf["+"],ret;switch(negativePattern){case"n -":neg=" "+neg;pos=" "+pos;case"n-":if(endsWith(value,neg)){ret=["-",value.substr(0,value.length-neg.length)]}else{if(endsWith(value,pos)){ret=["+",value.substr(0,value.length-pos.length)]}}break;case"- n":neg+=" ";pos+=" ";case"-n":if(startsWith(value,neg)){ret=["-",value.substr(neg.length)]}else{if(startsWith(value,pos)){ret=["+",value.substr(pos.length)]}}break;case"(n)":if(startsWith(value,"(")&&endsWith(value,")")){ret=["-",value.substr(1,value.length-2)]}break}return ret||["",value]}function formatNumber(value,format,culture){if(!format||format==="i"){return culture.name.length?value.toLocaleString():value.toString()}format=format||"D";var nf=culture.numberFormat,number=Math.abs(value),precision=-1,pattern;if(format.length>1){precision=parseInt(format.slice(1),10)}var current=format.charAt(0).toUpperCase(),formatInfo;switch(current){case"D":pattern="n";if(precision!==-1){number=zeroPad(""+number,precision,true)}if(value<0){number=-number}break;case"N":formatInfo=nf;case"C":formatInfo=formatInfo||nf.currency;case"P":formatInfo=formatInfo||nf.percent;pattern=value<0?formatInfo.pattern[0]:(formatInfo.pattern[1]||"n");if(precision===-1){precision=formatInfo.decimals}number=expandNumber(number*(current==="P"?100:1),precision,formatInfo);break;default:$.error("Bad number format specifier: "+current)}var patternParts=/n|\$|-|%/g,ret="";for(;;){var index=patternParts.lastIndex,ar=patternParts.exec(pattern);ret+=pattern.slice(index,ar?ar.index:pattern.length);if(!ar){break}switch(ar[0]){case"n":ret+=number;break;case"$":ret+=nf.currency.symbol;break;case"-":if(/[1-9]/.test(number)){ret+=nf["-"]}break;case"%":ret+=nf.percent.symbol;break}}return ret}function outOfRange(value,low,high){return value<low||value>high}function expandYear(cal,year){var now=new Date(),era=getEra(now);if(year<100){var twoDigitYearMax=cal.twoDigitYearMax;twoDigitYearMax=typeof twoDigitYearMax==="string"?new Date().getFullYear()%100+parseInt(twoDigitYearMax,10):twoDigitYearMax;var curr=getEraYear(now,cal,era);year+=curr-(curr%100);if(year>twoDigitYearMax){year-=100}}return year}function getEra(date,eras){if(!eras){return 0}var start,ticks=date.getTime();for(var i=0,l=eras.length;i<l;i++){start=eras[i].start;if(start===null||ticks>=start){return i}}return 0}function toUpper(value){return value.split("\u00A0").join(" ").toUpperCase()}function toUpperArray(arr){return $.map(arr,function(e){return toUpper(e)})}function getEraYear(date,cal,era,sortable){var year=date.getFullYear();if(!sortable&&cal.eras){year-=cal.eras[era].offset}return year}function getDayIndex(cal,value,abbr){var ret,days=cal.days,upperDays=cal._upperDays;if(!upperDays){cal._upperDays=upperDays=[toUpperArray(days.names),toUpperArray(days.namesAbbr),toUpperArray(days.namesShort)]}value=toUpper(value);if(abbr){ret=$.inArray(value,upperDays[1]);if(ret===-1){ret=$.inArray(value,upperDays[2])}}else{ret=$.inArray(value,upperDays[0])}return ret}function getMonthIndex(cal,value,abbr){var months=cal.months,monthsGen=cal.monthsGenitive||cal.months,upperMonths=cal._upperMonths,upperMonthsGen=cal._upperMonthsGen;if(!upperMonths){cal._upperMonths=upperMonths=[toUpperArray(months.names),toUpperArray(months.namesAbbr),];cal._upperMonthsGen=upperMonthsGen=[toUpperArray(monthsGen.names),toUpperArray(monthsGen.namesAbbr)]}value=toUpper(value);var i=$.inArray(value,abbr?upperMonths[1]:upperMonths[0]);if(i<0){i=$.inArray(value,abbr?upperMonthsGen[1]:upperMonthsGen[0])}return i}function appendPreOrPostMatch(preMatch,strings){var quoteCount=0,escaped=false;for(var i=0,il=preMatch.length;i<il;i++){var c=preMatch.charAt(i);switch(c){case"'":if(escaped){strings.push("'")}else{quoteCount++}escaped=false;break;case"\\":if(escaped){strings.push("\\")}escaped=!escaped;break;default:strings.push(c);escaped=false;break}}return quoteCount}function expandFormat(cal,format){format=format||"F";var pattern,patterns=cal.patterns,len=format.length;if(len===1){pattern=patterns[format];if(!pattern){$.error("Invalid date format string '"+format+"'.")}format=pattern}else{if(len===2&&format.charAt(0)==="%"){format=format.charAt(1)}}return format}function getParseRegExp(cal,format){var re=cal._parseRegExp;if(!re){cal._parseRegExp=re={}}else{var reFormat=re[format];if(reFormat){return reFormat}}var expFormat=expandFormat(cal,format).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),regexp=["^"],groups=[],index=0,quoteCount=0,tokenRegExp=getTokenRegExp(),match;while((match=tokenRegExp.exec(expFormat))!==null){var preMatch=expFormat.slice(index,match.index);index=tokenRegExp.lastIndex;quoteCount+=appendPreOrPostMatch(preMatch,regexp);if(quoteCount%2){regexp.push(match[0]);continue}var m=match[0],len=m.length,add;switch(m){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":add="(\\D+)";break;case"tt":case"t":add="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":add="(\\d{"+len+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":add="(\\d\\d?)";break;case"zzz":add="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":add="([+-]?\\d\\d?)";break;case"/":add="(\\"+cal["/"]+")";break;default:$.error("Invalid date format pattern '"+m+"'.");break}if(add){regexp.push(add)}groups.push(match[0])}appendPreOrPostMatch(expFormat.slice(index),regexp);regexp.push("$");var regexpStr=regexp.join("").replace(/\s+/g,"\\s+"),parseRegExp={regExp:regexpStr,groups:groups};return re[format]=parseRegExp}function getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g}function parseExact(value,format,culture){value=trim(value);var cal=culture.calendar,parseInfo=getParseRegExp(cal,format),match=new RegExp(parseInfo.regExp).exec(value);if(match===null){return null}var groups=parseInfo.groups,era=null,year=null,month=null,date=null,weekDay=null,hour=0,hourOffset,min=0,sec=0,msec=0,tzMinOffset=null,pmHour=false;for(var j=0,jl=groups.length;j<jl;j++){var matchGroup=match[j+1];if(matchGroup){var current=groups[j],clength=current.length,matchInt=parseInt(matchGroup,10);switch(current){case"dd":case"d":date=matchInt;if(outOfRange(date,1,31)){return null}break;case"MMM":case"MMMM":month=getMonthIndex(cal,matchGroup,clength===3);if(outOfRange(month,0,11)){return null}break;case"M":case"MM":month=matchInt-1;if(outOfRange(month,0,11)){return null}break;case"y":case"yy":case"yyyy":year=clength<4?expandYear(cal,matchInt):matchInt;if(outOfRange(year,0,9999)){return null}break;case"h":case"hh":hour=matchInt;if(hour===12){hour=0}if(outOfRange(hour,0,11)){return null}break;case"H":case"HH":hour=matchInt;if(outOfRange(hour,0,23)){return null}break;case"m":case"mm":min=matchInt;if(outOfRange(min,0,59)){return null}break;case"s":case"ss":sec=matchInt;if(outOfRange(sec,0,59)){return null}break;case"tt":case"t":pmHour=cal.PM&&(matchGroup===cal.PM[0]||matchGroup===cal.PM[1]||matchGroup===cal.PM[2]);if(!pmHour&&(!cal.AM||(matchGroup!==cal.AM[0]&&matchGroup!==cal.AM[1]&&matchGroup!==cal.AM[2]))){return null}break;case"f":case"ff":case"fff":msec=matchInt*Math.pow(10,3-clength);if(outOfRange(msec,0,999)){return null}break;case"ddd":case"dddd":weekDay=getDayIndex(cal,matchGroup,clength===3);if(outOfRange(weekDay,0,6)){return null}break;case"zzz":var offsets=matchGroup.split(/:/);if(offsets.length!==2){return null}hourOffset=parseInt(offsets[0],10);if(outOfRange(hourOffset,-12,13)){return null}var minOffset=parseInt(offsets[1],10);if(outOfRange(minOffset,0,59)){return null}tzMinOffset=(hourOffset*60)+(startsWith(matchGroup,"-")?-minOffset:minOffset);break;case"z":case"zz":hourOffset=matchInt;if(outOfRange(hourOffset,-12,13)){return null}tzMinOffset=hourOffset*60;break;case"g":case"gg":var eraName=matchGroup;if(!eraName||!cal.eras){return null}eraName=trim(eraName.toLowerCase());for(var i=0,l=cal.eras.length;i<l;i++){if(eraName===cal.eras[i].name.toLowerCase()){era=i;break}}if(era===null){return null}break}}}var result=new Date(),defaultYear,convert=cal.convert;defaultYear=convert?convert.fromGregorian(result)[0]:result.getFullYear();if(year===null){year=defaultYear}else{if(cal.eras){year+=cal.eras[(era||0)].offset}}if(month===null){month=0}if(date===null){date=1}if(convert){result=convert.toGregorian(year,month,date);if(result===null){return null}}else{result.setFullYear(year,month,date);if(result.getDate()!==date){return null}if(weekDay!==null&&result.getDay()!==weekDay){return null}}if(pmHour&&hour<12){hour+=12}result.setHours(hour,min,sec,msec);if(tzMinOffset!==null){var adjustedMin=result.getMinutes()-(tzMinOffset+result.getTimezoneOffset());result.setHours(result.getHours()+parseInt(adjustedMin/60,10),adjustedMin%60)}return result}function formatDate(value,format,culture){var cal=culture.calendar,convert=cal.convert;if(!format||!format.length||format==="i"){var ret;if(culture&&culture.name.length){if(convert){ret=formatDate(value,cal.patterns.F,culture)}else{var eraDate=new Date(value.getTime()),era=getEra(value,cal.eras);eraDate.setFullYear(getEraYear(value,cal,era));ret=eraDate.toLocaleString()}}else{ret=value.toString()}return ret}var eras=cal.eras,sortable=format==="s";format=expandFormat(cal,format);ret=[];var hour,zeros=["0","00","000"],foundDay,checkedDay,dayPartRegExp=/([^d]|^)(d|dd)([^d]|$)/g,quoteCount=0,tokenRegExp=getTokenRegExp(),converted;function padZeros(num,c){var r,s=num+"";if(c>1&&s.length<c){r=(zeros[c-2]+s);return r.substr(r.length-c,c)}else{r=s}return r}function hasDay(){if(foundDay||checkedDay){return foundDay}foundDay=dayPartRegExp.test(format);checkedDay=true;return foundDay}function getPart(date,part){if(converted){return converted[part]}switch(part){case 0:return date.getFullYear();case 1:return date.getMonth();case 2:return date.getDate()}}if(!sortable&&convert){converted=convert.fromGregorian(value)}for(;;){var index=tokenRegExp.lastIndex,ar=tokenRegExp.exec(format);var preMatch=format.slice(index,ar?ar.index:format.length);quoteCount+=appendPreOrPostMatch(preMatch,ret);if(!ar){break}if(quoteCount%2){ret.push(ar[0]);continue}var current=ar[0],clength=current.length;switch(current){case"ddd":case"dddd":names=(clength===3)?cal.days.namesAbbr:cal.days.names;ret.push(names[value.getDay()]);break;case"d":case"dd":foundDay=true;ret.push(padZeros(getPart(value,2),clength));break;case"MMM":case"MMMM":var part=getPart(value,1);ret.push((cal.monthsGenitive&&hasDay())?cal.monthsGenitive[clength===3?"namesAbbr":"names"][part]:cal.months[clength===3?"namesAbbr":"names"][part]);break;case"M":case"MM":ret.push(padZeros(getPart(value,1)+1,clength));break;case"y":case"yy":case"yyyy":part=converted?converted[0]:getEraYear(value,cal,getEra(value,eras),sortable);if(clength<4){part=part%100}ret.push(padZeros(part,clength));break;case"h":case"hh":hour=value.getHours()%12;if(hour===0){hour=12}ret.push(padZeros(hour,clength));break;case"H":case"HH":ret.push(padZeros(value.getHours(),clength));break;case"m":case"mm":ret.push(padZeros(value.getMinutes(),clength));break;case"s":case"ss":ret.push(padZeros(value.getSeconds(),clength));break;case"t":case"tt":part=value.getHours()<12?(cal.AM?cal.AM[0]:" "):(cal.PM?cal.PM[0]:" ");ret.push(clength===1?part.charAt(0):part);break;case"f":case"ff":case"fff":ret.push(padZeros(value.getMilliseconds(),3).substr(0,clength));break;case"z":case"zz":hour=value.getTimezoneOffset()/60;ret.push((hour<=0?"+":"-")+padZeros(Math.floor(Math.abs(hour)),clength));break;case"zzz":hour=value.getTimezoneOffset()/60;ret.push((hour<=0?"+":"-")+padZeros(Math.floor(Math.abs(hour)),2)+":"+padZeros(Math.abs(value.getTimezoneOffset()%60),2));break;case"g":case"gg":if(cal.eras){ret.push(cal.eras[getEra(value,eras)].name)}break;case"/":ret.push(cal["/"]);break;default:$.error("Invalid date format pattern '"+current+"'.");break}}return ret.join("")}})(jQuery);(function($){var Meta={};Meta.pos=$.extend(["top","bottom","left","right"],{camel:["Top","Bottom","Left","Right"]});Meta.size=$.extend(["height","width"],{camel:["Height","Width"]});Meta.getRelativeNames=function(position){var idx={pos:{o:position,f:(position%2==0)?position+1:position-1,p1:(position%2==0)?position:position-1,p2:(position%2==0)?position+1:position,c1:(position<2)?2:0,c2:(position<2)?3:1},size:{p:(position<2)?0:1,c:(position<2)?1:0}};var names={};for(var m1 in idx){if(!names[m1]){names[m1]={}}for(var m2 in idx[m1]){names[m1][m2]=Meta[m1][idx[m1][m2]];if(!names.camel){names.camel={}}if(!names.camel[m1]){names.camel[m1]={}}names.camel[m1][m2]=Meta[m1].camel[idx[m1][m2]]}}names.isTopLeft=(names.pos.o==names.pos.p1);return names};function NumericalBoxElement(){this.initialize.apply(this,arguments)}(function(){var Methods={setBorder:function(pos,isVertical){return function(value){this.$.css("border-"+pos.toLowerCase()+"-width",value+"px");this["border"+pos]=value;return(this.isActive)?digitalize(this,isVertical):this}},setPosition:function(pos,isVertical){return function(value){this.$.css(pos.toLowerCase(),value+"px");this[pos.toLowerCase()]=value;return(this.isActive)?digitalize(this,isVertical):this}}};NumericalBoxElement.prototype={initialize:function($element){this.$=$element;$.extend(true,this,this.$.offset(),{center:{},inner:{center:{}}});for(var i=0;i<Meta.pos.length;i++){this["border"+Meta.pos.camel[i]]=parseInt(this.$.css("border-"+Meta.pos[i]+"-width"))||0}this.active()},active:function(){this.isActive=true;digitalize(this);return this},inactive:function(){this.isActive=false;return this}};for(var i=0;i<Meta.pos.length;i++){NumericalBoxElement.prototype["setBorder"+Meta.pos.camel[i]]=Methods.setBorder(Meta.pos.camel[i],(i<2));if(i%2==0){NumericalBoxElement.prototype["set"+Meta.pos.camel[i]]=Methods.setPosition(Meta.pos.camel[i],(i<2))}}function digitalize(box,isVertical){if(isVertical==undefined){digitalize(box,true);return digitalize(box,false)}var m=Meta.getRelativeNames((isVertical)?0:2);box[m.size.p]=box.$["outer"+m.camel.size.p]();box[m.pos.f]=box[m.pos.o]+box[m.size.p];box.center[m.pos.o]=box[m.pos.o]+box[m.size.p]/2;box.inner[m.pos.o]=box[m.pos.o]+box["border"+m.camel.pos.o];box.inner[m.size.p]=box.$["inner"+m.camel.size.p]();box.inner[m.pos.f]=box.inner[m.pos.o]+box.inner[m.size.p];box.inner.center[m.pos.o]=box.inner[m.pos.f]+box.inner[m.size.p]/2;return box}})();function makeupBalloon($target,$balloon,options){$balloon.stop(true,true);var outerTip,innerTip,initTipStyle={position:"absolute",height:"0",width:"0",border:"solid 0 transparent"},target=new NumericalBoxElement($target),balloon=new NumericalBoxElement($balloon);balloon.setTop(-options.offsetY+((options.position&&options.position.indexOf("top")>=0)?target.top-balloon.height:((options.position&&options.position.indexOf("bottom")>=0)?target.bottom:target.center.top-balloon.height/2)));balloon.setLeft(options.offsetX+((options.position&&options.position.indexOf("left")>=0)?target.left-balloon.width:((options.position&&options.position.indexOf("right")>=0)?target.right:target.center.left-balloon.width/2)));if(options.tipSize>0){if($balloon.data("outerTip")){$balloon.data("outerTip").remove();$balloon.removeData("outerTip")}if($balloon.data("innerTip")){$balloon.data("innerTip").remove();$balloon.removeData("innerTip")}outerTip=new NumericalBoxElement($("<div>").css(initTipStyle).appendTo($balloon));innerTip=new NumericalBoxElement($("<div>").css(initTipStyle).appendTo($balloon));var m;for(var i=0;i<Meta.pos.length;i++){m=Meta.getRelativeNames(i);if(balloon.center[m.pos.c1]>=target[m.pos.c1]&&balloon.center[m.pos.c1]<=target[m.pos.c2]){if(i%2==0){if(balloon[m.pos.o]>=target[m.pos.o]&&balloon[m.pos.f]>=target[m.pos.f]){break}}else{if(balloon[m.pos.o]<=target[m.pos.o]&&balloon[m.pos.f]<=target[m.pos.f]){break}}}m=null}if(m){balloon["set"+m.camel.pos.p1](balloon[m.pos.p1]+((m.isTopLeft)?1:-1)*(options.tipSize-balloon["border"+m.camel.pos.o]));makeTip(balloon,outerTip,m,options.tipSize,$balloon.css("border-"+m.pos.o+"-color"));makeTip(balloon,innerTip,m,options.tipSize-2*balloon["border"+m.camel.pos.o],$balloon.css("background-color"));$balloon.data("outerTip",outerTip.$).data("innerTip",innerTip.$)}else{$.each([outerTip.$,innerTip.$],function(){this.remove()})}}function makeTip(balloon,tip,m,tipSize,color){var len=Math.round(tipSize/1.7320508);tip.inactive()["setBorder"+m.camel.pos.f](tipSize)["setBorder"+m.camel.pos.c1](len)["setBorder"+m.camel.pos.c2](len)["set"+m.camel.pos.p1]((m.isTopLeft)?-tipSize:balloon.inner[m.size.p])["set"+m.camel.pos.c1](balloon.inner[m.size.c]/2-len).active().$.css("border-"+m.pos.f+"-color",color)}}function isValidTargetEvent($target,e){var b=$target.data("balloon")&&$target.data("balloon").get(0);return !(b&&(b==e.relatedTarget||$.contains(b,e.relatedTarget)))}$.fn.balloon=function(options){options=$.extend(true,{},$.balloon.defaults,options);return this.one("mouseenter",function(e){var $target=$(this),t=this;var $balloon=$target.unbind("mouseenter",arguments.callee).showBalloon(options).mouseenter(function(e){isValidTargetEvent($target,e)&&$target.showBalloon()}).data("balloon");if($balloon){$balloon.mouseleave(function(e){if(t==e.relatedTarget||$.contains(t,e.relatedTarget)){return}$target.hideBalloon()}).mouseenter(function(e){$target.showBalloon()})}}).mouseleave(function(e){var $target=$(this);isValidTargetEvent($target,e)&&$target.hideBalloon()})};$.fn.showBalloon=function(options){var $target,$balloon,offTimer;if(!$.balloon.defaults.css){$.balloon.defaults.css={}}if(options||!this.data("options")){this.data("options",$.extend(true,{},$.balloon.defaults,options))}options=this.data("options");return this.each(function(){$target=$(this);(offTimer=$target.data("offTimer"))&&clearTimeout(offTimer);var contents=$.isFunction(options.contents)?options.contents():(options.contents||$target.attr("title"));var isNew=!($balloon=$target.data("balloon"));if(isNew){$balloon=$("<div>").append(contents)}if(!options.url&&(!$balloon||$balloon.html()=="")){return}if(!isNew&&contents&&contents!=$balloon.html()){$balloon.empty().append(contents)}$target.removeAttr("title");if(options.url){$balloon.load($.isFunction(options.url)?options.url(this):options.url,function(res,sts,xhr){if(options.ajaxComplete){options.ajaxComplete(res,sts,xhr)}makeupBalloon($target,$balloon,options)})}if(isNew){$balloon.addClass(options.classname).css(options.css).css({visibility:"hidden",position:"absolute"}).appendTo("body");$target.data("balloon",$balloon);makeupBalloon($target,$balloon,options);$balloon.hide().css("visibility","visible")}else{makeupBalloon($target,$balloon,options)}$target.data("onTimer",setTimeout(function(){if(options.showAnimation){options.showAnimation.apply($balloon.stop(true,true),[options.showDuration])}else{$balloon.show(options.showDuration,function(){if(this.style.removeAttribute){this.style.removeAttribute("filter")}})}},options.delay));if(options.hideAfterThisDuration){setTimeout(function(){$target.hideBalloon()},options.hideAfterThisDuration)}})};$.fn.hideBalloon=function(){var options=this.data("options"),onTimer,offTimer;if(!options){return}return this.each(function(){var $target=$(this);(onTimer=$target.data("onTimer"))&&clearTimeout(onTimer);(offTimer=$target.data("offTimer"))&&clearTimeout(offTimer);$target.data("offTimer",setTimeout(function(){var $balloon=$target.data("balloon");if(options.hideAnimation){$balloon&&options.hideAnimation.apply($balloon.stop(true,true),[options.hideDuration])}else{$balloon&&$balloon.stop(true,true).hide(options.hideDuration)}},options.minLifetime))})};$.balloon={defaults:{contents:null,url:null,ajaxComplete:null,classname:null,position:"top",offsetX:0,offsetY:0,tipSize:12,delay:0,minLifetime:200,hideAfterThisDuration:null,showDuration:100,showAnimation:null,hideDuration:80,hideAnimation:function(d){this.fadeOut(d)},css:{minWidth:"20px",padding:"5px",borderRadius:"6px",border:"solid 1px #777",boxShadow:"4px 4px 4px #555",color:"#666",backgroundColor:"#efefef",opacity:($.support.opacity)?"0.85":null,zIndex:"32767",textAlign:"left"}}}})(jQuery);(function($){$.fn.slidePanel=function(opts){opts=$.extend({triggerName:"#trigger",position:"absolute",triggerTopPos:"80px",panelTopPos:"50px",panelOpacity:1,speed:"fast",ajax:false,ajaxSource:null,clickOutsideToClose:true},opts||{});var panel=this;var trigger=$(opts.triggerName);var isIE6=$.browser.msie&&$.browser.version=="6.0";if(isIE6){opts.position="absolute"}trigger.css("position",opts.position);trigger.css("top",opts.triggerTopPos);panel.css("position",opts.position);panel.css("top",opts.panelTopPos);panel.css("filter","alpha(opacity="+(opts.panelOpacity*100)+")");panel.css("opacity",opts.panelOpacity);trigger.attr("href","javascript:void(0)").mousedown(function(){if(!opts.ajax){panel.toggle(opts.speed);trigger.toggleClass("active");if(trigger.hasClass("active")){if(opts.opened){opts.opened()}}else{if(opts.closed){opts.closed()}}}if(opts.ajax&&opts.ajaxSource!=null){if(!panel.is(":visible")){panel.load(opts.ajaxSource,function(response,status,xhr){if(status!=="success"){var msg="<p>Sorry, but there was an error loading the document.</p>";panel.html(msg)}panel.toggle(opts.speed)})}else{panel.toggle(opts.speed)}trigger.toggleClass("active")}else{if(opts.ajax&&opts.ajaxSource==null){alert("You must define an ajaxSource to use Ajax.")}}return false});if(opts.clickOutsideToClose){}}})(jQuery);(function($){$.fn.appear=function(fn,options){var settings=$.extend({data:undefined,one:true},options);return this.each(function(){var t=$(this);t.appeared=false;if(!fn){t.trigger("appear",settings.data);return}var w=$(window);var check=function(){if(!t.is(":visible")){t.appeared=false;return}var a=w.scrollLeft();var b=w.scrollTop();var o=t.offset();var x=o.left;var y=o.top;if(y-300<=b+w.height()&&x+t.width()>=a&&x<=a+w.width()){if(!t.appeared){t.trigger("appear",settings.data)}}else{t.appeared=false}};var modifiedFn=function(){t.appeared=true;if(settings.one){w.unbind("scroll",check);var i=$.inArray(check,$.fn.appear.checks);if(i>=0){$.fn.appear.checks.splice(i,1)}}fn.apply(this,arguments)};if(settings.one){t.one("appear",settings.data,modifiedFn)}else{t.bind("appear",settings.data,modifiedFn)}w.scroll($.fn.appear.run);$.fn.appear.checks.push(check);(check)()})};$.extend($.fn.appear,{checks:[],timeout:null,checkAll:function(){var length=$.fn.appear.checks.length;if(length>0){while(length--){try{($.fn.appear.checks[length])()}catch(ex){}}}},run:function(){if($.fn.appear.timeout){clearTimeout($.fn.appear.timeout)}$.fn.appear.timeout=setTimeout($.fn.appear.checkAll,20)},clearAll:function(){delete $.fn.appear.checks;$.fn.appear.checks=new Array()}});$.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(i,n){var old=$.fn[n];if(old){$.fn[n]=function(){var r=old.apply(this,arguments);$.fn.appear.run();return r}}})})(jQuery);(function($){var settings={inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3000,text:"",sticky:false,type:"notice",position:"top-right",closeText:"",close:null,closeButton:true};var methods={init:function(options){if(options){$.extend(settings,options)}},showToast:function(options){var localSettings={};$.extend(localSettings,settings,options);var toastWrapAll,toastItemOuter,toastItemInner,toastItemClose,toastItemImage;toastWrapAll=(!$(".toast-container").length)?$("<div></div>").addClass("toast-container").addClass("toast-position-"+localSettings.position).appendTo("body"):$(".toast-container");toastWrapAll.attr("class",function(i,cls){if(/\btoast-position-.*\b/.test(cls)){return cls.replace(/\btoast-position-.*\b/,"toast-position-"+localSettings.position)}});toastItemOuter=$("<div></div>").addClass("toast-item-wrapper");toastItemInner=$("<div></div>").hide().addClass("toast-item toast-type-"+localSettings.type).appendTo(toastWrapAll).html($('<p class="ToastMessageContent">').append(localSettings.text)).animate(localSettings.inEffect,localSettings.inEffectDuration).wrap(toastItemOuter);toastItemClose=$("<div></div>").addClass("toast-item-close").addClass("ui-icon").addClass("ui-icon-closethick").prependTo(toastItemInner).html(localSettings.closeText).click(function(){$().toastmessage("removeToast",toastItemInner,localSettings)});toastItemImage=$("<div></div>").addClass("toast-item-image").addClass("toast-item-image-"+localSettings.type).prependTo(toastItemInner);if(navigator.userAgent.match(/MSIE 6/i)){toastWrapAll.css({top:document.documentElement.scrollTop})}if(!localSettings.sticky){setTimeout(function(){$().toastmessage("removeToast",toastItemInner,localSettings)},localSettings.stayTime)}if(!localSettings.closeButton){$(toastItemInner).find(".toast-item-close").remove()}return toastItemInner},showNoticeToast:function(message){var options={text:message,type:"notice"};return $().toastmessage("showToast",options)},showSuccessToast:function(message){var options={text:message,type:"success"};return $().toastmessage("showToast",options)},showErrorToast:function(message){var options={text:message,type:"error"};return $().toastmessage("showToast",options)},showWarningToast:function(message){var options={text:message,type:"warning"};return $().toastmessage("showToast",options)},removeToast:function(obj,options){obj.animate({opacity:"0"},600,function(){obj.parent().animate({height:"0px"},300,function(){obj.parent().remove()})});if(options&&options.close!==null){options.close()}}};$.fn.toastmessage=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)}else{$.error("Method "+method+" does not exist on jQuery.toastmessage")}}}})(jQuery);(function(window,undefined){function require(arg){return window.less[arg.split("/")[1]]}if(typeof define==="function"&&define.amd){define("less",[],function(){return less})}if(!Array.isArray){Array.isArray=function(obj){return Object.prototype.toString.call(obj)==="[object Array]"||(obj instanceof Array)}}if(!Array.prototype.forEach){Array.prototype.forEach=function(block,thisObject){var len=this.length>>>0;for(var i=0;i<len;i++){if(i in this){block.call(thisObject,this[i],i,this)}}}}if(!Array.prototype.map){Array.prototype.map=function(fun){var len=this.length>>>0;var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in this){res[i]=fun.call(thisp,this[i],i,this)}}return res}}if(!Array.prototype.filter){Array.prototype.filter=function(block){var values=[];var thisp=arguments[1];for(var i=0;i<this.length;i++){if(block.call(thisp,this[i])){values.push(this[i])}}return values}}if(!Array.prototype.reduce){Array.prototype.reduce=function(fun){var len=this.length>>>0;var i=0;if(len===0&&arguments.length===1){throw new TypeError()}if(arguments.length>=2){var rv=arguments[1]}else{do{if(i in this){rv=this[i++];break}if(++i>=len){throw new TypeError()}}while(true)}for(;i<len;i++){if(i in this){rv=fun.call(null,rv,this[i],i,this)}}return rv}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(value){var length=this.length;var i=arguments[1]||0;if(!length){return -1}if(i>=length){return -1}if(i<0){i+=length}for(;i<length;i++){if(!Object.prototype.hasOwnProperty.call(this,i)){continue}if(value===this[i]){return i}}return -1}}if(!Object.keys){Object.keys=function(object){var keys=[];for(var name in object){if(Object.prototype.hasOwnProperty.call(object,name)){keys.push(name)}}return keys}}if(!String.prototype.trim){String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}var less,tree;if(typeof environment==="object"&&({}).toString.call(environment)==="[object Environment]"){if(typeof(window)==="undefined"){less={}}else{less=window.less={}}tree=less.tree={};less.mode="rhino"}else{if(typeof(window)==="undefined"){less=exports,tree=require("./tree");less.mode="node"}else{if(typeof(window.less)==="undefined"){window.less={}}less=window.less,tree=window.less.tree={};less.mode="browser"}}less.Parser=function Parser(env){var input,i,j,temp,memo,furthest,chunks,current,parser;var that=this;var finish=function(){};var imports=this.imports={paths:env&&env.paths||[],queue:[],files:{},contents:{},mime:env&&env.mime,error:null,push:function(path,callback){var that=this;this.queue.push(path);less.Parser.importer(path,this.paths,function(e,root,contents){that.queue.splice(that.queue.indexOf(path),1);that.files[path]=root;that.contents[path]=contents;if(e&&!that.error){that.error=e}callback(e,root);if(that.queue.length===0){finish()}},env)}};function save(){temp=chunks[j],memo=i,current=i}function restore(){chunks[j]=temp,i=memo,current=i}function sync(){if(i>current){chunks[j]=chunks[j].slice(i-current);current=i}}function $(tok){var match,args,length,c,index,endIndex,k,mem;if(tok instanceof Function){return tok.call(parser.parsers)}else{if(typeof(tok)==="string"){match=input.charAt(i)===tok?tok:null;length=1;sync()}else{sync();if(match=tok.exec(chunks[j])){length=match[0].length}else{return null}}}if(match){mem=i+=length;endIndex=i+chunks[j].length-length;while(i<endIndex){c=input.charCodeAt(i);if(!(c===32||c===10||c===9)){break}i++}chunks[j]=chunks[j].slice(length+(i-mem));current=i;if(chunks[j].length===0&&j<chunks.length-1){j++}if(typeof(match)==="string"){return match}else{return match.length===1?match[0]:match}}}function expect(arg,msg){var result=$(arg);if(!result){error(msg||(typeof(arg)==="string"?"expected '"+arg+"' got '"+input.charAt(i)+"'":"unexpected token"))}else{return result}}function error(msg,type){throw {index:i,type:type||"Syntax",message:msg}}function peek(tok){if(typeof(tok)==="string"){return input.charAt(i)===tok}else{if(tok.test(chunks[j])){return true}else{return false}}}function basename(pathname){if(less.mode==="node"){return require("path").basename(pathname)}else{return pathname.match(/[^\/]+$/)[0]}}function getInput(e,env){if(e.filename&&env.filename&&(e.filename!==env.filename)){return parser.imports.contents[basename(e.filename)]}else{return input}}function getLocation(index,input){for(var n=index,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++}return{line:typeof(index)==="number"?(input.slice(0,index).match(/\n/g)||"").length:null,column:column}}function LessError(e,env){var input=getInput(e,env),loc=getLocation(e.index,input),line=loc.line,col=loc.column,lines=input.split("\n");this.type=e.type||"Syntax";this.message=e.message;this.filename=e.filename||env.filename;this.index=e.index;this.line=typeof(line)==="number"?line+1:null;this.callLine=e.call&&(getLocation(e.call,input).line+1);this.callExtract=lines[getLocation(e.call,input).line];this.stack=e.stack;this.column=col;this.extract=[lines[line-1],lines[line],lines[line+1]]}this.env=env=env||{};this.optimization=("optimization" in this.env)?this.env.optimization:1;this.env.filename=this.env.filename||null;return parser={imports:imports,parse:function(str,callback){var root,start,end,zone,line,lines,buff=[],c,error=null;i=j=current=furthest=0;input=str.replace(/\r\n/g,"\n");chunks=(function(chunks){var j=0,skip=/[^"'`\{\}\/\(\)\\]+/g,comment=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,string=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`\\\r\n]|\\.)*)`/g,level=0,match,chunk=chunks[0],inParam;for(var i=0,c,cc;i<input.length;i++){skip.lastIndex=i;if(match=skip.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0])}}c=input.charAt(i);comment.lastIndex=string.lastIndex=i;if(match=string.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);c=input.charAt(i)}}if(!inParam&&c==="/"){cc=input.charAt(i+1);if(cc==="/"||cc==="*"){if(match=comment.exec(input)){if(match.index===i){i+=match[0].length;chunk.push(match[0]);c=input.charAt(i)}}}}switch(c){case"{":if(!inParam){level++;chunk.push(c);break}case"}":if(!inParam){level--;chunk.push(c);chunks[++j]=chunk=[];break}case"(":if(!inParam){inParam=true;chunk.push(c);break}case")":if(inParam){inParam=false;chunk.push(c);break}default:chunk.push(c)}}if(level>0){error=new (LessError)({index:i,type:"Parse",message:"missing closing `}`",filename:env.filename},env)}return chunks.map(function(c){return c.join("")})})([[]]);if(error){return callback(error)}try{root=new (tree.Ruleset)([],$(this.parsers.primary));root.root=true}catch(e){return callback(new (LessError)(e,env))}root.toCSS=(function(evaluate){var line,lines,column;return function(options,variables){var frames=[],importError;options=options||{};if(typeof(variables)==="object"&&!Array.isArray(variables)){variables=Object.keys(variables).map(function(k){var value=variables[k];if(!(value instanceof tree.Value)){if(!(value instanceof tree.Expression)){value=new (tree.Expression)([value])}value=new (tree.Value)([value])}return new (tree.Rule)("@"+k,value,false,0)});frames=[new (tree.Ruleset)(null,variables)]}try{var css=evaluate.call(this,{frames:frames}).toCSS([],{compress:options.compress||false})}catch(e){throw new (LessError)(e,env)}if((importError=parser.imports.error)){if(importError instanceof LessError){throw importError}else{throw new (LessError)(importError,env)}}if(options.yuicompress&&less.mode==="node"){return require("./cssmin").compressor.cssmin(css)}else{if(options.compress){return css.replace(/(\s)+/g,"$1")}else{return css}}}})(root.eval);if(i<input.length-1){i=furthest;lines=input.split("\n");line=(input.slice(0,i).match(/\n/g)||"").length+1;for(var n=i,column=-1;n>=0&&input.charAt(n)!=="\n";n--){column++}error={type:"Parse",message:"Syntax Error on line "+line,index:i,filename:env.filename,line:line,column:column,extract:[lines[line-2],lines[line-1],lines[line]]}}if(this.imports.queue.length>0){finish=function(){callback(error,root)}}else{callback(error,root)}},parsers:{primary:function(){var node,root=[];while((node=$(this.mixin.definition)||$(this.rule)||$(this.ruleset)||$(this.mixin.call)||$(this.comment)||$(this.directive))||$(/^[\s\n]+/)){node&&root.push(node)}return root},comment:function(){var comment;if(input.charAt(i)!=="/"){return}if(input.charAt(i+1)==="/"){return new (tree.Comment)($(/^\/\/.*/),true)}else{if(comment=$(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/)){return new (tree.Comment)(comment)}}},entities:{quoted:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true}if(input.charAt(j)!=='"'&&input.charAt(j)!=="'"){return}e&&$("~");if(str=$(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/)){return new (tree.Quoted)(str[0],str[1]||str[2],e)}},keyword:function(){var k;if(k=$(/^[_A-Za-z-][_A-Za-z0-9-]*/)){if(tree.colors.hasOwnProperty(k)){return new (tree.Color)(tree.colors[k].slice(1))}else{return new (tree.Keyword)(k)}}},call:function(){var name,args,index=i;if(!(name=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(chunks[j]))){return}name=name[1].toLowerCase();if(name==="url"){return null}else{i+=name.length}if(name==="alpha"){return $(this.alpha)}$("(");args=$(this.entities.arguments);if(!$(")")){return}if(name){return new (tree.Call)(name,args,index,env.filename)}},arguments:function(){var args=[],arg;while(arg=$(this.entities.assignment)||$(this.expression)){args.push(arg);if(!$(",")){break}}return args},literal:function(){return $(this.entities.dimension)||$(this.entities.color)||$(this.entities.quoted)},assignment:function(){var key,value;if((key=$(/^\w+(?=\s?=)/i))&&$("=")&&(value=$(this.entity))){return new (tree.Assignment)(key,value)}},url:function(){var value;if(input.charAt(i)!=="u"||!$(/^url\(/)){return}value=$(this.entities.quoted)||$(this.entities.variable)||$(this.entities.dataURI)||$(/^[-\w%@$\/.&=:;#+?~]+/)||"";expect(")");return new (tree.URL)((value.value||value.data||value instanceof tree.Variable)?value:new (tree.Anonymous)(value),imports.paths)},dataURI:function(){var obj;if($(/^data:/)){obj={};obj.mime=$(/^[^\/]+\/[^,;)]+/)||"";obj.charset=$(/^;\s*charset=[^,;)]+/)||"";obj.base64=$(/^;\s*base64/)||"";obj.data=$(/^,\s*[^)]+/);if(obj.data){return obj}}},variable:function(){var name,index=i;if(input.charAt(i)==="@"&&(name=$(/^@@?[\w-]+/))){return new (tree.Variable)(name,index,env.filename)}},color:function(){var rgb;if(input.charAt(i)==="#"&&(rgb=$(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))){return new (tree.Color)(rgb[1])}},dimension:function(){var value,c=input.charCodeAt(i);if((c>57||c<45)||c===47){return}if(value=$(/^(-?\d*\.?\d+)(px|%|em|rem|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn)?/)){return new (tree.Dimension)(value[1],value[2])}},javascript:function(){var str,j=i,e;if(input.charAt(j)==="~"){j++,e=true}if(input.charAt(j)!=="`"){return}e&&$("~");if(str=$(/^`([^`]*)`/)){return new (tree.JavaScript)(str[1],i,e)}}},variable:function(){var name;if(input.charAt(i)==="@"&&(name=$(/^(@[\w-]+)\s*:/))){return name[1]}},shorthand:function(){var a,b;if(!peek(/^[@\w.%-]+\/[@\w.-]+/)){return}if((a=$(this.entity))&&$("/")&&(b=$(this.entity))){return new (tree.Shorthand)(a,b)}},mixin:{call:function(){var elements=[],e,c,args,index=i,s=input.charAt(i),important=false;if(s!=="."&&s!=="#"){return}while(e=$(/^[#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)){elements.push(new (tree.Element)(c,e,i));c=$(">")}$("(")&&(args=$(this.entities.arguments))&&$(")");if($(this.important)){important=true}if(elements.length>0&&($(";")||peek("}"))){return new (tree.mixin.Call)(elements,args||[],index,env.filename,important)}},definition:function(){var name,params=[],match,ruleset,param,value,cond,variadic=false;if((input.charAt(i)!=="."&&input.charAt(i)!=="#")||peek(/^[^{]*(;|})/)){return}save();if(match=$(/^([#.](?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+)\s*\(/)){name=match[1];do{if(input.charAt(i)==="."&&$(/^\.{3}/)){variadic=true;break}else{if(param=$(this.entities.variable)||$(this.entities.literal)||$(this.entities.keyword)){if(param instanceof tree.Variable){if($(":")){value=expect(this.expression,"expected expression");params.push({name:param.name,value:value})}else{if($(/^\.{3}/)){params.push({name:param.name,variadic:true});variadic=true;break}else{params.push({name:param.name})}}}else{params.push({value:param})}}else{break}}}while($(","));expect(")");if($(/^when/)){cond=expect(this.conditions,"expected condition")}ruleset=$(this.block);if(ruleset){return new (tree.mixin.Definition)(name,params,ruleset,cond,variadic)}else{restore()}}}},entity:function(){return $(this.entities.literal)||$(this.entities.variable)||$(this.entities.url)||$(this.entities.call)||$(this.entities.keyword)||$(this.entities.javascript)||$(this.comment)},end:function(){return $(";")||peek("}")},alpha:function(){var value;if(!$(/^\(opacity=/i)){return}if(value=$(/^\d+/)||$(this.entities.variable)){expect(")");return new (tree.Alpha)(value)}},element:function(){var e,t,c,v;c=$(this.combinator);e=$(/^(?:\d+\.\d+|\d+)%/)||$(/^(?:[.#]?|:*)(?:[\w-]|\\(?:[a-fA-F0-9]{1,6} ?|[^a-fA-F0-9]))+/)||$("*")||$(this.attribute)||$(/^\([^)@]+\)/);if(!e){$("(")&&(v=$(this.entities.variable))&&$(")")&&(e=new (tree.Paren)(v))}if(e){return new (tree.Element)(c,e,i)}if(c.value&&c.value.charAt(0)==="&"){return new (tree.Element)(c,null,i)}},combinator:function(){var match,c=input.charAt(i);if(c===">"||c==="+"||c==="~"){i++;while(input.charAt(i)===" "){i++}return new (tree.Combinator)(c)}else{if(c==="&"){match="&";i++;if(input.charAt(i)===" "){match="& "}while(input.charAt(i)===" "){i++}return new (tree.Combinator)(match)}else{if(input.charAt(i-1)===" "){return new (tree.Combinator)(" ")}else{return new (tree.Combinator)(null)}}}},selector:function(){var sel,e,elements=[],c,match;if($("(")){sel=$(this.entity);expect(")");return new (tree.Selector)([new (tree.Element)("",sel,i)])}while(e=$(this.element)){c=input.charAt(i);elements.push(e);if(c==="{"||c==="}"||c===";"||c===","){break}}if(elements.length>0){return new (tree.Selector)(elements)}},tag:function(){return $(/^[a-zA-Z][a-zA-Z-]*[0-9]?/)||$("*")},attribute:function(){var attr="",key,val,op;if(!$("[")){return}if(key=$(/^[a-zA-Z-]+/)||$(this.entities.quoted)){if((op=$(/^[|~*$^]?=/))&&(val=$(this.entities.quoted)||$(/^[\w-]+/))){attr=[key,op,val.toCSS?val.toCSS():val].join("")}else{attr=key}}if(!$("]")){return}if(attr){return"["+attr+"]"}},block:function(){var content;if($("{")&&(content=$(this.primary))&&$("}")){return content}},ruleset:function(){var selectors=[],s,rules,match;save();while(s=$(this.selector)){selectors.push(s);$(this.comment);if(!$(",")){break}$(this.comment)}if(selectors.length>0&&(rules=$(this.block))){return new (tree.Ruleset)(selectors,rules,env.strictImports)}else{furthest=i;restore()}},rule:function(){var name,value,c=input.charAt(i),important,match;save();if(c==="."||c==="#"||c==="&"){return}if(name=$(this.variable)||$(this.property)){if((name.charAt(0)!="@")&&(match=/^([^@+\/'"*`(;{}-]*);/.exec(chunks[j]))){i+=match[0].length-1;value=new (tree.Anonymous)(match[1])}else{if(name==="font"){value=$(this.font)}else{value=$(this.value)}}important=$(this.important);if(value&&$(this.end)){return new (tree.Rule)(name,value,important,memo)}else{furthest=i;restore()}}},"import":function(){var path,features,index=i;if($(/^@import\s+/)&&(path=$(this.entities.quoted)||$(this.entities.url))){features=$(this.mediaFeatures);if($(";")){return new (tree.Import)(path,imports,features,index)}}},mediaFeature:function(){var e,p,nodes=[];do{if(e=$(this.entities.keyword)){nodes.push(e)}else{if($("(")){p=$(this.property);e=$(this.entity);if($(")")){if(p&&e){nodes.push(new (tree.Paren)(new (tree.Rule)(p,e,null,i,true)))}else{if(e){nodes.push(new (tree.Paren)(e))}else{return null}}}else{return null}}}}while(e);if(nodes.length>0){return new (tree.Expression)(nodes)}},mediaFeatures:function(){var e,features=[];do{if(e=$(this.mediaFeature)){features.push(e);if(!$(",")){break}}else{if(e=$(this.entities.variable)){features.push(e);if(!$(",")){break}}}}while(e);return features.length>0?features:null},media:function(){var features,rules;if($(/^@media/)){features=$(this.mediaFeatures);if(rules=$(this.block)){return new (tree.Media)(rules,features)}}},directive:function(){var name,value,rules,types,e,nodes;if(input.charAt(i)!=="@"){return}if(value=$(this["import"])||$(this.media)){return value}else{if(name=$(/^@page|@keyframes/)||$(/^@(?:-webkit-|-moz-|-o-|-ms-)[a-z0-9-]+/)){types=($(/^[^{]+/)||"").trim();if(rules=$(this.block)){return new (tree.Directive)(name+" "+types,rules)}}else{if(name=$(/^@[-a-z]+/)){if(name==="@font-face"){if(rules=$(this.block)){return new (tree.Directive)(name,rules)}}else{if((value=$(this.entity))&&$(";")){return new (tree.Directive)(name,value)}}}}}},font:function(){var value=[],expression=[],weight,shorthand,font,e;while(e=$(this.shorthand)||$(this.entity)){expression.push(e)}value.push(new (tree.Expression)(expression));if($(",")){while(e=$(this.expression)){value.push(e);if(!$(",")){break}}}return new (tree.Value)(value)},value:function(){var e,expressions=[],important;while(e=$(this.expression)){expressions.push(e);if(!$(",")){break}}if(expressions.length>0){return new (tree.Value)(expressions)}},important:function(){if(input.charAt(i)==="!"){return $(/^! *important/)}},sub:function(){var e;if($("(")&&(e=$(this.expression))&&$(")")){return e}},multiplication:function(){var m,a,op,operation;if(m=$(this.operand)){while(!peek(/^\/\*/)&&(op=($("/")||$("*")))&&(a=$(this.operand))){operation=new (tree.Operation)(op,[operation||m,a])}return operation||m}},addition:function(){var m,a,op,operation;if(m=$(this.multiplication)){while((op=$(/^[-+]\s+/)||(input.charAt(i-1)!=" "&&($("+")||$("-"))))&&(a=$(this.multiplication))){operation=new (tree.Operation)(op,[operation||m,a])}return operation||m}},conditions:function(){var a,b,index=i,condition;if(a=$(this.condition)){while($(",")&&(b=$(this.condition))){condition=new (tree.Condition)("or",condition||a,b,index)}return condition||a}},condition:function(){var a,b,c,op,index=i,negate=false;if($(/^not/)){negate=true}expect("(");if(a=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){if(op=$(/^(?:>=|=<|[<=>])/)){if(b=$(this.addition)||$(this.entities.keyword)||$(this.entities.quoted)){c=new (tree.Condition)(op,a,b,index,negate)}else{error("expected expression")}}else{c=new (tree.Condition)("=",a,new (tree.Keyword)("true"),index,negate)}expect(")");return $(/^and/)?new (tree.Condition)("and",c,$(this.condition)):c}},operand:function(){var negate,p=input.charAt(i+1);if(input.charAt(i)==="-"&&(p==="@"||p==="(")){negate=$("-")}var o=$(this.sub)||$(this.entities.dimension)||$(this.entities.color)||$(this.entities.variable)||$(this.entities.call);return negate?new (tree.Operation)("*",[new (tree.Dimension)(-1),o]):o},expression:function(){var e,delim,entities=[],d;while(e=$(this.addition)||$(this.entity)){entities.push(e)}if(entities.length>0){return new (tree.Expression)(entities)}},property:function(){var name;if(name=$(/^(\*?-?[-a-z_0-9]+)\s*:/)){return name[1]}}}}};if(less.mode==="browser"||less.mode==="rhino"){less.Parser.importer=function(path,paths,callback,env){if(!/^([a-z]+:)?\//.test(path)&&paths.length>0){path=paths[0]+path}loadStyleSheet({href:path,title:path,type:env.mime},function(e){if(e&&typeof(env.errback)==="function"){env.errback.call(null,path,paths,callback,env)}else{callback.apply(null,arguments)}},true)}}(function(tree){tree.functions={rgb:function(r,g,b){return this.rgba(r,g,b,1)},rgba:function(r,g,b,a){var rgb=[r,g,b].map(function(c){return number(c)}),a=number(a);return new (tree.Color)(rgb,a)},hsl:function(h,s,l){return this.hsla(h,s,l,1)},hsla:function(h,s,l,a){h=(number(h)%360)/360;s=number(s);l=number(l);a=number(a);var m2=l<=0.5?l*(s+1):l+s-l*s;var m1=l*2-m2;return this.rgba(hue(h+1/3)*255,hue(h)*255,hue(h-1/3)*255,a);function hue(h){h=h<0?h+1:(h>1?h-1:h);if(h*6<1){return m1+(m2-m1)*h*6}else{if(h*2<1){return m2}else{if(h*3<2){return m1+(m2-m1)*(2/3-h)*6}else{return m1}}}}},hue:function(color){return new (tree.Dimension)(Math.round(color.toHSL().h))},saturation:function(color){return new (tree.Dimension)(Math.round(color.toHSL().s*100),"%")},lightness:function(color){return new (tree.Dimension)(Math.round(color.toHSL().l*100),"%")},alpha:function(color){return new (tree.Dimension)(color.toHSL().a)},saturate:function(color,amount){var hsl=color.toHSL();hsl.s+=amount.value/100;hsl.s=clamp(hsl.s);return hsla(hsl)},desaturate:function(color,amount){var hsl=color.toHSL();hsl.s-=amount.value/100;hsl.s=clamp(hsl.s);return hsla(hsl)},lighten:function(color,amount){var hsl=color.toHSL();hsl.l+=amount.value/100;hsl.l=clamp(hsl.l);return hsla(hsl)},darken:function(color,amount){var hsl=color.toHSL();hsl.l-=amount.value/100;hsl.l=clamp(hsl.l);return hsla(hsl)},fadein:function(color,amount){var hsl=color.toHSL();hsl.a+=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl)},fadeout:function(color,amount){var hsl=color.toHSL();hsl.a-=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl)},fade:function(color,amount){var hsl=color.toHSL();hsl.a=amount.value/100;hsl.a=clamp(hsl.a);return hsla(hsl)},spin:function(color,amount){var hsl=color.toHSL();var hue=(hsl.h+amount.value)%360;hsl.h=hue<0?360+hue:hue;return hsla(hsl)},mix:function(color1,color2,weight){var p=weight.value/100;var w=p*2-1;var a=color1.toHSL().a-color2.toHSL().a;var w1=(((w*a==-1)?w:(w+a)/(1+w*a))+1)/2;var w2=1-w1;var rgb=[color1.rgb[0]*w1+color2.rgb[0]*w2,color1.rgb[1]*w1+color2.rgb[1]*w2,color1.rgb[2]*w1+color2.rgb[2]*w2];var alpha=color1.alpha*p+color2.alpha*(1-p);return new (tree.Color)(rgb,alpha)},greyscale:function(color){return this.desaturate(color,new (tree.Dimension)(100))},e:function(str){return new (tree.Anonymous)(str instanceof tree.JavaScript?str.evaluated:str)},escape:function(str){return new (tree.Anonymous)(encodeURI(str.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(quoted){var args=Array.prototype.slice.call(arguments,1),str=quoted.value;for(var i=0;i<args.length;i++){str=str.replace(/%[sda]/i,function(token){var value=token.match(/s/i)?args[i].value:args[i].toCSS();return token.match(/[A-Z]$/)?encodeURIComponent(value):value})}str=str.replace(/%%/g,"%");return new (tree.Quoted)('"'+str+'"',str)},round:function(n){return this._math("round",n)},ceil:function(n){return this._math("ceil",n)},floor:function(n){return this._math("floor",n)},_math:function(fn,n){if(n instanceof tree.Dimension){return new (tree.Dimension)(Math[fn](number(n)),n.unit)}else{if(typeof(n)==="number"){return Math[fn](n)}else{throw {type:"Argument",message:"argument must be a number"}}}},argb:function(color){return new (tree.Anonymous)(color.toARGB())},percentage:function(n){return new (tree.Dimension)(n.value*100,"%")},color:function(n){if(n instanceof tree.Quoted){return new (tree.Color)(n.value.slice(1))}else{throw {type:"Argument",message:"argument must be a string"}}},iscolor:function(n){return this._isa(n,tree.Color)},isnumber:function(n){return this._isa(n,tree.Dimension)},isstring:function(n){return this._isa(n,tree.Quoted)},iskeyword:function(n){return this._isa(n,tree.Keyword)},isurl:function(n){return this._isa(n,tree.URL)},ispixel:function(n){return(n instanceof tree.Dimension)&&n.unit==="px"?tree.True:tree.False},ispercentage:function(n){return(n instanceof tree.Dimension)&&n.unit==="%"?tree.True:tree.False},isem:function(n){return(n instanceof tree.Dimension)&&n.unit==="em"?tree.True:tree.False},_isa:function(n,Type){return(n instanceof Type)?tree.True:tree.False}};function hsla(hsla){return tree.functions.hsla(hsla.h,hsla.s,hsla.l,hsla.a)}function number(n){if(n instanceof tree.Dimension){return parseFloat(n.unit=="%"?n.value/100:n.value)}else{if(typeof(n)==="number"){return n}else{throw {error:"RuntimeError",message:"color functions take numbers as parameters"}}}}function clamp(val){return Math.min(1,Math.max(0,val))}})(require("./tree"));(function(tree){tree.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}})(require("./tree"));(function(tree){tree.Alpha=function(val){this.value=val};tree.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")"},eval:function(env){if(this.value.eval){this.value=this.value.eval(env)}return this}}})(require("../tree"));(function(tree){tree.Anonymous=function(string){this.value=string.value||string};tree.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this}}})(require("../tree"));(function(tree){tree.Assignment=function(key,val){this.key=key;this.value=val};tree.Assignment.prototype={toCSS:function(){return this.key+"="+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(env){if(this.value.eval){this.value=this.value.eval(env)}return this}}})(require("../tree"));(function(tree){tree.Call=function(name,args,index,filename){this.name=name;this.args=args;this.index=index;this.filename=filename};tree.Call.prototype={eval:function(env){var args=this.args.map(function(a){return a.eval(env)});if(this.name in tree.functions){try{return tree.functions[this.name].apply(tree.functions,args)}catch(e){throw {type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.filename}}}else{return new (tree.Anonymous)(this.name+"("+args.map(function(a){return a.toCSS()}).join(", ")+")")}},toCSS:function(env){return this.eval(env).toCSS()}}})(require("../tree"));(function(tree){tree.Color=function(rgb,a){if(Array.isArray(rgb)){this.rgb=rgb}else{if(rgb.length==6){this.rgb=rgb.match(/.{2}/g).map(function(c){return parseInt(c,16)})}else{this.rgb=rgb.split("").map(function(c){return parseInt(c+c,16)})}}this.alpha=typeof(a)==="number"?a:1};tree.Color.prototype={eval:function(){return this},toCSS:function(){if(this.alpha<1){return"rgba("+this.rgb.map(function(c){return Math.round(c)}).concat(this.alpha).join(", ")+")"}else{return"#"+this.rgb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i}).join("")}},operate:function(op,other){var result=[];if(!(other instanceof tree.Color)){other=other.toColor()}for(var c=0;c<3;c++){result[c]=tree.operate(op,this.rgb[c],other.rgb[c])}return new (tree.Color)(result,this.alpha+other.alpha)},toHSL:function(){var r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha;var max=Math.max(r,g,b),min=Math.min(r,g,b);var h,s,l=(max+min)/2,d=max-min;if(max===min){h=s=0}else{s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h*360,s:s,l:l,a:a}},toARGB:function(){var argb=[Math.round(this.alpha*255)].concat(this.rgb);return"#"+argb.map(function(i){i=Math.round(i);i=(i>255?255:(i<0?0:i)).toString(16);return i.length===1?"0"+i:i}).join("")}}})(require("../tree"));(function(tree){tree.Comment=function(value,silent){this.value=value;this.silent=!!silent};tree.Comment.prototype={toCSS:function(env){return env.compress?"":this.value},eval:function(){return this}}})(require("../tree"));(function(tree){tree.Condition=function(op,l,r,i,negate){this.op=op.trim();this.lvalue=l;this.rvalue=r;this.index=i;this.negate=negate};tree.Condition.prototype.eval=function(env){var a=this.lvalue.eval(env),b=this.rvalue.eval(env);var i=this.index,result;var result=(function(op){switch(op){case"and":return a&&b;case"or":return a||b;default:if(a.compare){result=a.compare(b)}else{if(b.compare){result=b.compare(a)}else{throw {type:"Type",message:"Unable to perform comparison",index:i}}}switch(result){case -1:return op==="<"||op==="=<";case 0:return op==="="||op===">="||op==="=<";case 1:return op===">"||op===">="}}})(this.op);return this.negate?!result:result}})(require("../tree"));(function(tree){tree.Dimension=function(value,unit){this.value=parseFloat(value);this.unit=unit||null};tree.Dimension.prototype={eval:function(){return this},toColor:function(){return new (tree.Color)([this.value,this.value,this.value])},toCSS:function(){var css=this.value+this.unit;return css},operate:function(op,other){return new (tree.Dimension)(tree.operate(op,this.value,other.value),this.unit||other.unit)},compare:function(other){if(other instanceof tree.Dimension){if(other.value>this.value){return -1}else{if(other.value<this.value){return 1}else{return 0}}}else{return -1}}}})(require("../tree"));(function(tree){tree.Directive=function(name,value,features){this.name=name;if(Array.isArray(value)){this.ruleset=new (tree.Ruleset)([],value);this.ruleset.allowImports=true}else{this.value=value}};tree.Directive.prototype={toCSS:function(ctx,env){if(this.ruleset){this.ruleset.root=true;return this.name+(env.compress?"{":" {\n  ")+this.ruleset.toCSS(ctx,env).trim().replace(/\n/g,"\n  ")+(env.compress?"}":"\n}\n")}else{return this.name+" "+this.value.toCSS()+";\n"}},eval:function(env){env.frames.unshift(this);this.ruleset=this.ruleset&&this.ruleset.eval(env);env.frames.shift();return this},variable:function(name){return tree.Ruleset.prototype.variable.call(this.ruleset,name)},find:function(){return tree.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.ruleset)}}})(require("../tree"));(function(tree){tree.Element=function(combinator,value,index){this.combinator=combinator instanceof tree.Combinator?combinator:new (tree.Combinator)(combinator);if(typeof(value)==="string"){this.value=value.trim()}else{if(value){this.value=value}else{this.value=""}}this.index=index};tree.Element.prototype.eval=function(env){return new (tree.Element)(this.combinator,this.value.eval?this.value.eval(env):this.value,this.index)};tree.Element.prototype.toCSS=function(env){return this.combinator.toCSS(env||{})+(this.value.toCSS?this.value.toCSS(env):this.value)};tree.Combinator=function(value){if(value===" "){this.value=" "}else{if(value==="& "){this.value="& "}else{this.value=value?value.trim():""}}};tree.Combinator.prototype.toCSS=function(env){return{"":""," ":" ","&":"","& ":" ",":":" :","+":env.compress?"+":" + ","~":env.compress?"~":" ~ ",">":env.compress?">":" > "}[this.value]}})(require("../tree"));(function(tree){tree.Expression=function(value){this.value=value};tree.Expression.prototype={eval:function(env){if(this.value.length>1){return new (tree.Expression)(this.value.map(function(e){return e.eval(env)}))}else{if(this.value.length===1){return this.value[0].eval(env)}else{return this}}},toCSS:function(env){return this.value.map(function(e){return e.toCSS?e.toCSS(env):""}).join(" ")}}})(require("../tree"));(function(tree){tree.Import=function(path,imports,features,index){var that=this;this.index=index;this._path=path;this.features=features&&new (tree.Value)(features);if(path instanceof tree.Quoted){this.path=/\.(le?|c)ss(\?.*)?$/.test(path.value)?path.value:path.value+".less"}else{this.path=path.value.value||path.value}this.css=/css(\?.*)?$/.test(this.path);if(!this.css){imports.push(this.path,function(e,root){if(e){e.index=index}that.root=root||new (tree.Ruleset)([],[])})}};tree.Import.prototype={toCSS:function(env){var features=this.features?" "+this.features.toCSS(env):"";if(this.css){return"@import "+this._path.toCSS()+features+";\n"}else{return""}},eval:function(env){var ruleset,features=this.features&&this.features.eval(env);if(this.css){return this}else{ruleset=new (tree.Ruleset)([],this.root.rules.slice(0));for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.Import){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)))}}return this.features?new (tree.Media)(ruleset.rules,this.features.value):ruleset.rules}}}})(require("../tree"));(function(tree){tree.JavaScript=function(string,index,escaped){this.escaped=escaped;this.expression=string;this.index=index};tree.JavaScript.prototype={eval:function(env){var result,that=this,context={};var expression=this.expression.replace(/@\{([\w-]+)\}/g,function(_,name){return tree.jsify(new (tree.Variable)("@"+name,that.index).eval(env))});try{expression=new (Function)("return ("+expression+")")}catch(e){throw {message:"JavaScript evaluation error: `"+expression+"`",index:this.index}}for(var k in env.frames[0].variables()){context[k.slice(1)]={value:env.frames[0].variables()[k].value,toJS:function(){return this.value.eval(env).toCSS()}}}try{result=expression.call(context)}catch(e){throw {message:"JavaScript evaluation error: '"+e.name+": "+e.message+"'",index:this.index}}if(typeof(result)==="string"){return new (tree.Quoted)('"'+result+'"',result,this.escaped,this.index)}else{if(Array.isArray(result)){return new (tree.Anonymous)(result.join(", "))}else{return new (tree.Anonymous)(result)}}}}})(require("../tree"));(function(tree){tree.Keyword=function(value){this.value=value};tree.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},compare:function(other){if(other instanceof tree.Keyword){return other.value===this.value?0:1}else{return -1}}};tree.True=new (tree.Keyword)("true");tree.False=new (tree.Keyword)("false")})(require("../tree"));(function(tree){tree.Media=function(value,features){var el=new (tree.Element)("&",null,0),selectors=[new (tree.Selector)([el])];this.features=new (tree.Value)(features);this.ruleset=new (tree.Ruleset)(selectors,value);this.ruleset.allowImports=true};tree.Media.prototype={toCSS:function(ctx,env){var features=this.features.toCSS(env);this.ruleset.root=(ctx.length===0||ctx[0].multiMedia);return"@media "+features+(env.compress?"{":" {\n  ")+this.ruleset.toCSS(ctx,env).trim().replace(/\n/g,"\n  ")+(env.compress?"}":"\n}\n")},eval:function(env){if(!env.mediaBlocks){env.mediaBlocks=[];env.mediaPath=[]}var blockIndex=env.mediaBlocks.length;env.mediaPath.push(this);env.mediaBlocks.push(this);var media=new (tree.Media)([],[]);media.features=this.features.eval(env);env.frames.unshift(this.ruleset);media.ruleset=this.ruleset.eval(env);env.frames.shift();env.mediaBlocks[blockIndex]=media;env.mediaPath.pop();return env.mediaPath.length===0?media.evalTop(env):media.evalNested(env)},variable:function(name){return tree.Ruleset.prototype.variable.call(this.ruleset,name)},find:function(){return tree.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.ruleset)},evalTop:function(env){var result=this;if(env.mediaBlocks.length>1){var el=new (tree.Element)("&",null,0);var selectors=[new (tree.Selector)([el])];result=new (tree.Ruleset)(selectors,env.mediaBlocks);result.multiMedia=true}delete env.mediaBlocks;delete env.mediaPath;return result},evalNested:function(env){var i,value,path=env.mediaPath.concat([this]);for(i=0;i<path.length;i++){value=path[i].features instanceof tree.Value?path[i].features.value:path[i].features;path[i]=Array.isArray(value)?value:[value]}this.features=new (tree.Value)(this.permute(path).map(function(path){path=path.map(function(fragment){return fragment.toCSS?fragment:new (tree.Anonymous)(fragment)});for(i=path.length-1;i>0;i--){path.splice(i,0,new (tree.Anonymous)("and"))}return new (tree.Expression)(path)}));return new (tree.Ruleset)([],[])},permute:function(arr){if(arr.length===0){return[]}else{if(arr.length===1){return arr[0]}else{var result=[];var rest=this.permute(arr.slice(1));for(var i=0;i<rest.length;i++){for(var j=0;j<arr[0].length;j++){result.push([arr[0][j]].concat(rest[i]))}}return result}}}}})(require("../tree"));(function(tree){tree.mixin={};tree.mixin.Call=function(elements,args,index,filename,important){this.selector=new (tree.Selector)(elements);this.arguments=args;this.index=index;this.filename=filename;this.important=important};tree.mixin.Call.prototype={eval:function(env){var mixins,args,rules=[],match=false;for(var i=0;i<env.frames.length;i++){if((mixins=env.frames[i].find(this.selector)).length>0){args=this.arguments&&this.arguments.map(function(a){return a.eval(env)});for(var m=0;m<mixins.length;m++){if(mixins[m].match(args,env)){try{Array.prototype.push.apply(rules,mixins[m].eval(env,this.arguments,this.important).rules);match=true}catch(e){throw {message:e.message,index:this.index,filename:this.filename,stack:e.stack}}}}if(match){return rules}else{throw {type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+this.arguments.map(function(a){return a.toCSS()}).join(", ")+")`",index:this.index,filename:this.filename}}}}throw {type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename}}};tree.mixin.Definition=function(name,params,rules,condition,variadic){this.name=name;this.selectors=[new (tree.Selector)([new (tree.Element)(null,name)])];this.params=params;this.condition=condition;this.variadic=variadic;this.arity=params.length;this.rules=rules;this._lookups={};this.required=params.reduce(function(count,p){if(!p.name||(p.name&&!p.value)){return count+1}else{return count}},0);this.parent=tree.Ruleset.prototype;this.frames=[]};tree.mixin.Definition.prototype={toCSS:function(){return""},variable:function(name){return this.parent.variable.call(this,name)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(env,args){var frame=new (tree.Ruleset)(null,[]),varargs;for(var i=0,val,name;i<this.params.length;i++){if(name=this.params[i].name){if(this.params[i].variadic&&args){varargs=[];for(var j=i;j<args.length;j++){varargs.push(args[j].eval(env))}frame.rules.unshift(new (tree.Rule)(name,new (tree.Expression)(varargs).eval(env)))}else{if(val=(args&&args[i])||this.params[i].value){frame.rules.unshift(new (tree.Rule)(name,val.eval(env)))}else{throw {type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+args.length+" for "+this.arity+")"}}}}}return frame},eval:function(env,args,important){var frame=this.evalParams(env,args),context,_arguments=[],rules,start;for(var i=0;i<Math.max(this.params.length,args&&args.length);i++){_arguments.push(args[i]||this.params[i].value)}frame.rules.unshift(new (tree.Rule)("@arguments",new (tree.Expression)(_arguments).eval(env)));rules=important?this.rules.map(function(r){return new (tree.Rule)(r.name,r.value,"!important",r.index)}):this.rules.slice(0);return new (tree.Ruleset)(null,rules).eval({frames:[this,frame].concat(this.frames,env.frames)})},match:function(args,env){var argsLength=(args&&args.length)||0,len,frame;if(!this.variadic){if(argsLength<this.required){return false}if(argsLength>this.params.length){return false}if((this.required>0)&&(argsLength>this.params.length)){return false}}if(this.condition&&!this.condition.eval({frames:[this.evalParams(env,args)].concat(env.frames)})){return false}len=Math.min(argsLength,this.arity);for(var i=0;i<len;i++){if(!this.params[i].name){if(args[i].eval(env).toCSS()!=this.params[i].value.eval(env).toCSS()){return false}}}return true}}})(require("../tree"));(function(tree){tree.Operation=function(op,operands){this.op=op.trim();this.operands=operands};tree.Operation.prototype.eval=function(env){var a=this.operands[0].eval(env),b=this.operands[1].eval(env),temp;if(a instanceof tree.Dimension&&b instanceof tree.Color){if(this.op==="*"||this.op==="+"){temp=b,b=a,a=temp}else{throw {name:"OperationError",message:"Can't substract or divide a color from a number"}}}return a.operate(this.op,b)};tree.operate=function(op,a,b){switch(op){case"+":return a+b;case"-":return a-b;case"*":return a*b;case"/":return a/b}}})(require("../tree"));(function(tree){tree.Paren=function(node){this.value=node};tree.Paren.prototype={toCSS:function(env){return"("+this.value.toCSS(env)+")"},eval:function(env){return new (tree.Paren)(this.value.eval(env))}}})(require("../tree"));(function(tree){tree.Quoted=function(str,content,escaped,i){this.escaped=escaped;this.value=content||"";this.quote=str.charAt(0);this.index=i};tree.Quoted.prototype={toCSS:function(){if(this.escaped){return this.value}else{return this.quote+this.value+this.quote}},eval:function(env){var that=this;var value=this.value.replace(/`([^`]+)`/g,function(_,exp){return new (tree.JavaScript)(exp,that.index,true).eval(env).value}).replace(/@\{([\w-]+)\}/g,function(_,name){var v=new (tree.Variable)("@"+name,that.index).eval(env);return("value" in v)?v.value:v.toCSS()});return new (tree.Quoted)(this.quote+value+this.quote,value,this.escaped,this.index)}}})(require("../tree"));(function(tree){tree.Rule=function(name,value,important,index,inline){this.name=name;this.value=(value instanceof tree.Value)?value:new (tree.Value)([value]);this.important=important?" "+important.trim():"";this.index=index;this.inline=inline||false;if(name.charAt(0)==="@"){this.variable=true}else{this.variable=false}};tree.Rule.prototype.toCSS=function(env){if(this.variable){return""}else{return this.name+(env.compress?":":": ")+this.value.toCSS(env)+this.important+(this.inline?"":";")}};tree.Rule.prototype.eval=function(context){return new (tree.Rule)(this.name,this.value.eval(context),this.important,this.index,this.inline)};tree.Shorthand=function(a,b){this.a=a;this.b=b};tree.Shorthand.prototype={toCSS:function(env){return this.a.toCSS(env)+"/"+this.b.toCSS(env)},eval:function(){return this}}})(require("../tree"));(function(tree){tree.Ruleset=function(selectors,rules,strictImports){this.selectors=selectors;this.rules=rules;this._lookups={};this.strictImports=strictImports};tree.Ruleset.prototype={eval:function(env){var selectors=this.selectors&&this.selectors.map(function(s){return s.eval(env)});var ruleset=new (tree.Ruleset)(selectors,this.rules.slice(0),this.strictImports);ruleset.root=this.root;ruleset.allowImports=this.allowImports;env.frames.unshift(ruleset);if(ruleset.root||ruleset.allowImports||!ruleset.strictImports){for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.Import){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)))}}}for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Definition){ruleset.rules[i].frames=env.frames.slice(0)}}for(var i=0;i<ruleset.rules.length;i++){if(ruleset.rules[i] instanceof tree.mixin.Call){Array.prototype.splice.apply(ruleset.rules,[i,1].concat(ruleset.rules[i].eval(env)))}}for(var i=0,rule;i<ruleset.rules.length;i++){rule=ruleset.rules[i];if(!(rule instanceof tree.mixin.Definition)){ruleset.rules[i]=rule.eval?rule.eval(env):rule}}env.frames.shift();return ruleset},match:function(args){return !args||args.length===0},variables:function(){if(this._variables){return this._variables}else{return this._variables=this.rules.reduce(function(hash,r){if(r instanceof tree.Rule&&r.variable===true){hash[r.name]=r}return hash},{})}},variable:function(name){return this.variables()[name]},rulesets:function(){if(this._rulesets){return this._rulesets}else{return this._rulesets=this.rules.filter(function(r){return(r instanceof tree.Ruleset)||(r instanceof tree.mixin.Definition)})}},find:function(selector,self){self=self||this;var rules=[],rule,match,key=selector.toCSS();if(key in this._lookups){return this._lookups[key]}this.rulesets().forEach(function(rule){if(rule!==self){for(var j=0;j<rule.selectors.length;j++){if(match=selector.match(rule.selectors[j])){if(selector.elements.length>rule.selectors[j].elements.length){Array.prototype.push.apply(rules,rule.find(new (tree.Selector)(selector.elements.slice(1)),self))}else{rules.push(rule)}break}}}});return this._lookups[key]=rules},toCSS:function(context,env){var css=[],rules=[],rulesets=[],paths=[],selector,rule;if(!this.root){if(context.length===0){paths=this.selectors.map(function(s){return[s]})}else{this.joinSelectors(paths,context,this.selectors)}}for(var i=0;i<this.rules.length;i++){rule=this.rules[i];if(rule.rules||(rule instanceof tree.Directive)||(rule instanceof tree.Media)){rulesets.push(rule.toCSS(paths,env))}else{if(rule instanceof tree.Comment){if(!rule.silent){if(this.root){rulesets.push(rule.toCSS(env))}else{rules.push(rule.toCSS(env))}}}else{if(rule.toCSS&&!rule.variable){rules.push(rule.toCSS(env))}else{if(rule.value&&!rule.variable){rules.push(rule.value.toString())}}}}}rulesets=rulesets.join("");if(this.root){css.push(rules.join(env.compress?"":"\n"))}else{if(rules.length>0){selector=paths.map(function(p){return p.map(function(s){return s.toCSS(env)}).join("").trim()}).join(env.compress?",":",\n");css.push(selector,(env.compress?"{":" {\n  ")+rules.join(env.compress?"":"\n  ")+(env.compress?"}":"\n}\n"))}}css.push(rulesets);return css.join("")+(env.compress?"\n":"")},joinSelectors:function(paths,context,selectors){for(var s=0;s<selectors.length;s++){this.joinSelector(paths,context,selectors[s])}},joinSelector:function(paths,context,selector){var before=[],after=[],beforeElements=[],afterElements=[],hasParentSelector=false,el;for(var i=0;i<selector.elements.length;i++){el=selector.elements[i];if(el.combinator.value.charAt(0)==="&"){hasParentSelector=true}if(hasParentSelector){afterElements.push(el)}else{beforeElements.push(el)}}if(!hasParentSelector){afterElements=beforeElements;beforeElements=[]}if(beforeElements.length>0){before.push(new (tree.Selector)(beforeElements))}if(afterElements.length>0){after.push(new (tree.Selector)(afterElements))}for(var c=0;c<context.length;c++){paths.push(before.concat(context[c]).concat(after))}}}})(require("../tree"));(function(tree){tree.Selector=function(elements){this.elements=elements;if(this.elements[0].combinator.value===""){this.elements[0].combinator.value=" "}};tree.Selector.prototype.match=function(other){var len=this.elements.length,olen=other.elements.length,max=Math.min(len,olen);if(len<olen){return false}else{for(var i=0;i<max;i++){if(this.elements[i].value!==other.elements[i].value){return false}}}return true};tree.Selector.prototype.eval=function(env){return new (tree.Selector)(this.elements.map(function(e){return e.eval(env)}))};tree.Selector.prototype.toCSS=function(env){if(this._css){return this._css}return this._css=this.elements.map(function(e){if(typeof(e)==="string"){return" "+e.trim()}else{return e.toCSS(env)}}).join("")}})(require("../tree"));(function(tree){tree.URL=function(val,paths){if(val.data){this.attrs=val}else{if(typeof(window)!=="undefined"&&!/^(?:https?:\/\/|file:\/\/|data:|\/)/.test(val.value)&&paths.length>0){val.value=paths[0]+(val.value.charAt(0)==="/"?val.value.slice(1):val.value)}this.value=val;this.paths=paths}};tree.URL.prototype={toCSS:function(){return"url("+(this.attrs?"data:"+this.attrs.mime+this.attrs.charset+this.attrs.base64+this.attrs.data:this.value.toCSS())+")"},eval:function(ctx){return this.attrs?this:new (tree.URL)(this.value.eval(ctx),this.paths)}}})(require("../tree"));(function(tree){tree.Value=function(value){this.value=value;this.is="value"};tree.Value.prototype={eval:function(env){if(this.value.length===1){return this.value[0].eval(env)}else{return new (tree.Value)(this.value.map(function(v){return v.eval(env)}))}},toCSS:function(env){return this.value.map(function(e){return e.toCSS(env)}).join(env.compress?",":", ")}}})(require("../tree"));(function(tree){tree.Variable=function(name,index,file){this.name=name,this.index=index,this.file=file};tree.Variable.prototype={eval:function(env){var variable,v,name=this.name;if(name.indexOf("@@")==0){name="@"+new (tree.Variable)(name.slice(1)).eval(env).value}if(variable=tree.find(env.frames,function(frame){if(v=frame.variable(name)){return v.value.eval(env)}})){return variable}else{throw {type:"Name",message:"variable "+name+" is undefined",filename:this.file,index:this.index}}}}})(require("../tree"));(function(tree){tree.find=function(obj,fun){for(var i=0,r;i<obj.length;i++){if(r=fun.call(obj,obj[i])){return r}}return null};tree.jsify=function(obj){if(Array.isArray(obj.value)&&(obj.value.length>1)){return"["+obj.value.map(function(v){return v.toCSS(false)}).join(", ")+"]"}else{return obj.toCSS(false)}}})(require("./tree"));var isFileProtocol=(location.protocol==="file:"||location.protocol==="chrome:"||location.protocol==="chrome-extension:"||location.protocol==="resource:");less.env=less.env||(location.hostname=="127.0.0.1"||location.hostname=="0.0.0.0"||location.hostname=="localhost"||location.port.length>0||isFileProtocol?"development":"production");less.async=false;less.poll=less.poll||(isFileProtocol?1000:1500);less.watch=function(){return this.watchMode=true};less.unwatch=function(){return this.watchMode=false};if(less.env==="development"){less.optimization=0;if(/!watch/.test(location.hash)){less.watch()}less.watchTimer=setInterval(function(){if(less.watchMode){loadStyleSheets(function(e,root,_,sheet,env){if(root){createCSS(root.toCSS(),sheet,env.lastModified)}})}},less.poll)}else{less.optimization=3}var cache;try{cache=(typeof(window.localStorage)==="undefined")?null:window.localStorage}catch(_){cache=null}var links=document.getElementsByTagName("link");var typePattern=/^text\/(x-)?less$/;less.sheets=[];for(var i=0;i<links.length;i++){if(links[i].rel==="stylesheet/less"||(links[i].rel.match(/stylesheet/)&&(links[i].type.match(typePattern)))){less.sheets.push(links[i])}}var session_cache="";less.modifyVars=function(record){var str=session_cache;for(name in record){str+=((name.slice(0,1)==="@")?"":"@")+name+": "+((record[name].slice(-1)===";")?record[name]:record[name]+";")}new (less.Parser)().parse(str,function(e,root){createCSS(root.toCSS(),less.sheets[less.sheets.length-1])})};less.refresh=function(reload){var startTime,endTime;startTime=endTime=new (Date);loadStyleSheets(function(e,root,_,sheet,env){if(env.local){log("loading "+sheet.href+" from cache.")}else{log("parsed "+sheet.href+" successfully.");createCSS(root.toCSS(),sheet,env.lastModified)}log("css for "+sheet.href+" generated in "+(new (Date)-endTime)+"ms");(env.remaining===0)&&log("css generated in "+(new (Date)-startTime)+"ms");endTime=new (Date)},reload);loadStyles()};less.refreshStyles=loadStyles;less.refresh(less.env==="development");function loadStyles(){var styles=document.getElementsByTagName("style");for(var i=0;i<styles.length;i++){if(styles[i].type.match(typePattern)){new (less.Parser)().parse(styles[i].innerHTML||"",function(e,tree){var css=tree.toCSS();var style=styles[i];style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.innerHTML=css}})}}}function loadStyleSheets(callback,reload){for(var i=0;i<less.sheets.length;i++){loadStyleSheet(less.sheets[i],callback,reload,less.sheets.length-(i+1))}}function loadStyleSheet(sheet,callback,reload,remaining){var url=window.location.href.replace(/[#?].*$/,"");var href=sheet.href.replace(/\?.*$/,"");var css=cache&&cache.getItem(href);var timestamp=cache&&cache.getItem(href+":timestamp");var styles={css:css,timestamp:timestamp};if(!/^(https?|file):/.test(href)){if(href.charAt(0)=="/"){href=window.location.protocol+"//"+window.location.host+href}else{href=url.slice(0,url.lastIndexOf("/")+1)+href}}var filename=href.match(/([^\/]+)$/)[1];xhr(sheet.href,sheet.type,function(data,lastModified){session_cache+=data.replace(/@import .+?;/ig,"");if(!reload&&styles&&lastModified&&(new (Date)(lastModified).valueOf()===new (Date)(styles.timestamp).valueOf())){createCSS(styles.css,sheet);callback(null,null,data,sheet,{local:true,remaining:remaining})}else{try{new (less.Parser)({optimization:less.optimization,paths:[href.replace(/[\w\.-]+$/,"")],mime:sheet.type,filename:filename}).parse(data,function(e,root){if(e){return error(e,href)}try{callback(e,root,data,sheet,{local:false,lastModified:lastModified,remaining:remaining});removeNode(document.getElementById("less-error-message:"+extractId(href)))}catch(e){error(e,href)}})}catch(e){error(e,href)}}},function(status,url){if(url.indexOf("/Css/styles.less")==0){throw new (Error)("Couldn't load "+url+" ("+status+")")}})}function extractId(href){return href.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\?.*$/,"").replace(/\.[^\.\/]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function createCSS(styles,sheet,lastModified){var css;var href=sheet.href?sheet.href.replace(/\?.*$/,""):"";var id="less:"+(sheet.title||extractId(href));if((css=document.getElementById(id))===null){css=document.createElement("style");css.type="text/css";css.media=sheet.media||"screen";css.id=id;document.getElementsByTagName("head")[0].appendChild(css)}if(css.styleSheet){try{css.styleSheet.cssText=styles}catch(e){throw new (Error)("Couldn't reassign styleSheet.cssText.")}}else{(function(node){if(css.childNodes.length>0){if(css.firstChild.nodeValue!==node.nodeValue){css.replaceChild(node,css.firstChild)}}else{css.appendChild(node)}})(document.createTextNode(styles))}if(lastModified&&cache){log("saving "+href+" to cache.");cache.setItem(href,styles);cache.setItem(href+":timestamp",lastModified)}}function xhr(url,type,callback,errback){var xhr=getXMLHttpRequest();var async=isFileProtocol?false:less.async;if(typeof(xhr.overrideMimeType)==="function"){xhr.overrideMimeType("text/css")}xhr.open("GET",url,async);xhr.setRequestHeader("Accept",type||"text/x-less, text/css; q=0.9, */*; q=0.5");xhr.send(null);if(isFileProtocol){if(xhr.status===0||(xhr.status>=200&&xhr.status<300)){callback(xhr.responseText)}else{errback(xhr.status,url)}}else{if(async){xhr.onreadystatechange=function(){if(xhr.readyState==4){handleResponse(xhr,callback,errback)}}}else{handleResponse(xhr,callback,errback)}}function handleResponse(xhr,callback,errback){if(xhr.status>=200&&xhr.status<300){callback(xhr.responseText,xhr.getResponseHeader("Last-Modified"))}else{if(typeof(errback)==="function"){errback(xhr.status,url)}}}}function getXMLHttpRequest(){if(window.XMLHttpRequest){return new (XMLHttpRequest)}else{try{return new (ActiveXObject)("MSXML2.XMLHTTP.3.0")}catch(e){log("browser doesn't support AJAX.");return null}}}function removeNode(node){return node&&node.parentNode.removeChild(node)}function log(str){}function error(e,href){var id="less-error-message:"+extractId(href);var template='<li><label>{line}</label><pre class="{class}">{content}</pre></li>';var elem=document.createElement("div"),timer,content,error=[];var filename=e.filename||href;elem.id=id;elem.className="less-error-message";content="<h3>"+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+filename+'">'+filename+"</a> ";var errorline=function(e,i,classname){if(e.extract[i]){error.push(template.replace(/\{line\}/,parseInt(e.line)+(i-1)).replace(/\{class\}/,classname).replace(/\{content\}/,e.extract[i]))}};if(e.stack){content+="<br/>"+e.stack.split("\n").slice(1).join("<br/>")}else{if(e.extract){errorline(e,0,"");errorline(e,1,"line");errorline(e,2,"");content+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+error.join("")+"</ul>"}}elem.innerHTML=content;createCSS([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"});elem.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";");if(less.env=="development"){timer=setInterval(function(){if(document.body){if(document.getElementById(id)){document.body.replaceChild(elem,document.getElementById(id))}else{document.body.insertBefore(elem,document.body.firstChild)}clearInterval(timer)}},10)}}})(window);(function(){function C(){var a="{}";if("userDataBehavior"==h){d.load("jStorage");try{a=d.getAttribute("jStorage")}catch(b){}try{r=d.getAttribute("jStorage_update")}catch(c){}g.jStorage=a}D();x();E()}function u(){var a;clearTimeout(F);F=setTimeout(function(){if("localStorage"==h||"globalStorage"==h){a=g.jStorage_update}else{if("userDataBehavior"==h){d.load("jStorage");try{a=d.getAttribute("jStorage_update")}catch(b){}}}if(a&&a!=r){r=a;var k=l.parse(l.stringify(c.__jstorage_meta.CRC32)),p;C();p=l.parse(l.stringify(c.__jstorage_meta.CRC32));var e,y=[],f=[];for(e in k){k.hasOwnProperty(e)&&(p[e]?k[e]!=p[e]&&"2."==String(k[e]).substr(0,2)&&y.push(e):f.push(e))}for(e in p){p.hasOwnProperty(e)&&(k[e]||y.push(e))}s(y,"updated");s(f,"deleted")}},25)}function s(a,b){a=[].concat(a||[]);if("flushed"==b){a=[];for(var c in j){j.hasOwnProperty(c)&&a.push(c)}b="deleted"}c=0;for(var p=a.length;c<p;c++){if(j[a[c]]){for(var e=0,d=j[a[c]].length;e<d;e++){j[a[c]][e](a[c],b)}}if(j["*"]){e=0;for(d=j["*"].length;e<d;e++){j["*"][e](a[c],b)}}}}function v(){var a=(+new Date).toString();"localStorage"==h||"globalStorage"==h?g.jStorage_update=a:"userDataBehavior"==h&&(d.setAttribute("jStorage_update",a),d.save("jStorage"));u()}function D(){if(g.jStorage){try{c=l.parse(String(g.jStorage))}catch(a){g.jStorage="{}"}}else{g.jStorage="{}"}z=g.jStorage?String(g.jStorage).length:0;c.__jstorage_meta||(c.__jstorage_meta={});c.__jstorage_meta.CRC32||(c.__jstorage_meta.CRC32={})}function w(){if(c.__jstorage_meta.PubSub){for(var a=+new Date-2000,b=0,k=c.__jstorage_meta.PubSub.length;b<k;b++){if(c.__jstorage_meta.PubSub[b][0]<=a){c.__jstorage_meta.PubSub.splice(b,c.__jstorage_meta.PubSub.length-b);break}}c.__jstorage_meta.PubSub.length||delete c.__jstorage_meta.PubSub}try{g.jStorage=l.stringify(c),d&&(d.setAttribute("jStorage",g.jStorage),d.save("jStorage")),z=g.jStorage?String(g.jStorage).length:0}catch(p){}}function q(a){if(!a||"string"!=typeof a&&"number"!=typeof a){throw new TypeError("Key name must be string or numeric")}if("__jstorage_meta"==a){throw new TypeError("Reserved key name")}return !0}function x(){var a,b,k,d,e=Infinity,g=!1,f=[];clearTimeout(G);if(c.__jstorage_meta&&"object"==typeof c.__jstorage_meta.TTL){a=+new Date;k=c.__jstorage_meta.TTL;d=c.__jstorage_meta.CRC32;for(b in k){k.hasOwnProperty(b)&&(k[b]<=a?(delete k[b],delete d[b],delete c[b],g=!0,f.push(b)):k[b]<e&&(e=k[b]))}Infinity!=e&&(G=setTimeout(x,e-a));g&&(w(),v(),s(f,"deleted"))}}function E(){var a;if(c.__jstorage_meta.PubSub){var b,k=A;for(a=c.__jstorage_meta.PubSub.length-1;0<=a;a--){if(b=c.__jstorage_meta.PubSub[a],b[0]>A){var k=b[0],d=b[1];b=b[2];if(t[d]){for(var e=0,g=t[d].length;e<g;e++){t[d][e](d,l.parse(l.stringify(b)))}}}}A=k}}var n=window.jQuery||window.$||(window.$={}),l={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||n.parseJSON||n.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||n.toJSON};if(!l.parse||!l.stringify){throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page")}var c={__jstorage_meta:{CRC32:{}}},g={jStorage:"{}"},d=null,z=0,h=!1,j={},F=!1,r=0,t={},A=+new Date,G,B={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a)){return !1}try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return !1},decode:function(a){var b="DOMParser" in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};if(!b){return !1}a=b.call("DOMParser" in window&&new DOMParser||window,a,"text/xml");return this.isXML(a)?a:!1}};n.jStorage={version:"0.4.3",set:function(a,b,d){q(a);d=d||{};if("undefined"==typeof b){return this.deleteKey(a),b}if(B.isXML(b)){b={_is_xml:!0,xml:B.encode(b)}}else{if("function"==typeof b){return}b&&"object"==typeof b&&(b=l.parse(l.stringify(b)))}c[a]=b;for(var g=c.__jstorage_meta.CRC32,e=l.stringify(b),j=e.length,f=2538058380^j,h=0,m;4<=j;){m=e.charCodeAt(h)&255|(e.charCodeAt(++h)&255)<<8|(e.charCodeAt(++h)&255)<<16|(e.charCodeAt(++h)&255)<<24,m=1540483477*(m&65535)+((1540483477*(m>>>16)&65535)<<16),m^=m>>>24,m=1540483477*(m&65535)+((1540483477*(m>>>16)&65535)<<16),f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16)^m,j-=4,++h}switch(j){case 3:f^=(e.charCodeAt(h+2)&255)<<16;case 2:f^=(e.charCodeAt(h+1)&255)<<8;case 1:f^=e.charCodeAt(h)&255,f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16)}f^=f>>>13;f=1540483477*(f&65535)+((1540483477*(f>>>16)&65535)<<16);g[a]="2."+((f^f>>>15)>>>0);this.setTTL(a,d.TTL||0);s(a,"updated");return b},get:function(a,b){q(a);return a in c?c[a]&&"object"==typeof c[a]&&c[a]._is_xml?B.decode(c[a].xml):c[a]:"undefined"==typeof b?null:b},deleteKey:function(a){q(a);return a in c?(delete c[a],"object"==typeof c.__jstorage_meta.TTL&&a in c.__jstorage_meta.TTL&&delete c.__jstorage_meta.TTL[a],delete c.__jstorage_meta.CRC32[a],w(),v(),s(a,"deleted"),!0):!1},setTTL:function(a,b){var d=+new Date;q(a);b=Number(b)||0;return a in c?(c.__jstorage_meta.TTL||(c.__jstorage_meta.TTL={}),0<b?c.__jstorage_meta.TTL[a]=d+b:delete c.__jstorage_meta.TTL[a],w(),x(),v(),!0):!1},getTTL:function(a){var b=+new Date;q(a);return a in c&&c.__jstorage_meta.TTL&&c.__jstorage_meta.TTL[a]?(a=c.__jstorage_meta.TTL[a]-b)||0:0},flush:function(){c={__jstorage_meta:{CRC32:{}}};w();v();s(null,"flushed");return !0},storageObj:function(){function a(){}a.prototype=c;return new a},index:function(){var a=[],b;for(b in c){c.hasOwnProperty(b)&&"__jstorage_meta"!=b&&a.push(b)}return a},storageSize:function(){return z},currentBackend:function(){return h},storageAvailable:function(){return !!h},listenKeyChange:function(a,b){q(a);j[a]||(j[a]=[]);j[a].push(b)},stopListening:function(a,b){q(a);if(j[a]){if(b){for(var c=j[a].length-1;0<=c;c--){j[a][c]==b&&j[a].splice(c,1)}}else{delete j[a]}}},subscribe:function(a,b){a=(a||"").toString();if(!a){throw new TypeError("Channel not defined")}t[a]||(t[a]=[]);t[a].push(b)},publish:function(a,b){a=(a||"").toString();if(!a){throw new TypeError("Channel not defined")}c.__jstorage_meta||(c.__jstorage_meta={});c.__jstorage_meta.PubSub||(c.__jstorage_meta.PubSub=[]);c.__jstorage_meta.PubSub.unshift([+new Date,a,b]);w();v()},reInit:function(){C()}};a:{n=!1;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval"),n=!0,window.localStorage.removeItem("_tmptest")}catch(H){}}if(n){try{window.localStorage&&(g=window.localStorage,h="localStorage",r=g.jStorage_update)}catch(I){}}else{if("globalStorage" in window){try{window.globalStorage&&(g=window.globalStorage[window.location.hostname],h="globalStorage",r=g.jStorage_update)}catch(J){}}else{if(d=document.createElement("link"),d.addBehavior){d.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(d);try{d.load("jStorage")}catch(K){d.setAttribute("jStorage","{}"),d.save("jStorage"),d.load("jStorage")}n="{}";try{n=d.getAttribute("jStorage")}catch(L){}try{r=d.getAttribute("jStorage_update")}catch(M){}g.jStorage=n;h="userDataBehavior"}else{d=null;break a}}}D();x();"localStorage"==h||"globalStorage"==h?"addEventListener" in window?window.addEventListener("storage",u,!1):document.attachEvent("onstorage",u):"userDataBehavior"==h&&setInterval(u,1000);E();"addEventListener" in window&&window.addEventListener("pageshow",function(a){a.persisted&&u()},!1)}})();(function(){var $$;$$=jQuery.fn.flash=function(htmlOptions,pluginOptions,replace,update){var block=replace||$$.replace;pluginOptions=$$.copy($$.pluginOptions,pluginOptions);if(!$$.hasFlash(pluginOptions.version)){if(pluginOptions.expressInstall&&$$.hasFlash(6,0,65)){var expressInstallOptions={flashvars:{MMredirectURL:location,MMplayerType:"PlugIn",MMdoctitle:jQuery("title").text()}}}else{if(pluginOptions.update){block=update||$$.update}else{return this}}}htmlOptions=$$.copy($$.htmlOptions,expressInstallOptions,htmlOptions);return this.each(function(){block.call(this,$$.copy(htmlOptions))})};$$.copy=function(){var options={},flashvars={};for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(arg==undefined){continue}jQuery.extend(options,arg);if(arg.flashvars==undefined){continue}jQuery.extend(flashvars,arg.flashvars)}options.flashvars=flashvars;return options};$$.hasFlash=function(){if(/hasFlash\=true/.test(location)){return true}if(/hasFlash\=false/.test(location)){return false}var pv=$$.hasFlash.playerVersion().match(/\d+/g);var rv=String([arguments[0],arguments[1],arguments[2]]).match(/\d+/g)||String($$.pluginOptions.version).match(/\d+/g);for(var i=0;i<3;i++){pv[i]=parseInt(pv[i]||0);rv[i]=parseInt(rv[i]||0);if(pv[i]<rv[i]){return false}if(pv[i]>rv[i]){return true}}return true};$$.hasFlash.playerVersion=function(){try{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{axo.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}}catch(e){}}return"0,0,0"};$$.htmlOptions={height:240,flashvars:{},pluginspage:"http://www.adobe.com/go/getflashplayer",src:"#",type:"application/x-shockwave-flash",width:320};$$.pluginOptions={expressInstall:false,update:true,version:"6.0.65"};$$.replace=function(htmlOptions){this.innerHTML='<div class="alt">'+this.innerHTML+"</div>";jQuery(this).addClass("flash-replaced").prepend($$.transform(htmlOptions))};$$.update=function(htmlOptions){var url=String(location).split("?");url.splice(1,0,"?hasFlash=true&");url=url.join("");var msg='<p>This content requires the Flash Player. <a href="http://www.adobe.com/go/getflashplayer">Download Flash Player</a>. Already have Flash Player? <a href="'+url+'">Click here.</a></p>';this.innerHTML='<span class="alt">'+this.innerHTML+"</span>";jQuery(this).addClass("flash-update").prepend(msg)};function toAttributeString(){var s="";for(var key in this){if(typeof this[key]!="function"){s+=key+'="'+this[key]+'" '}}return s}function toFlashvarsString(){var s="";for(var key in this){if(typeof this[key]!="function"){s+=key+"="+encodeURIComponent(this[key])+"&"}}return s.replace(/&$/,"")}$$.transform=function(htmlOptions){htmlOptions.toString=toAttributeString;if(htmlOptions.flashvars){htmlOptions.flashvars.toString=toFlashvarsString}return"<embed "+String(htmlOptions)+"/>"};if(window.attachEvent){window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){};__flash_savedUnloadHandler=function(){}})}})();!function(){function a(a,b,c){"addEventListener" in window?a.addEventListener(b,c,!1):"attachEvent" in window&&a.attachEvent("on"+b,c)}function b(a){return ab+"["+cb+"] "+a}function c(a){_&&"object"==typeof window.console&&console.log(b(a))}function d(a){"object"==typeof window.console&&console.warn(b(a))}function e(){c("Initialising iFrame"),f(),i(),h("background",M),h("padding",P),o(),m(),j(),q(),n(),Z=p(),E("init","Init message from host page")}function f(){function a(a){return"true"===a?!0:!1}var b=Y.substr(bb).split(":");cb=b[0],N=void 0!==b[1]?Number(b[1]):N,Q=void 0!==b[2]?a(b[2]):Q,_=void 0!==b[3]?a(b[3]):_,$=void 0!==b[4]?Number(b[4]):$,db=void 0!==b[5]?a(b[5]):db,K=void 0!==b[6]?a(b[6]):K,O=b[7],W=void 0!==b[8]?b[8]:W,M=b[9],P=b[10],hb=void 0!==b[11]?Number(b[11]):hb,Z.enable=void 0!==b[12]?a(b[12]):!1}function g(a,b){return -1!==b.indexOf("-")&&(d("Negative CSS value ignored for "+a),b=""),b}function h(a,b){void 0!==b&&""!==b&&"null"!==b&&(document.body.style[a]=b,c("Body "+a+' set to "'+b+'"'))}function i(){void 0===O&&(O=N+"px"),g("margin",O),h("margin",O)}function j(){document.documentElement.style.height="",document.body.style.height="",c('HTML & body height set to "auto"')}function k(b){function d(c){a(window,c,function(){E(b.eventName,b.eventType)})}b.eventNames&&Array.prototype.map?(b.eventName=b.eventNames[0],b.eventNames.map(d)):d(b.eventName),c("Added event listener: "+b.eventType)}function l(){k({eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),k({eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),k({eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),k({eventType:"Device Orientation Change",eventName:"deviceorientation"}),k({eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),k({eventType:"Window Clicked",eventName:"click"}),k({eventType:"Window Resized",eventName:"resize"})}function m(){V!==W&&(W in lb||(d(W+" is not a valid option for heightCalculationMethod."),W="bodyScroll"),c('Height calculation method set to "'+W+'"'))}function n(){!0===K?(l(),t()):c("Auto Resize disabled")}function o(){var a=document.createElement("div");a.style.clear="both",a.style.display="block",document.body.appendChild(a)}function p(){function b(){return{x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}}function e(a){var c=a.getBoundingClientRect(),d=b();return{x:parseInt(c.left,10)+parseInt(d.x,10),y:parseInt(c.top,10)+parseInt(d.y,10)}}function f(a){function b(a){var b=e(a);c("Moving to in page link (#"+d+") at x: "+b.x+" y: "+b.y),I(b.y,b.x,"scrollToOffset")}var d=a.split("#")[1]||"",f=decodeURIComponent(d),g=document.getElementById(f)||document.getElementsByName(f)[0];g?b(g):(c("In page link (#"+d+") not found in iFrame, so sending to parent"),I(0,0,"inPageLink","#"+d))}function g(){""!==location.hash&&"#"!==location.hash&&f(location.href)}function h(){function b(b){function c(a){a.preventDefault(),f(this.getAttribute("href"))}"#"!==b.getAttribute("href")&&a(b,"click",c)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),b)}function i(){a(window,"hashchange",g)}function j(){setTimeout(g,S)}function k(){Array.prototype.forEach&&document.querySelectorAll?(c("Setting up location.hash handlers"),h(),i(),j()):d("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return Z.enable?k():c("In page linking not enabled"),{findTarget:f}}function q(){db&&(c("Enable public methods"),window.parentIFrame={close:function(){E("close","parentIFrame.close()",0,0)},getId:function(){return cb},moveToAnchor:function(a){Z.findTarget(a)},reset:function(){H("parentIFrame.reset")},scrollTo:function(a,b){I(b,a,"scrollTo")},scrollToOffset:function(a,b){I(b,a,"scrollToOffset")},sendMessage:function(a,b){I(0,0,"message",JSON.stringify(a),b)},setHeightCalculationMethod:function(a){W=a,m()},setTargetOrigin:function(a){c("Set targetOrigin: "+a),fb=a},size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");F(),E("size","parentIFrame.size("+c+")",a,b)}})}function r(){0!==$&&(c("setInterval: "+$+"ms"),setInterval(function(){E("interval","setInterval: "+$)},Math.abs($)))}function s(b){function d(b){(void 0===b.height||void 0===b.width||0===b.height||0===b.width)&&(c("Attach listerner to "+b.src),a(b,"load",function(){E("imageLoad","Image loaded")}))}b.forEach(function(a){if("attributes"===a.type&&"src"===a.attributeName){d(a.target)}else{if("childList"===a.type){var b=a.target.querySelectorAll("img");Array.prototype.forEach.call(b,function(a){d(a)})}}})}function t(){function a(){var a=document.querySelector("body"),d={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new b(function(a){E("mutationObserver","mutationObserver: "+a[0].target+" "+a[0].type),s(a)});c("Enable MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>$?r():a():(d("MutationObserver not supported in this browser!"),r())}function u(){function a(a){function b(a){var b=/^\d+(px)?$/i;if(b.test(a)){return parseInt(a,L)}var d=c.style.left,e=c.runtimeStyle.left;return c.runtimeStyle.left=c.currentStyle.left,c.style.left=a||0,a=c.style.pixelLeft,c.style.left=d,c.runtimeStyle.left=e,a}var c=document.body,d=0;return"defaultView" in document&&"getComputedStyle" in document.defaultView?(d=document.defaultView.getComputedStyle(c,null),d=null!==d?d[a]:0):d=b(c.currentStyle[a]),parseInt(d,L)}return document.body.offsetHeight+a("marginTop")+a("marginBottom")}function v(){return document.body.scrollHeight}function w(){return document.documentElement.offsetHeight}function x(){return document.documentElement.scrollHeight}function y(){for(var a=document.querySelectorAll("body *"),b=a.length,d=0,e=(new Date).getTime(),f=0;b>f;f++){a[f].getBoundingClientRect().bottom>d&&(d=a[f].getBoundingClientRect().bottom)}return e=(new Date).getTime()-e,c("Parsed "+b+" HTML elements"),c("LowestElement bottom position calculated in "+e+"ms"),d}function z(){return[u(),v(),w(),x()]}function A(){return Math.max.apply(null,z())}function B(){return Math.min.apply(null,z())}function C(){return Math.max(u(),y())}function D(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}function E(a,b,d,e){function f(){a in {reset:1,resetPage:1,init:1}||c("Trigger event: "+b)}function g(){T=n,kb=o,I(T,kb,a)}function h(){return ib&&a in R}function i(){function a(a,b){var c=Math.abs(a-b)<=hb;return !c}return n=void 0!==d?d:lb[W](),o=void 0!==e?e:D(),a(T,n)||Q&&a(kb,o)}function j(){return !(a in {init:1,interval:1,size:1})}function k(){return W in eb}function l(){c("No change in size detected")}function m(){j()&&k()?H(b):a in {interval:1}||(f(),l())}var n,o;h()?c("Trigger event cancelled: "+a):i()?(f(),F(),g()):m()}function F(){ib||(ib=!0,c("Trigger event lock on")),clearTimeout(jb),jb=setTimeout(function(){ib=!1,c("Trigger event lock off"),c("--")},S)}function G(a){T=lb[W](),kb=D(),I(T,kb,a)}function H(a){var b=W;W=V,c("Reset trigger event: "+a),F(),G("reset"),W=b}function I(a,b,d,e,f){function g(){void 0===f?f=fb:c("Message targetOrigin: "+f)}function h(){var g=a+":"+b,h=cb+":"+g+":"+d+(void 0!==e?":"+e:"");c("Sending message to host page ("+h+")"),gb.postMessage(ab+h,f)}g(),h()}function J(a){function b(){return ab===(""+a.data).substr(0,bb)}function f(){Y=a.data,gb=a.source,e(),U=!1,setTimeout(function(){X=!1},S)}function g(){X?c("Page reset ignored by init"):(c("Page size reset by host page"),G("resetPage"))}function h(){return a.data.split("]")[1]}function i(){return"iFrameResize" in window}function j(){return a.data.split(":")[2] in {"true":1,"false":1}}b()&&(U&&j()?f():"reset"===h()?g():a.data===Y||i()||d("Unexpected message ("+a.data+")"))}var K=!0,L=10,M="",N=0,O="",P="",Q=!1,R={resize:1,click:1},S=128,T=1,U=!0,V="offset",W=V,X=!0,Y="",Z={},$=32,_=!1,ab="[iFrameSizer]",bb=ab.length,cb="",db=!1,eb={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},fb="*",gb=window.parent,hb=0,ib=!1,jb=null,kb=1,lb={offset:u,bodyOffset:u,bodyScroll:v,documentElementOffset:w,scroll:x,documentElementScroll:x,max:A,min:B,grow:A,lowestElement:C};a(window,"message",J)}();if(typeof AppUrl=="undefined"){AppUrl=""}var InitializeService=AppUrl+"InitializeService";var FlightService=AppUrl+"FlightService";var HotelService=AppUrl+"HotelService";var CarService=AppUrl+"CarService";var BookingService=AppUrl+"BookingService";var GeneralService=AppUrl+"GeneralService";var OffersService=AppUrl+"OffersService";var ExternalProviderService=AppUrl+"EPService";var IntegratedProviderService=AppUrl+"IPService";var MemberService=AppUrl+"MemberService";var RailService=AppUrl+"RailService";var EP=new Object();EP.CachedInitialData={};EP.BaseFunctions={AppendTemplate:function(p_Options){if(!(p_Options.DontCleanTarget!=undefined&&p_Options.DontCleanTarget)){EP.BaseFunctions.Empty(p_Options.Target)}afterTemplateApply=function(p_SubOptions){EP.BaseFunctions.PrepareTemplateContent(p_SubOptions);if(p_SubOptions.SuccessF){p_SubOptions.that=p_SubOptions.SuccessF.that;p_SubOptions.SuccessF()}EP.BaseFunctions.TriggerTemplateEvents(p_SubOptions)};convertUrlsToHttps=function(p_text){if(p_text.toLowerCase().indexOf("http://")==-1){return p_text}var sanitizedText=p_text.replace(/([a-z ]{0,6} *= *(?:"|') *)http:\/\//ig,function(m,p1){var isAnchorElement=p1.toLowerCase().indexOf("href")!=-1;if(isAnchorElement){return p1+"http://"}else{return p1+"https://"}});return sanitizedText};var tmpOptions=p_Options;if(p_Options.TemplateURL||p_Options.ContainerTemplateName){if(!EP.Layout.Layouts){EP.Layout.Layouts={}}if(p_Options.ContainerTemplateName){p_Options.TemplateURL="layout/Containers/"+p_Options.ContainerTemplateName+".tmp.htm"}else{p_Options.TemplateURL=p_Options.TemplateURL+"/"+p_Options.TemplateName+".tmp.htm"}if(!EP.Layout.Layouts[p_Options.TemplateURL]){$.get(tmpOptions.TemplateURL,function(TemplateContent){if(location.href.indexOf("https://")!=-1){TemplateContent=convertUrlsToHttps(TemplateContent)}EP.Layout.Layouts[tmpOptions.TemplateURL]={};EP.Layout.Layouts[tmpOptions.TemplateURL].htmlContent=TemplateContent;$.tmpl(TemplateContent,tmpOptions.Data).appendTo(tmpOptions.Target);if(p_Options.TemplateCSSURL){EP.Layout.updateCSS(tmpOptions.TemplateCSSURL,p_Options.ContainerTemplateName?p_Options.ContainerTemplateName:p_Options.TemplateName)}afterTemplateApply(tmpOptions)}).fail(function(){alert(tmpOptions.TemplateURL+" template file can not be found.")})}else{var oHtmlContent=EP.Layout.Layouts[p_Options.TemplateURL].htmlContent;if(location.href.indexOf("https://")!=-1){oHtmlContent=convertUrlsToHttps(oHtmlContent)}$.tmpl(oHtmlContent,p_Options.Data).appendTo(p_Options.Target);afterTemplateApply(tmpOptions)}}else{if(!UseCompiledMode){$("#"+p_Options.TemplateName).tmpl(p_Options.Data).appendTo($(p_Options.Target)[0])}else{$.tmpl("#"+p_Options.TemplateName,p_Options.Data).appendTo($(p_Options.Target)[0])}try{afterTemplateApply(tmpOptions)}catch(ex){EP.DataManager.CatchJSErrors(ex)}}},dataArrayIndexForTemplates:function(item,dataList){var indextmp=0;for(var tmpval in dataList){if(item==tmpval){return indextmp}indextmp++}return -1},TriggerTemplateEvents:function(p_Options){if(p_Options.ContainerTemplateName){EP.EventManager.trigger("ContainerTemplateApply_"+p_Options.Target.replace(".",""),{})}else{if(!EP.BaseFunctions.IsUndefined(p_Options.Target)&&p_Options.Target.length>0){try{var Target1=p_Options.Target.replace(".","");var Target2=EP.BaseFunctions.ReplaceAll(EP.BaseFunctions.ReplaceAll(p_Options.Target,".","")," Content","");EP.EventManager.trigger("AfterTemplateApply_"+Target1,{});if(Target1!=Target2){EP.EventManager.trigger("AfterTemplateApply_"+Target2,{})}}catch(e){}}}},PrepareTemplateContent:function(p_Options){EP.Localization.LocalizeModule(p_Options.Target);EP.BaseFunctions.ReloadImages(p_Options.Target);$("select",p_Options.Target).each(function(){var objElement=$(this);if(!objElement.is(":visible")){var select=objElement;objElement.appear(function(){select.combobox();if(select.attr("disabled")){select.combobox("disable")}})}else{objElement.combobox()}});$("button",p_Options.Target).button()},ConvertDivToTable:function(p_Target){$(p_Target+" .tdcell").each(function(){var objElement=$(this);var currentH=objElement.height();var currentW=objElement.width();var newStyle="";if(currentH>0){objElement.css("height","auto");newStyle+="height:"+currentH+"px;"}if(currentW>0){objElement.css("width","auto");newStyle+="width:"+currentW+"px;"}objElement.wrap("<td style='"+newStyle+"' />")});$(p_Target+" .trrow").wrap("<tr />");$(p_Target+" .tablecontainer").wrapInner("<table width='100%' />")},AppendTemplateWithHTML:function(p_Options){EP.BaseFunctions.Empty(p_Options.Target);$.tmpl(p_Options.TemplateHTML,p_Options.Data).appendTo(p_Options.Target);if(p_Options.SuccessF){p_Options.SuccessF()}},IsCarrefourRuleActive:function(){if(_carrefoureRuleValue==null){_carrefoureRuleValue=false;try{_carrefoureRuleValue=EP.DataManager.GetRuleValue("AllowCarrefourModule")&&EP.DataManager.GetRuleValue("AllowCarrefourModule").toLowerCase()!="false"}catch(e){_carrefoureRuleValue=false}}return _carrefoureRuleValue},QuerySpanishDiscount:function(){var FromCode=$("input[name = From_Value]").val().split(";")[0];var ToCode=$("input[name = To_Value]").val().split(";")[0];EP.DataManager.GetData({Method:InitializeService+"/GetSRDiscountCode",Data:'{"FromCode":"'+FromCode+'","ToCode":"'+ToCode+'"}',Type:"POST",Success:function(data){if(data.length>0){$(".SRDMain").show();EP.BaseFunctions.AppendTemplate({TemplateName:"SRD",Data:{Data:data},Target:".SRDContent",SuccessF:EP.BaseFunctions.CompleteAddSRDModule});$(".SRDContent").hide();$(".SRDContent").fadeIn("slow")}else{$(".SRDContent").empty();$(".SRDMain").hide()}}})},CompleteAddSRDModule:function(){$("input.SRDCheckBox").each(function(){var value=$(this).val();if(EP.StateManager("LastDiscountValue")==value){this.checked=true}if(!value){$(this).attr("disabled",true)}});EP.EventManager.bindEvent(" input.SRDCheckBox","click",function(e){var self=e.target;EP.StateManager("LastDiscountValue",$(self).val());$(" input.SRDCheckBox").each(function(){if(this!=self){this.checked=""}})})},AutocompleteInit:function(controlName,ContainerClass){$(ContainerClass+" input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:FlightService+"/AutoComplete",Data:'{"startsWith":"'+$(ContainerClass+" input[name="+controlName+"]").val()+'","showAllText":true}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return item}))}})},focus:function(event,ui){return false},minLength:2,select:function(event,ui){var FromCode=null;var ToCode=null;$(ContainerClass+" input[name = "+controlName+"]").val(ui.item.label);$(ContainerClass+" input[name = "+controlName+"_Value]").val(ui.item.value);if(EP.DataManager.GetRuleValue("ActivateSpanishResidentDiscount")=="True"){var FromCode=$("input[name = From_Value]").val().split(";")[0];var ToCode=$("input[name = To_Value]").val().split(";")[0];if(!EP.StateManager("SpanishToValue")||EP.StateManager("SpanishToValue")!=ToCode){EP.StateManager("SpanishToValue",ToCode)}if(!EP.StateManager("SpanishFromValue")||EP.StateManager("SpanishFromValue")!=FromCode){EP.StateManager("SpanishFromValue",FromCode)}}var ShowSpanishDiscount=(EP.Layout.CurrentPage=="Flight"||EP.Layout.CurrentPage=="Result")||(EP.StateManager("SpanishFromValue")&&EP.StateManager("SpanishToValue"));if(EP.DataManager.GetRuleValue("ActivateSpanishResidentDiscount")=="True"&&ShowSpanishDiscount){EP.BaseFunctions.QuerySpanishDiscount()}if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$(ContainerClass+" input[name = "+controlName+"_Value]").val("")},change:function(keyEvent,event){if($(ContainerClass+" input[name = "+controlName+"]").val()==""){$(ContainerClass+" input[name = "+controlName+"_Value]").val("")}}}).bind({keydown:function(e){if($(ContainerClass+" input[name = "+controlName+"]").val().length==1){$(ContainerClass+" input[name = "+controlName+"_Value]").val("")}if($(ContainerClass+" input[name = "+controlName+"]").val()==""){$(ContainerClass+" input[name = "+controlName+"_Value]").val("")}}})},AutocompleteInitCar:function(controlName){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:FlightService+"/AutoComplete",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'","showAllText":false}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){if(item.value.split(";")[1]=="C"){item.cssClass="NotSelectable"}return item}))}})},focus:function(event,ui){if(ui.item.value.split(";")[1]=="A"){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value)}return false},minLength:2,select:function(event,ui){if(ui.item.value.split(";")[1]=="A"){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value)}if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]").val("")}})},AutocompleteAirlineInit:function(controlName){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:FlightService+"/AutoCompleteAirline",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return{label:item.label,value:item.value}}))}})},focus:function(event,ui){return false},minLength:2,select:function(event,ui){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value);if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]").val("")},change:function(event,ui){if($("input[name = "+controlName+"]").val()==""){$("input[name = "+controlName+"_Value]").val("")}}})},AutocompleteCitiesInit:function(controlName){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:HotelService+"/AutoCompleteCities",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return{label:item.label,value:item.value,cssClass:item.cssClass}}))}})},focus:function(event,ui){return false},minLength:2,select:function(event,ui){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value);if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]").val("")},change:function(event,ui){if($("input[name = "+controlName+"]").val()==""){$("input[name = "+controlName+"_Value]").val("")}}})},AutocompleteCityLandmark:function(controlName,parentControl){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:HotelService+"/AutoCompleteCities",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return{label:item.label,value:item.value,cssClass:item.cssClass}}));GetLandmarkData()}});GetLandmarkData=function(){EP.DataManager.GetData({Method:InitializeService+"/AutoCompleteCitiesAndLandmark",Data:'{"startsWith":"'+$("input[name="+controlName+"]",parentControl).val()+'"}',Type:"POST",Success:function(data){response($.map(data,function(item){return{label:item.label,value:item.value,cssClass:item.cssClass}}))}})}},focus:function(event,ui){return false},minLength:2,select:function(event,ui){if(ui.item.cssClass.indexOf("NotSelectable")==-1){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value)}if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]").val("")},change:function(event,ui){if($("input[name = "+controlName+"]").val()==""){$("input[name = "+controlName+"_Value]").val("")}}}).bind({keydown:function(e){if($(" input[name = "+controlName+"]",parentControl).val().length==1){$(" input[name = "+controlName+"_Value]",parentControl).val("")}if($(" input[name = "+controlName+"]",parentControl).val()==""){$(" input[name = "+controlName+"_Value]",parentControl).val("")}}})},AutocompleteStationsInit:function(controlName){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:GeneralService+"/AutoCompleteStations",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return item}))}})},focus:function(event,ui){return false},minLength:2,select:function(event,ui){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.value);if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]").val("")},change:function(event,ui){if($("input[name = "+controlName+"]").val()==""){$("input[name = "+controlName+"_Value]").val("")}}})},AutocompleteFacilitiesInit:function(controlName,selectfunc){$("input[name="+controlName+"]").autocomplete({source:function(request,response){EP.DataManager.GetData({Method:HotelService+"/AutoCompleteFacilities",Data:'{"startsWith":"'+$("input[name="+controlName+"]").val()+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){return{label:item.label,value:item.value}}))}})},minLength:2,select:function(event,ui){$("input[name = "+controlName+"]").val("");$("input[name = "+controlName+"_Value]").val("");selectfunc(event,ui);if(event.keyCode==13){event.stopPropagation()}return false},change:function(event,ui){if($("input[name = "+controlName+"]").val()==""){$("input[name = "+controlName+"_Value]").val("")}}})},AutocompleteMembership:function(controlName,parentControl,passengerNo,page){var paxType=" .fn_PassengerDetail";if(parentControl.indexOf("fn_InfantDetail")>=0){paxType=".fn_InfantDetail"}$("input[name="+controlName+"]",parentControl).autocomplete({source:function(request,response){EP.DataManager.GetData({Method:BookingService+"/AutoCompletePassengerInfo",Data:'{"startsWith":"'+$("input[name="+controlName+"]",parentControl).val()+'","controlName":"'+controlName+'","passengerNo":"'+passengerNo+'","paxType":"'+paxType+'"}',Type:"POST",DontHideLoading:true,Success:function(data){response($.map(data,function(item){if(item!=null){return{label:item.label,userInformations:item}}return null}))}})},minLength:1,select:function(event,ui){EP.BaseFunctions.ShowLoading();var typeOfPassenger="passenger";if(parentControl.indexOf("fn_InfantDetail")>=0){typeOfPassenger="inf"}if(ui.item!=null&&ui.item.userInformations!=null&&ui.item.userInformations.ProfileRecordLocator!=null&&ui.item.userInformations.ProfileRecordLocator!=""){EP.DataManager.GetData({Method:BookingService+"/GetAmadeusPassengerProfile",Data:'{"profileRecordLocator":"'+ui.item.userInformations.ProfileRecordLocator+'","passengerNo":"'+passengerNo+'","typeOfPassenger":"'+typeOfPassenger+'","page":"'+page+'"}',Type:"POST",Success:function(data){EP.BaseFunctions.HideLoading();if(data!=null){if(page=="passenger"){EP.Passenger.FillAmadeusProfile(data)}else{EP.OfferBasket.FillAmadeusProfile(data)}if(passengerNo=="0"){EP.StateManager("AmadeusProfile",data)}}else{if(page=="passenger"){EP.Passenger.FillAmadeusProfile(ui.item.userInformations)}else{EP.OfferBasket.FillAmadeusProfile(ui.item.userInformations)}}}})}else{if(page=="passenger"){EP.Passenger.FillAmadeusProfile(ui.item.userInformations)}else{EP.OfferBasket.FillAmadeusProfile(ui.item.userInformations)}}if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]",parentControl).val("")}})},AutocompleteBookingUser:function(controlName,parentControl){$("input[name="+controlName+"]",parentControl).autocomplete({source:function(request,response){EP.DataManager.GetData({Method:BookingService+"/AutoCompleteBookingUserInfo",Data:'{"startsWith":"'+$("input[name="+controlName+"]",parentControl).val()+'","controlName":"'+controlName+'"}',Type:"POST",DontHideLoading:true,Success:function(data){$("input[name = "+controlName+"_Value]").val("");response($.map(data,function(item){return{label:item.UserInformation.FirstName+" "+item.UserInformation.SecondaryName+" "+item.UserInformation.SurName,BookingUserID:item.ID}}))}})},minLength:1,select:function(event,ui){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.BookingUserID);if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]",parentControl).val("")},result:function(event,ui){alert("")}})},AutocompleteLandmark:function(controlName,parentControl){$("input[name="+controlName+"]",parentControl).autocomplete({source:function(request,response){EP.DataManager.GetData({Method:HotelService+"/AutoCompleteLAndMarkInfo",Data:'{"startsWith":"'+$("input[name="+controlName+"]",parentControl).val()+'"}',Type:"POST",Success:function(data){$("input[name = "+controlName+"_Value]").val("");response($.map(data,function(item){return{label:item.Value,Key:item.Key}}))}})},minLength:1,select:function(event,ui){$("input[name = "+controlName+"]").val(ui.item.label);$("input[name = "+controlName+"_Value]").val(ui.item.Key);if(event.keyCode==13){event.stopPropagation()}return false},search:function(event,ui){$("input[name = "+controlName+"_Value]",parentControl).val("")},result:function(event,ui){alert("")}})},GetVal:function(Obj){if(Obj.length>1){var arr=new Array();Obj.each(function(){arr.push($(this).val())});return arr}else{return Obj.val()}},GetArr:function(length,start,WithZero){if(!start){start=0}if(EP.StateManager("GetArr"+length+"_"+start)){return EP.StateManager("GetArr"+length+"_"+start)}var _arr=new Array();for(var i=start;i<length;i++){if(WithZero){_arr.push({val:"00000".substr(0,length.toString().length-i.toString().length)+i})}else{_arr.push({val:i})}}EP.StateManager("GetArr"+length+"_"+start,_arr,true);return _arr},GetObjectsFromArray:function(array,func){return $.grep(array,func)},GetFormControlValue:function(parentControlClass,propertyName,controlType){var strValue="";var foundInput=null;switch(controlType){case"select":case"combobox":foundInput=$(parentControlClass+" input[name="+propertyName+"_Value]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();return strValue}foundInput=$(parentControlClass+" select[name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();strValue=$.trim(strValue);return strValue}return;case"text":foundInput=$(parentControlClass+" input[type='text'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=EP.BaseFunctions.GetVal(foundInput);return strValue}return;case"checkbox":foundInput=$(parentControlClass+" input[type='checkbox'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.is(":checked");return strValue}return;case"radio":foundInput=$(parentControlClass+" input[name="+propertyName+"]:radio:checked");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();return strValue}return;case"date":foundInput=$(parentControlClass+" input[name="+propertyName+"_Day]");if(foundInput.length>0&&foundInput.val()){var foundInput1=$(parentControlClass+" input[name="+propertyName+"_Month]");var foundInput2=$(parentControlClass+" input[name="+propertyName+"_Year]");try{if(foundInput1.val()&&foundInput2.val()){var d=new Date(foundInput2.val(),foundInput1.val()-1,foundInput.val());strValue=d.toShortString()}}catch(ex){}return strValue}return;case"textarea":foundInput=$(parentControlClass+" textarea[name="+propertyName+"]");if(foundInput.length&&foundInput.val()){strValue=foundInput.val();return strValue}return;case"password":foundInput=$(parentControlClass+" input[type='password'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=EP.BaseFunctions.GetVal(foundInput);return strValue}return;default:return EP.BaseFunctions.GetFormControlValueDeepSearch(parentControlClass,propertyName,controlType)}},GetFormControlValueDeepSearch:function(parentControlClass,propertyName,controlType){var strValue="";var foundInput=null;foundInput=$(parentControlClass+" input[name="+propertyName+"_Value]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();return strValue}foundInput=$(parentControlClass+" input[type='text'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=EP.BaseFunctions.GetVal(foundInput);return strValue}foundInput=$(parentControlClass+" input[type='checkbox'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.is(":checked");return strValue}foundInput=$(parentControlClass+" input[name="+propertyName+"]:radio:checked");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();return strValue}foundInput=$(parentControlClass+" input[name="+propertyName+"_Day]");if(foundInput.length>0&&foundInput.val()){var foundInput1=$(parentControlClass+" input[name="+propertyName+"_Month]");var foundInput2=$(parentControlClass+" input[name="+propertyName+"_Year]");try{if(foundInput1.val()&&foundInput2.val()){var d=new Date(foundInput2.val(),foundInput1.val()-1,foundInput.val());strValue=d.toShortString()}}catch(ex){}return strValue}foundInput=$(parentControlClass+" textarea[name="+propertyName+"]");if(foundInput.length&&foundInput.val()){strValue=foundInput.val();return strValue}foundInput=$(parentControlClass+" select[name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val();strValue=$.trim(strValue);return strValue}foundInput=$(parentControlClass+" input[type='password'][name="+propertyName+"]");if(foundInput.length>0&&foundInput.val()){strValue=EP.BaseFunctions.GetVal(foundInput);return strValue}foundInput=$(parentControlClass+" "+propertyName);if(foundInput.length>0&&foundInput.val()){strValue=foundInput.val()}return strValue},SetCheckBoxValue:function(ParentControlClass,PropertyName,SearchItem){$(ParentControlClass+" input[type='checkbox'][name="+PropertyName+"]").attr("checked",SearchItem!=0?true:false)},ClearMultiCheckList:function(ParentControlClass,PropertyName){var checkBoxes=$(ParentControlClass+" [name="+PropertyName+"]").find("input:checkbox");checkBoxes.each(function(){$(this).attr("checked",false)})},SetMultiCheckListValue:function(ParentControlClass,PropertyName,SearchedItems,Type){var checkBoxes=$(ParentControlClass+" [name="+PropertyName+"]").find("input:checkbox");var chkItemVal=null;if(checkBoxes.length>0){if(Type=="default"){var itemArray=SearchedItems.split(";")}else{if(Type=="state"){var itemArray=SearchedItems.split("_")}}if(itemArray){for(var i=0;i<itemArray.length;i++){if(itemArray[i]!=null&&itemArray[i]!=""){checkBoxes.each(function(){if($(this).val()==itemArray[i]){$(this).attr("checked",true)}})}}}}},GetMultiCheckBoxValue:function(ParentControlClass,PropertyName){var retValue="";var checkBoxes=$(ParentControlClass+" [name="+PropertyName+"]").find("input:checkbox");var index=0;var tempText="";if(checkBoxes.length==0){retValue=null}else{checkBoxes.each(function(){if($(this).prop("checked")){index+=1;tempText=$(this).val();retValue+=tempText+"_"}})}if(retValue!=null&&retValue.substring(retValue.length-1,retValue.length)=="_"){retValue=retValue.substring(0,retValue.length-1)}return retValue},GetMultiCheckBoxDefaultValue:function(DefaultValue){var retValue="";var defParams=[];if(DefaultValue!=""||DefaultValue!=null){defParams=DefaultValue.toString().split(";")}for(var i=0;i<defParams.length;i++){if(defParams[i]!=null&&defParams[i].toString().length>0){retValue+=defParams[i].toString()+"_"}}if(retValue!=null&&retValue.substring(retValue.length-1,retValue.length)=="_"){retValue=retValue.substring(0,retValue.length-1)}return retValue},MultiCheckBoxVisiblityControl:function(ParentControlClass,PropertyName){var InnerPropertyName=PropertyName+"_innerDiv";if($(ParentControlClass+" div[name="+InnerPropertyName+"]").is(":visible")){$(ParentControlClass+" div[name="+InnerPropertyName+"]").hide();$("#"+PropertyName+"_CategoryMultiSelectCheckListMenu").hide()}else{$("#"+PropertyName+"_CategoryMultiSelectCheckListMenu").show();$(ParentControlClass+" div[name="+InnerPropertyName+"]").show()}},SetComboBoxValue:function(ParentControlClass,ComboName,Value,TriggerChangeEvent,Input){var $combobox;if(!Input){$combobox=$("select[name="+ComboName+"]",ParentControlClass)}else{$combobox=Input}$combobox.val(Value);$combobox.next("span").find("input").val($("option:selected:first",$combobox).text());if(TriggerChangeEvent){$combobox.change()}},KeepFields:function(containerClass){var allFields=$(containerClass+" input, "+containerClass+" select");var keepedFields=new Array();var dictionary={};for(var i=0;i<allFields.length;i++){var field=$(allFields[i]);var name=field.prop("name");if(!name){continue}if(name==="CCNumber"||name==="CVV"){continue}var tagName=field.prop("tagName").toLowerCase();var type=field.prop("type");var dataIndexed=false;var dataIndex=field.attr("data-index");if(dataIndex){dictionary[indexName]=dataIndex;dataIndexed=true}else{var indexName=tagName+name+type;if(dictionary[indexName]||dictionary[indexName]===0){dictionary[indexName]++}else{dictionary[indexName]=0}}var fieldObject={tag:tagName,name:name,type:type,value:field.prop("value"),checked:field.prop("checked"),index:dictionary[indexName],dataIndexed:dataIndexed};keepedFields.push(fieldObject)}return keepedFields},FillFields:function(keepedFields,containerClass){EP.EventManager.ManuelTrigger=true;for(var i=0;i<keepedFields.length;i++){if(EP.EventManager.LastEventTargetName==keepedFields[i].name){continue}var keepedField=keepedFields[i];var index=keepedField.index;var dataIndexed=keepedField.dataIndexed;var $input;if(dataIndexed){$input=$(containerClass+" "+keepedFields[i].tag+"[name="+keepedFields[i].name+"][data-index="+index+"]")}else{$input=$(containerClass+" "+keepedFields[i].tag+"[name="+keepedFields[i].name+"]").eq(index)}var oldValue;if(!(keepedField.type=="checkbox"||keepedField.type=="radio"||keepedField.tag=="select")){oldValue=$input.val();if(oldValue!==keepedField.value){$input.val(keepedField.value);$input.trigger("change")}}else{if(keepedField.type=="checkbox"||(keepedField.type=="radio"&&keepedField.checked)){oldValue=$input.val();if(oldValue===keepedField.value){oldValue=$input.prop("checked");if(oldValue!==keepedField.checked){$input.trigger("click")}}}else{if(keepedField.tag=="select"){EP.BaseFunctions.SetComboBoxValue(containerClass,keepedField.name,keepedField.value,true,$input)}}}}EP.EventManager.ManuelTrigger=false},LoginInfo:function(){$().toastmessage("showToast",{text:EP.Localization.Get("AWCWarningMessage on corporate combobox","You should choose one corporate on the listbox above"),sticky:false,type:"warning",position:"middle-center"})},ClearSearchAndBookData:function(){EP.DataManager.GetData({Method:BookingService+"/ClearSearchedResults",Data:"{}",Type:"GET",Success:function(){EP.BaseFunctions.ClearResults();EP.BaseFunctions.ClearBookingData();EP.EventManager.pushState({Name:"Page",Value:"Home",ForURL:true})}})},IsFormValid:function(options){var formElement=null;var formvalid=true;var parentDiv=$(options.ContainerClass)[0];for(var j=0;j<$(options.ContainerClass+" form").length;j++){formElement=$(options.ContainerClass+" form")[j];if(parentDiv.BalloonShowed){$(parentDiv.BalloonShowed).hideBalloon()}parentDiv.BalloonShowed=null;$(formElement).addClass("ActiveFormForValidation");formvalid=$(".ActiveFormForValidation").validate().form();$(formElement).removeClass("ActiveFormForValidation");var targetDiv=$(options.ContainerClass+" .Footer");if(formvalid){$(targetDiv).empty();$(formElement).removeClass("focused")}else{if($(".focused").not(formElement).length==0){var validator=$(formElement).data("validator");if(validator.errorList.length>0){var $invalidEl=$(validator.errorList[0].element);if($invalidEl.prop("type")=="select-one"&&$invalidEl.next().hasClass("ui-combobox")){$invalidEl=$(validator.errorList[0].element).next();if(!$(validator.errorList[0].element).next().hasClass("ui-combobox-input")){$invalidEl=$invalidEl.find("input")}}var offsetTop=$invalidEl.offset().top;offsetTop=offsetTop-50;$invalidEl.focus();$(formElement).addClass("focused");$("html, body").animate({scrollTop:offsetTop},"slow")}}return formvalid}}return formvalid},ValidateFormPrepare:function(p_ContainerClass,ValRules){if(ValRules.length>0){for(var i=0;i<ValRules.length;i++){for(var valobj in ValRules[i]){for(var valprop in ValRules[i][valobj]){if(ValRules[i][valobj][valprop]==null){delete ValRules[i][valobj][valprop]}}}}}else{for(var valobj in ValRules){for(var valprop in ValRules[valobj]){if(ValRules[valobj][valprop]==null){delete ValRules[valobj][valprop]}}}}var parentDiv=$(p_ContainerClass)[0];var formElement=null;for(var j=0;j<$(p_ContainerClass+" form").length;j++){formElement=$($(p_ContainerClass+" form")[j]);$.data(formElement[0],"validator",false);var vRules=null;if(ValRules.length>0){vRules=ValRules[j]}else{vRules=ValRules}formElement.validate({invalidHandler:function(form,validator){EP.BaseFunctions.ShowErrorMessages(form,validator,p_ContainerClass)},rules:vRules,errorPlacement:function(error,element){var objform=$(element).parents("form");EP.BaseFunctions.ErrorPlacementForFormElement(error,element,parentDiv,objform);EP.EventManager.bindEvent("#"+objform.attr("id"),"keydown",function(){EP.EventManager.unbindEvent("#"+objform.attr("id"),"keydown");$(".ErrorMessagesPanel",objform).remove()})},onfocusin:function(element,event){if($(element).hasClass("ui-combobox-input")){element=$(element).parent().prev()[0]}this.lastActive=element;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,element,this.settings.errorClass,this.settings.validClass,true);this.addWrapper(this.errorsFor(element)).hide()}},onfocusout:function(element,event){if($(element).hasClass("ui-combobox-input")){element=$(element).parent().prev()[0]}if(!this.checkable(element)&&(element.name in this.submitted||!this.optional(element))){this.element(element)}},onkeyup:function(element,event){if($(element).hasClass("ui-combobox-input")){element=$(element).parent().prev()[0]}if(element.name in this.submitted||element==this.lastElement){this.element(element)}},onclick:function(element,event){if($(element).hasClass("ui-combobox-input")){element=$(element).parent().prev()[0]}if(element.name in this.submitted){this.element(element)}else{if(element.parentNode.name in this.submitted){this.element(element.parentNode)}}},highlight:function(element,errorClass,validClass){if(element.type==="radio"){this.findByName(element.name).addClass(errorClass).removeClass(validClass)}else{var HighlightElement=$(element);if($(element).prop("type")=="select-one"&&$(element).next().hasClass("ui-combobox")){HighlightElement=$(element).next();if(!$(element).next().hasClass("ui-combobox-input")){HighlightElement=HighlightElement.find("input")}}HighlightElement.addClass(errorClass).removeClass(validClass)}},unhighlight:function(element,errorClass,validClass,forFocus){if(element.type==="radio"){this.findByName(element.name).removeClass(errorClass).addClass(validClass)}else{var HighlightElement=$(element);if($(element).prop("type")=="select-one"&&$(element).next().hasClass("ui-combobox")){HighlightElement=$(element).next();if(!$(element).next().hasClass("ui-combobox-input")){HighlightElement=HighlightElement.find("input")}}if(!forFocus){if($(element).hasClass("ui-combobox-input")){var parentCombo=$(element).parent().prev();for(var j=0,elements=this.invalidElements();elements[j];j++){if(elements[j]==parentCombo[0]){return}}}}HighlightElement.removeClass(errorClass).addClass(validClass)}if($(element).data("balloon")){$(element).hideBalloon()}},ignore:"",focusCleanup:true,onsubmit:false});var objformid=$(formElement).attr("id");var rules=formElement.validate().settings.rules;var formElements,elementSelectorString="";for(var ruleKey in rules){elementSelectorString+=("#"+objformid+" input[name$='"+ruleKey+"'],#"+objformid+" select[name$='"+ruleKey+"'],#"+objformid+" textarea[name$='"+ruleKey+"'],")}elementSelectorString=(elementSelectorString.length>0)?elementSelectorString.substr(0,elementSelectorString.length-1):elementSelectorString;formElements=$(elementSelectorString);for(var ruleKey in rules){var rule=rules[ruleKey];if(rule.required){var RequiredElement=formElements.filter(function(k,v){return $(v).attr("name").endsWith(ruleKey)});if(RequiredElement.length>0&&RequiredElement.prop("type")=="select-one"&&RequiredElement.next().hasClass("ui-combobox")){RequiredElement=RequiredElement.next().find("input")}RequiredElement.addClass("required");if(RequiredElement.prop("type")=="textarea"){$(RequiredElement).addClass("required")}}}}var forms=$(p_ContainerClass+" form");for(var j=0;j<forms.length;j++){if(EP.Layout.CurrentPage=="Passenger"||(EP.Layout.CurrentPage=="MyTrip"&&p_ContainerClass!=".MyTrip")||$(forms[j]).hasClass("fn_ShowStars")){var requiredFields=$(".required",forms[j]);for(var i=0;i<requiredFields.length;i++){var requiredField=$(requiredFields[i]);if(!requiredField.attr("withoutstar")){if(requiredField.hasClass("ui-combobox-input")){var anchorElement=$(requiredField.next("a"));if(!anchorElement.next().hasClass("requiredFieldFlag")){anchorElement.after("<span class='requiredFieldFlag'> *</span>");anchorElement.next("span.requiredFieldFlag").attr("style","margin-left:"+requiredField.next("a").width()+"px")}}else{if(requiredField.next("span").length==0||requiredField.next("span")[0].className.indexOf("requiredFieldFlag")==-1){requiredField.after("<span class='requiredFieldFlag'> *</span>")}}}}}}},ShowErrorMessages:function(form,validator,p_ContainerClass,p_ErrorPanelClass){if(p_ErrorPanelClass){ErrorMessagesTarget=p_ErrorPanelClass}else{var ErrorMessagesTarget=" .ErrorMessagesPanel";if($(".ActiveFormForValidation").length>0&&$(".ActiveFormForValidation "+ErrorMessagesTarget).length==0){$(".ActiveFormForValidation").append($("<div/>",{"class":"ErrorMessagesPanel"}))}if($(".ActiveFormForValidation "+ErrorMessagesTarget).length>0){ErrorMessagesTarget=".ActiveFormForValidation "+ErrorMessagesTarget}else{ErrorMessagesTarget=p_ContainerClass+" .Content .ErrorMessagesPanel";if($(ErrorMessagesTarget).length==0){if($(p_ContainerClass+" .Content").length>0){$(p_ContainerClass+" .Content").append($("<div/>",{"class":"ErrorMessagesPanel"}))}else{ErrorMessagesTarget=p_ContainerClass}}}}EP.EventManager.trigger("ShowValidations",{Target:ErrorMessagesTarget,validator:validator})},ErrorPlacementForFormElement:function(error,element,parentDiv,formElement){if(!parentDiv.BalloonShowed){var bPposition="right";if(formElement&&formElement.validate().settings.rules[element[0].name]){bPposition=formElement.validate().settings.rules[element[0].name].position;if(bPposition){bPposition=bPposition.replace("_","")}}var ErrorMessage=error;if(error.html){ErrorMessage=error.html()}var HighlightElement=$(element);if($(element).prop("type")=="select-one"&&$(element).next().hasClass("ui-combobox")){HighlightElement=$(element).next()}HighlightElement.showBalloon({contents:ErrorMessage,position:bPposition,classname:"BalloonPanel",hideAfterThisDuration:4000});setTimeout(function(){parentDiv.BalloonShowed=false},3900);parentDiv.BalloonShowed=HighlightElement}},ApplyTemplateEditor:function(p_Module){return;$(p_Module.ContainerClass+" .Caption").before($("<div/>",{style:"float: right"}).html($("<a/>",{href:"javascript:","class":"EditTemplate"}).html("Edit Temlate")));EP.EventManager.bindEvent(p_Module.ContainerClass+" .EditTemplate","click",function(){if($(p_Module.ContainerClass+" .draggableEditor").length==0){$(p_Module.ContainerClass+" .Footer").html($("<div/>",{"class":"draggableEditor"}).draggable().resizable().append("<b><br><center>Template Editor</center><br></b>").append($("<textarea/>",{height:"300px",width:"98%","class":"templateArea"}).text($("#"+p_Module.TemplateName).html()).after($("<input/>",{type:"button",value:"apply","class":"applybutton"}))));EP.EventManager.bindEvent(p_Module.ContainerClass+" .applybutton","click",function(){$(p_Module.ContainerClass+" .Content").empty();EP.BaseFunctions.AppendTemplateWithHTML({TemplateHTML:$(".templateArea").text(),Data:p_Module.TemplateData,Target:p_Module.ContainerClass+" .Content"})})}else{$(p_Module.ContainerClass+" .draggableEditor").slideToggle("slow")}})},ShowMiniLoading:function(options){var op=$.extend({Element:null,ClassName:"DomesticLoadingImage"},options);var classSelector="."+op.ClassName;if(op.Element){var loadingImage=$(classSelector);if(loadingImage.length==0){$("<img />").addClass(op.ClassName).attr("src","Images/loading.gif").after(op.Element)}}$(classSelector).show()},HideMiniLoading:function(selector){selector=selector||".DomesticLoadingImage";$(selector).hide()},ShowLoadingForMethod:function(){var CurrentPage=EP.EventManager.LastStates.PreviousPage;if(EP.BaseFunctions.IsUndefined(CurrentPage)){CurrentPage=EP.Layout.CurrentPage}EP.BaseFunctions.ShowLoading({Page:CurrentPage,Lock:true})},ShowLoading:function(p_Options){if(!EP.BaseFunctions.IsUndefined(EP.StateManager("LockLoading"))){return}else{if(!EP.BaseFunctions.IsUndefined(p_Options)&&p_Options.Lock){EP.StateManager("LockLoading",p_Options.Lock,true)}}var buttonName="";var DynamicMainLoader="#loaderModal";var DynamicSubLoader="#loader";DynamicMainLoader="#DynamicMainLoader";DynamicSubLoader="#DynamicSubLoader";if($(DynamicMainLoader).length==0){$("<div/>",{id:"DynamicMainLoader","class":"loaderModal",style:"display:none"}).appendTo("body");$("#DynamicMainLoader").after("<div id='DynamicSubLoader' class='dynamicSubLoader'></div>")}var CurrentPage=EP.Layout.CurrentPage;if(p_Options&&p_Options.Page){CurrentPage=p_Options.Page}try{if(!EP.BaseFunctions.IsUndefined(event)){var target=(event.target||event.srcElement||event.originalTarget);if(!EP.BaseFunctions.IsUndefined(target)){buttonName=target.name}}}catch(ex){}if(EP.StateManager("LoadingElement")){buttonName=EP.StateManager("LoadingElement").name}var splashHtml=EP.Layout.Layouts["layout/SplashScreens/"+CurrentPage+"_"+buttonName+".htm"];if(EP.BaseFunctions.IsUndefined(splashHtml)&&EP.EventManager.getState("Method")){splashHtml=EP.Layout.Layouts["layout/SplashScreens/"+EP.EventManager.getState("Method")+".htm"]}if(EP.BaseFunctions.IsUndefined(splashHtml)&&buttonName!=""){splashHtml=EP.Layout.Layouts["layout/SplashScreens/"+buttonName+".htm"]}if(EP.BaseFunctions.IsUndefined(splashHtml)){splashHtml=EP.Layout.Layouts["layout/SplashScreens/"+EP.Layout.CurrentPage+".htm"]}if(EP.BaseFunctions.IsUndefined(splashHtml)){splashHtml=EP.Layout.Layouts["layout/SplashScreens/Default.htm"]}if(!EP.BaseFunctions.IsUndefined(splashHtml)){if(splashHtml.htmlContent.trim().length==0){EP.StateManager.Remove("LockLoading");return}$(DynamicSubLoader).empty();$.tmpl(splashHtml.htmlContent,{Parameters:EP.StateManager("SearchSplashScreenObj")}).appendTo(DynamicSubLoader);$(DynamicSubLoader).css("display","block")}else{DynamicMainLoader="#loaderModal";DynamicSubLoader="#loader"}$(DynamicMainLoader).css("height",$(document).height()).css("display","block");$(DynamicMainLoader+" "+DynamicSubLoader).css("top",$(window).scrollTop()+($(window).height()/2))},HideLoading:function(p_RemoveLock){if(p_RemoveLock){EP.StateManager.Remove("LockLoading");EP.StateManager.Remove("SearchSplashScreenObj")}if(EP.StateManager("LockLoading")){return}var DynamicMainLoader="#loaderModal";$(DynamicMainLoader).css("display","none");if(EP.StateManager("LoadingElement")){DynamicMainLoader="#DynamicMainLoader";EP.StateManager.Remove("LoadingElement")}DynamicMainLoader="#DynamicMainLoader";$(DynamicMainLoader).css("display","none");$("#DynamicSubLoader").css("display","none")},CreateGuid:function(){var chars="0123456789abcdef".split("");var uuid=[],rnd=Math.random,r;uuid[8]=uuid[13]=uuid[18]=uuid[23]="-";uuid[14]="4";for(var i=0;i<36;i++){if(!uuid[i]){r=0|rnd()*16;uuid[i]=chars[(i==19)?(r&3)|8:r&15]}}return uuid.join("")},Clone:function(obj){var copy;if(typeof Object.create==="function"){copy=Object.create(obj)}else{copy=$.extend(true,{},obj)}return copy},SetWrapper:function(obj,useCustomSettings){var captionInner="",newCaptionInner="",layoutObj,layoutOptions,templateName,captionDiv;templateName=(obj.tmpObject&&obj.tmpObject.TemplateName)?obj.tmpObject.TemplateName:obj.TemplateName;if(EP.BaseFunctions.IsUndefined(templateName)&&obj.Collapsible){layoutObj=obj;layoutOptions=obj}else{if(!EP.BaseFunctions.IsUndefined(templateName)){layoutOptions=EP.Layout.getWidgetSettings(templateName).ModuleOptions;layoutObj=EP.Layout.getWidgetSettings(templateName).tmpObject;if(EP.BaseFunctions.IsUndefined(layoutObj)){for(var key in EP.Layout.AllModules){if(EP.BaseFunctions.IsUndefined(EP.Layout.AllModules[key])){continue}if(EP.Layout.AllModules[key].Class&&EP.Layout.AllModules[key].Class.TemplateName==templateName){layoutObj=EP.Layout.getWidgetSettings(key).tmpObject;layoutOptions=EP.Layout.getWidgetSettings(key).ModuleOptions;break}}}}}if(EP.BaseFunctions.IsUndefined(layoutObj)||EP.BaseFunctions.IsUndefined(layoutObj.ContainerClass)||layoutObj.ContainerClass==""){return}captionDiv=$(layoutObj.ContainerClass+" .Caption:first");captionInner=$(captionDiv).html();if((!captionInner||(captionInner&&!captionInner.trim()))&&(!layoutObj.CaptionText||layoutObj.CaptionText.trim()=="")){return}newCaptionInner='<div class="tablecontainer"><div class="trrow">';newCaptionInner+='<div class="tdcell">'+(captionInner!=null&&captionInner.trim().length>0?captionInner:layoutObj.CaptionText)+"</div>";newCaptionInner+="</div></div>";$(captionDiv).html(newCaptionInner);var collapsibilityOptions=EP.BaseFunctions.getCollapsibilityOptions(layoutObj,layoutOptions,useCustomSettings);if(collapsibilityOptions.IsCollapsible){if(collapsibilityOptions.DefaultState=="Expanded"){$(layoutObj.ContainerClass+" .Content").show()}else{if(collapsibilityOptions.DefaultState=="Collapsed"){$(layoutObj.ContainerClass+" .Content").hide()}}$(layoutObj.ContainerClass+" .Caption").addClass("ExpandedModule");if($(captionDiv).find(".arrow").length==0){$(captionDiv).find(".trrow:last").append('<div class="tdcell arrow"><span class="ui-icon ui-icon-triangle-1-'+($(layoutObj.ContainerClass+" .Content").css("display")=="block"?"s":"w")+'"></span></div>')}if($(captionDiv).find(".full-width").length==0){$(captionDiv).find(".trrow:last").find(".tdcell:last").prev().addClass("full-width")}EP.EventManager.bindEvent(layoutObj.ContainerClass+" .Caption","click",function(){var DisplayStatus=$(layoutObj.ContainerClass+" .Content").css("display");if(DisplayStatus=="none"){$(layoutObj.ContainerClass).addClass("ExpandedModule");$(layoutObj.ContainerClass).removeClass("CollapsedModule");$(layoutObj.ContainerClass).find(".Caption .ui-icon").attr("class","ui-icon ui-icon-triangle-1-s")}else{$(layoutObj.ContainerClass).addClass("CollapsedModule");$(layoutObj.ContainerClass).removeClass("ExpandedModule");$(layoutObj.ContainerClass).find(".Caption .ui-icon").attr("class","ui-icon ui-icon-triangle-1-w")}$(layoutObj.ContainerClass+" .Content").slideToggle()})}else{EP.EventManager.unbindEvent(layoutObj.ContainerClass+" .Caption","click");if($(captionDiv).hasClass("ExpandedModule")){$(captionDiv).removeClass("ExpandedModule")}if($(captionDiv).find("div.arrow").length>0){$(captionDiv).find("div.arrow").remove()}$(layoutObj.ContainerClass+" .Content").show()}},getCollapsibilityOptions:function(layoutObj,layoutOptions,useCustomSettings){if(layoutObj.TemplateName=="Matrix"&&((EP.Result&&!EP.Result.ActiveResults)||!EP.DataManager.GetRuleValue("SelectFlightMatrixItems"))){return{IsCollapsible:true,DefaultState:"Collapsed"}}if((layoutObj.TemplateName=="Itinerary"||layoutObj.TemplateName=="SearchHistory")&&EP.BaseFunctions.IsUndefined(layoutOptions.DetailsPanel)&&EP.BaseFunctions.IsUndefined(layoutOptions.EnableTheCollapsibility)){return{IsCollapsible:true,DefaultState:"Expanded"}}var isCollapsible,defaultState;if((useCustomSettings===true&&layoutObj.Collapsible&&!EP.BaseFunctions.IsUndefined(layoutObj.Collapsible.IsCollapsible))||(EP.BaseFunctions.IsUndefined(layoutOptions.EnableTheCollapsibility)&&layoutObj.Collapsible&&!EP.BaseFunctions.IsUndefined(layoutObj.Collapsible.IsCollapsible))){isCollapsible=layoutObj.Collapsible.IsCollapsible}else{if(!EP.BaseFunctions.IsUndefined(layoutOptions.EnableTheCollapsibility)){isCollapsible=layoutOptions.EnableTheCollapsibility}}if((useCustomSettings===true&&layoutObj.Collapsible&&!EP.BaseFunctions.IsUndefined(layoutObj.Collapsible.DefaultValue))||(EP.BaseFunctions.IsUndefined(layoutOptions.DetailsPanel)&&layoutObj.Collapsible&&!EP.BaseFunctions.IsUndefined(layoutObj.Collapsible.DefaultValue))){defaultState=layoutObj.Collapsible.DefaultValue}else{if(!EP.BaseFunctions.IsUndefined(layoutOptions.DetailsPanel)){defaultState=layoutOptions.DetailsPanel}}return{IsCollapsible:isCollapsible,DefaultState:defaultState}},isArray:function(obj){return obj instanceof Array},makeTwoDigit:function(Val){return("0"+Val).slice(-2)},FillGeneralInformation:function(SuccesF,ForceFill){if(!EP.StateManager("GeneralInformation")||ForceFill){EP.DataManager.GetData({Method:GeneralService+"/GeneralInformationInit",Data:"{}",DontHideLoading:true,Type:"GET",Success:function(p_Data){if(p_Data){EP.BaseFunctions.SubFillGeneralInformation(p_Data);if(SuccesF){SuccesF()}}}})}else{EP.Layout.PrepareGeneralInformations();if(SuccesF){SuccesF()}}},SubFillGeneralInformation:function(p_Data){if(!p_Data.HasUISession){EP.StateManager.Clear()}var GeneralInformation=new Object();GeneralInformation.BasketItemCount=p_Data.BasketItemCount;GeneralInformation.OfficeID=p_Data.OfficeID;GeneralInformation.ServerName=p_Data.ComputerName;GeneralInformation.PortalCode=p_Data.PortalCode;GeneralInformation.PortalID=p_Data.PortalID;GeneralInformation.SessionID=p_Data.SessionID;GeneralInformation.TransactionHistoryID=p_Data.TransactionHistoryID;GeneralInformation.UserIP=p_Data.UserIP;GeneralInformation.TimeStamp=p_Data.TimeStamp;GeneralInformation.ServerTimeZoneDiff=p_Data.ServerTimeZoneDiff;GeneralInformation.SessiontimeOutDuration=p_Data.SessiontimeOutDuration;GeneralInformation.Cultures=new Array();GeneralInformation.FMGREpowerAPIGetFile=p_Data.FMGREpowerAPIGetFile;GeneralInformation.IsB2B2C=p_Data.IsB2B2C;GeneralInformation.IsB2B2CHostAdmin=p_Data.IsB2B2CHostAdmin;GeneralInformation.ChangeSetID=p_Data.ChangeSetID;GeneralInformation.ChangeSetName=p_Data.ChangeSetName;GeneralInformation.DefaultTheme=p_Data.DefaultTheme;GeneralInformation.DateTimeFormats=p_Data.DateTimeFormats;GeneralInformation.LoginRequired=p_Data.LoginRequired;GeneralInformation.DataSource=p_Data.DataSources;GeneralInformation.RecoverPasswordLink=p_Data.RecoverPasswordLink;GeneralInformation.RecoverPasswordTarget=p_Data.RecoverPasswordTarget;GeneralInformation.EditProfileLink=p_Data.EditProfileLink;GeneralInformation.EditProfileTarget=p_Data.EditProfileTarget;GeneralInformation.RegisterLink=p_Data.RegisterLink;GeneralInformation.RegisterTarget=p_Data.RegisterTarget;GeneralInformation.RegistrationFromURL=p_Data.RegistrationFromURL;GeneralInformation.ExternalLinkForBasket=p_Data.ExternalLinkForBasket;GeneralInformation.HaveAffCode=p_Data.HaveAffCode;GeneralInformation.AffCode=p_Data.AffCode;GeneralInformation.IsFacebookPage=p_Data.IsFacebookPage;GeneralInformation.Currencies=p_Data.Currencies;GeneralInformation.DefaultCulture=p_Data.DefaultCulture;GeneralInformation.BuildNumber=p_Data.BuildNumber;GeneralInformation.ApplicationID=p_Data.ApplicationID;GeneralInformation.SiteThemeSettings=new Object();GeneralInformation.SiteThemeSettings.ChangeSetName=p_Data.ChangeSetName;GeneralInformation.SiteThemeSettings.ChangeSetID=p_Data.ChangeSetID;GeneralInformation.IsRobot=p_Data.IsRobot;EP.Localization.FillServerCulture(p_Data.Culture);GeneralInformation.Cultures=new Array();for(var i=0;i<p_Data.Cultures.length;i++){Culture=new Object();Culture.Key=p_Data.Cultures[i].Key;Culture.Value=p_Data.Cultures[i].Value;GeneralInformation.Cultures.push(Culture)}EP.StateManager("GeneralInformation",GeneralInformation);if(p_Data.User){EP.StateManager("GeneralInformation").User=p_Data.User;if(!EP.StateManager("LoggedInUser")){EP.StateManager("LoggedInUser",new Object())}EP.StateManager("LoggedInUser").User=EP.StateManager("GeneralInformation").User}else{EP.StateManager.Remove("LoggedInUser")}EP.Layout.PrepareGeneralInformations()},FillOpenningData:function(p_SFunc){EP.DataManager.GetData({Method:InitializeService+"/GetOpenningData",Data:"{}",DontHideLoading:true,Type:"GET",Success:function(p_Data){if(p_Data){if(typeof p_Data.DataStorage!="undefined"&&p_Data.DataStorage!=null){p_Data.DataStorage=p_Data.DataStorage.replace(/'_'/g,'"');p_Data.DataStorage=p_Data.DataStorage.replace(/'__'/g,'\\"');p_Data.DataStorage=p_Data.DataStorage.replace(/'___'/g,"\\\\");p_Data.DataStorage=p_Data.DataStorage.replace(/_D_/g,"Date");$("body").append("<script>EP.StateManager.StateForStorage = "+p_Data.DataStorage+";EP.DataManager.replaceMicrosoftJSONDates(EP.StateManager.StateForStorage);</script>")}EP.DataManager.SubFillRules(p_Data.PortalRules);EP.Localization.SubFillResxValues(p_Data.Localization);EP.StateManager("CommonDataSources",p_Data.DataSources,true);EP.Layout.ModuleMap=p_Data.ModuleMap;EP.Layout.SiteScriptList=p_Data.SiteScriptList;p_SFunc()}}})},highlightDaysForDatePicker:function(date,containerClass,startDateControl,endDateControl,DisableBeforeDays){var StartDate=EP.StateManager("highlightDaysStartDate"+containerClass+startDateControl);var EndDate=EP.StateManager("highlightDaysEndDate"+containerClass+endDateControl);if(EP.BaseFunctions.IsUndefined(StartDate)&&EP.BaseFunctions.IsUndefined(EndDate)){StartDate=EP.BaseFunctions.GetFormControlValue(containerClass,startDateControl);EndDate=EP.BaseFunctions.GetFormControlValue(containerClass,endDateControl);EP.StateManager("highlightDaysStartDate"+containerClass+startDateControl,StartDate,true);EP.StateManager("highlightDaysEndDate"+containerClass+endDateControl,EndDate,true);setTimeout(function(){EP.StateManager.Remove("highlightDaysStartDate"+containerClass+startDateControl);EP.StateManager.Remove("highlightDaysEndDate"+containerClass+endDateControl)},1000)}StartDate=EP.Glob.StringToDate(StartDate);EndDate=EP.Glob.StringToDate(EndDate);if(!EP.BaseFunctions.IsUndefined(StartDate)){if(DisableBeforeDays){if(date<StartDate){return[false]}}if(!EP.BaseFunctions.IsUndefined(EndDate)){if(date>=StartDate&&date<=EndDate){if($("input[name="+endDateControl+"]",containerClass).css("visibility")=="hidden"){return[true,""]}if($("input[name="+endDateControl+"]",containerClass).is(":hidden")){return[true,""]}return[true,"highlightSelectedDays"]}}}return[true,""]},SetDefaultButton:function(ContainerClass,ButtonName,UseUnbind){EP.EventManager.bindEvent(ContainerClass,"keydown",function(e){if(e.Event.keyCode==13){EP.EventManager.trigger("ControlEvent_"+ContainerClass+" button[name="+ButtonName+"]click");if(UseUnbind){EP.EventManager.unbindEvent(ContainerClass,"keydown")}}})},GetLocalizedFormattedText:function(p_Text,Params,p_DefaultValue){p_Text=p_Text.replace(new RegExp("\\(\\(","gi"),"{");p_Text=p_Text.replace(new RegExp("\\)\\)","gi"),"}");if(!EP.BaseFunctions.IsUndefined(Params)){for(var Paramsi=0;Paramsi<Params.length;Paramsi++){if(Params[Paramsi]==null){Params[Paramsi]=""}}}if(!EP.BaseFunctions.IsUndefined(p_DefaultValue)){p_DefaultValue=p_DefaultValue.replace(new RegExp("\\(\\(","gi"),"{");p_DefaultValue=p_DefaultValue.replace(new RegExp("\\)\\)","gi"),"}");return $.formatString(EP.Localization.Get(p_Text,p_DefaultValue),Params)}return $.formatString(EP.Localization.Get(p_Text),Params)},SetHolidayComboVisibility:function(ContainerClass){var allowHolidayperiod=EP.DataManager.GetRuleValue("AllowHolidayPeriod");var HolidaysCombo=$(ContainerClass+" select[name = Holidays]");var HolidaysComboOptions=null;if(HolidaysCombo.prop){HolidaysComboOptions=HolidaysCombo.prop("options")}else{HolidaysComboOptions=HolidaysCombo.attr("options")}if(!HolidaysComboOptions||HolidaysComboOptions.length==0||(allowHolidayperiod&&allowHolidayperiod=="False")){$(ContainerClass+" .holidayperiodrow").hide()}},PrintDiv:function(divId){if($("#"+divId).length>0){EP.BaseFunctions.PrintHTML($("#"+divId).html())}},PrintHTML:function(htmlContent){if(EP.Layout.CurrentPage=="MyTrip"||EP.Layout.CurrentPage=="Summary"){var myTripVisible=$("#Obj_MyTrip").is(":visible");if(myTripVisible){$("#Obj_MyTrip").hide()}var headerVisible=$("#header").is(":visible");if(headerVisible){$("#header").hide()}var printButtonVisible=$(".Summary .SummaryPrint").is(":visible");if(printButtonVisible){$(".Summary .SummaryPrint").hide()}var buttonsVisible=$("#MyTripZone .SummaryButtons").length>0&&$("#MyTripZone .SummaryButtons").parent().parent().is(":visible");if(buttonsVisible){$("#MyTripZone .SummaryButtons").parent().parent().hide()}var tabHeaderVisible=$("ul.MyTripPageTabs:first").is(":visible");if(tabHeaderVisible){$("ul.MyTripPageTabs:first").hide()}var tabBreadCrumbsVisible=$("#Obj_BreadCrumbs").is(":visible");if(tabBreadCrumbsVisible){$("#Obj_BreadCrumbs").hide()}EP.BannerCookies.CloseBannerCookies();window.print();if(myTripVisible){$("#Obj_MyTrip").show()}if(headerVisible){$("#header").show()}if(buttonsVisible){$("#MyTripZone .SummaryButtons").parent().parent().show()}if(printButtonVisible){$(".Summary .SummaryPrint").show()}if(tabBreadCrumbsVisible){$("#Obj_BreadCrumbs").show()}if(tabHeaderVisible){$("ul.MyTripPageTabs:first").show()}}else{window.print()}},GetResultMode:function(){var resultMode="";if(EP.EventManager.LastStates.Page){resultMode=EP.EventManager.LastStates.Page}if(EP.EventManager.LastStates.Page=="PackageResult"){if(EP.EventManager.getState("ActiveTab")=="PackageHotelResult"){resultMode="HotelResult"}else{if(EP.EventManager.getState("ActiveTab")=="PackageFlightResult"){resultMode="Result"}else{resultMode="Result"}}}return resultMode},GetSubResultMode:function(){var resultMode="";if(EP.EventManager.LastStates.Page){resultMode=EP.EventManager.LastStates.Page}if(EP.EventManager.LastStates.Page=="PackageResult"){if(EP.EventManager.getState("ActiveTab")=="PackageHotelResult"){resultMode="PackageHotelResult"}else{if(EP.EventManager.getState("ActiveTab")=="PackageFlightResult"){resultMode="PackageFlightResult"}else{resultMode="PackageFlightResult"}}}return resultMode},ScrollScreenTo:function(selector){if($(selector).offset().top!=$("html").offset().top){$("html, body").animate({scrollTop:$(selector).offset().top},1000)}},HolidayInit:function(HolidayMarkets,ContainerClass,selectedValue){if(HolidayMarkets&&HolidayMarkets.Holidays.length>0){$(ContainerClass+" select[name=Markets]").change(function(e){EP.BaseFunctions.FillHolidayCombo(HolidayMarkets,ContainerClass,selectedValue)});EP.BaseFunctions.FillHolidayCombo(HolidayMarkets,ContainerClass,selectedValue)}else{$(ContainerClass+" select[name=Markets]").hide()}},FillHolidayCombo:function(HolidayMarkets,ContainerClass,selectedValue){if(!HolidayMarkets){return}var allowHolidayperiod=EP.DataManager.GetRuleValue("AllowHolidayPeriod");if(allowHolidayperiod&&allowHolidayperiod=="False"){return}var arr=new Array();if(HolidayMarkets.Holidays.length>0){for(var i=0;i<HolidayMarkets.Holidays.length;i++){arr.push(HolidayMarkets.Holidays[i])}}EP.BaseFunctions.AppendTemplate({TemplateName:"DropDownListTemplate",Data:{Name:"Holidays",SelectedValue:selectedValue||EP.Localization.Get("Select.SelectCode","Select"),DataSource:arr},Target:ContainerClass+" .holidayPeriods",SuccessF:function(){$(ContainerClass+" select[name=Holidays]").change(function(e){EP.BaseFunctions.SetHoliday(HolidayMarkets,ContainerClass)})}})},SetHoliday:function(HolidayMarkets,ContainerClass){var selectedHoliday=$(ContainerClass+" select[name=Holidays]").children("option").filter(":selected").val();var arr=new Array();if(!$(ContainerClass+" select[name=Holidays] option:nth(0)")[0].selected){for(var i=0;i<HolidayMarkets.HolidaysDate.length;i++){if(HolidayMarkets.HolidaysDate[i].Key==selectedHoliday){arr.push(HolidayMarkets.HolidaysDate[i].Value);continue}}if(ContainerClass.indexOf("Flight")>0){$(ContainerClass+" input[name=DepartureDate]").val(arr[0].StartDate.toShortString());$(ContainerClass+" input[name=ReturnDate]").val(arr[0].EndDate.toShortString())}if(ContainerClass.indexOf("Hotel")>0){$(ContainerClass+" input[name=CheckInDate]").val(arr[0].StartDate.toShortString());$(ContainerClass+" input[name=CheckOutDate]").val(arr[0].EndDate.toShortString());EP.Hotel.ShowNumberOfNights()}if(ContainerClass.indexOf("Car")>0){$(ContainerClass+" input[name=PickUpDate]").val(arr[0].StartDate.toShortString());$(ContainerClass+" input[name=DropOffDate]").val(arr[0].EndDate.toShortString())}if(ContainerClass.indexOf("Package")>0){$(ContainerClass+" input[name=DepartureDate]").val(arr[0].StartDate.toShortString());$(ContainerClass+" input[name=ReturnDate]").val(arr[0].EndDate.toShortString())}if(ContainerClass.indexOf("Train")>0){$(ContainerClass+" input[name=DepartureDate]").val(arr[0].StartDate.toShortString());$(ContainerClass+" input[name=ReturnDate]").val(arr[0].EndDate.toShortString())}}else{}},ReloadStylesheets:function(){var queryString="?reload="+new Date().getTime();$('link[rel="stylesheet"]').each(function(){this.href=this.href.replace(/\?.*|$/,queryString)});$('script[type="text/javascript"]').each(function(){this.href=this.href.replace(/\?.*|$/,queryString)})},ExtractImageUrl:function(input){if(!input){return""}return input.replace(/"/g,"").replace(/url\(|\)$/ig,"")},ReloadImages:function(Parent){var CultureChanged=false;var ChangeSetNameChanged=false;var CurrentThemeChanged=false;if(EP.DataManager.GetRuleValue("PI_DefaultPortalLangCode")!=EP.Localization.Culture){CultureChanged=true}if(EP.StateManager("ChangeSetNameChanged")){ChangeSetNameChanged=true}if(EP.StateManager("CurrentThemeChanged")){CurrentThemeChanged=true}if(!CultureChanged&&!ChangeSetNameChanged&&!CurrentThemeChanged){return}PrepareURL=function(url){var newURL=url;var params="";if(newURL.indexOf("?")==-1){newURL+="?"}else{newURL+="&"}if(CultureChanged){params+="Culture="+EP.Localization.Culture}if(EP.StateManager("ChangeSetNameChanged")){if(params.length>0){params+="&"}params+="ChangeSetName="+EP.StateManager("GeneralInformation").SiteThemeSettings.ChangeSetName}if(EP.StateManager("CurrentThemeChanged")){if(params.length>0){params+="&"}var CurrentTheme=EP.Layout.CurrentTheme;if(CurrentTheme==""){CurrentTheme="Default"}params+="CurrentTheme="+CurrentTheme}return newURL+params};$("*",$(Parent)).filter(window.getComputedStyle?function(){return"none"!==window.getComputedStyle(this,null).backgroundImage}:function(){return"none"!==this.currentStyle.backgroundImage}).each(function(){$(this).css("background-image",PrepareURL(EP.BaseFunctions.ExtractImageUrl($(this).css("background-image"))))});$("img",$(Parent)).each(function(){if(!$(this).attr("NoChange")){$(this).attr("src",PrepareURL(EP.BaseFunctions.ExtractImageUrl($(this).attr("src"))))}})},FindObjectWithProperty:function(p_List,p_propertyname,p_value){var FoundedItem=$.grep(p_List,function(n,i){return n[p_propertyname]==p_value});if(FoundedItem.length>0){return FoundedItem[0]}return null},GetDayDiff:function(beginDate,endDate){var date1=new Date(beginDate);var date2=new Date(endDate);var timediff=date2-date1;timediff=timediff/(24*60*60*1000);return Math.round(timediff)},GetMinuteDiff:function(beginDate,endDate){var date1=new Date(beginDate);var date2=new Date(endDate);var timediff=date2-date1;timediff=timediff/(60*1000);return timediff},GetSiteURL:function(){return location.href.split("#")[0].split("?")[0]},AllowOnlyNumbers:function(e){if(e.keyCode==46||e.keyCode==8||e.keyCode==9||e.keyCode==27||e.keyCode==13||(e.keyCode==65&&e.ctrlKey===true)||(e.keyCode>=35&&e.keyCode<=39)){return}else{if((e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)){e.preventDefault()}}},ReplaceAll:function(str,find,replace){if(typeof(str)!="string"){return str}var findReg=find.length==1?"["+find+"]":"("+find+")";return str.replace(new RegExp(findReg,"g"),replace)},ShowRulesPopup:function(strText,type){if($("#AgencyRulesDialog").length==0){$("body").append($("<div/>",{id:"AgencyRulesDialog"}))}newObj=EP.BaseFunctions.Clone(EP.HtmlModule);newObj.ContainerClass="#AgencyRulesDialog";newObj.TemplateNameForContainer="Blank";newObj.ModuleID=EP.StateManager("GeneralInformation").PortalID;newObj.LayoutID=EP.StateManager("GeneralInformation").PortalID;if(type){newObj[type]=true}if(EP.StateManager("GeneralInformation").IsB2B2C){newObj.ModuleID="03818D66-747E-4E88-8FDB-0C7B61D05DC2";newObj.AlternateUniqKey=EP.StateManager("GeneralInformation").PortalID}EP.HtmlModule.Init(newObj);$("#AgencyRulesDialog").dialog({modal:true,width:750,height:"auto",buttons:[{text:EP.Localization.Get("AWCButton.Ok.Text","Ok"),click:function(){$(this).dialog("close")}}],title:EP.Localization.Get(strText)})},ShowAgencyRules:function(){EP.BaseFunctions.ShowRulesPopup("Agency Rules")},ShowSpanishRules:function(){EP.BaseFunctions.ShowRulesPopup("Spanish Discount Rules","IsSpanishResidentPopup")},ShowConfirm:function(confirmOptions){if($(".fn_ConfirmBox").length==0){$("body").append($("<div/>",{"class":"fn_ConfirmBox"}))}$(".fn_ConfirmBox").dialog({title:confirmOptions.title,modal:true,resizable:true,width:confirmOptions.width,height:confirmOptions.height,buttons:[{text:confirmOptions.yesBtnText,click:function(){$(this).dialog("close");EP.BaseFunctions.ShowLoading();confirmOptions.YesFunc()}},{text:confirmOptions.noBtnText,click:function(){confirmOptions.NoFunc();$(this).dialog("close")}}]}).after().closest(".ui-dialog-content").html('<div style="text-align: center;margin:10px">'+confirmOptions.text+"</div>")},ShowDialog:function(dialogOptions){var defaultOptions={modal:true,resizable:true,width:400,height:200,title:EP.Localization.Get("Alert: Please review the following message(s)"),buttons:[{text:EP.Localization.Get("Ok"),click:function(){$(this).dialog("close")}}],close:function(event,ui){dialogOptions.okFunc()}};dialogOptions=$.extend(defaultOptions,dialogOptions);if($(".fn_MessageBox").length==0){$("body").append($("<div/>",{"class":"fn_MessageBox"}))}$(".fn_MessageBox").dialog(dialogOptions).after().closest(".ui-dialog-content").html('<div style="text-align: center;margin:10px">'+dialogOptions.text+"</div>")},PageSelectCallback:function(){EP.MyTrip.MyTripPage();return false},InitPagination:function(numberOfEntiries,pagingDiv,selectedPage){var numEntries=numberOfEntiries;$(pagingDiv).pagination(numEntries,{num_edge_entries:2,num_display_entries:8,callback:EP.BaseFunctions.PageSelectCallback,items_per_page:1,current_page:selectedPage,prev_text:EP.Localization.Get("Prev"),next_text:EP.Localization.Get("Next")})},getFileManagerAPI:function(){var APIPath=EP.StateManager("GeneralInformation").FMGREpowerAPIGetFile.replace("http://",window.location.protocol+"//");return APIPath},getFileManagerCDN:function(){return EP.BaseFunctions.getFileManagerAPI()+"/GetFileForRoot/Lastest/"+EP.Localization.Culture+"/"},CheckAirportChangeForItineraries:function(itineraries){for(i=0;i<itineraries.length;i++){var hasMoreItineraries=i+1<itineraries.length;var currentItinerary=itineraries[i];if(i==0&&hasMoreItineraries){var nextItinerary=itineraries[i+1];var fromSplit=currentItinerary.From.split(",");var fromAirport=fromSplit[0];var fromLocation=fromSplit[1]+" /"+fromSplit[2];var toSplit=nextItinerary.To.split(",");var toAirport=toSplit[0];var toLocation=toSplit[1]+" /"+toSplit[2];var differentAirports=fromAirport!=toAirport;var inSameCity=fromLocation==toLocation;if(differentAirports&&inSameCity){currentItinerary.HasDepAirportChange="HasDepAirportChange";nextItinerary.HasArrAirportChange="HasArrAirportChange"}}if(hasMoreItineraries){var nextItinerary=itineraries[i+1];var fromSplit=nextItinerary.From.split(",");var fromAirport=fromSplit[0];var fromLocation=fromSplit[1]+" /"+fromSplit[2];var toSplit=currentItinerary.To.split(",");var toAirport=toSplit[0];var toLocation=toSplit[1]+" /"+toSplit[2];var differentAirports=fromAirport!=toAirport;var inSameCity=fromLocation==toLocation;if(differentAirports&&inSameCity){currentItinerary.HasArrAirportChange="HasArrAirportChange";nextItinerary.HasDepAirportChange="HasDepAirportChange"}}var currentSegments=currentItinerary.Segments;for(j=0;j<currentSegments.length;j++){var hasMoreSegments=j+1<currentSegments.length;var currentSegment=currentSegments[j];if(hasMoreSegments){var nextSegment=currentSegments[j+1];if(currentSegment.ArrivalLocation!=nextSegment.DepartureLocation){currentSegment.HasArrAirportChange="HasArrAirportChange";nextSegment.HasDepAirportChange="HasDepAirportChange"}}}}return itineraries},ClearResults:function(){EP.StateManager.Remove("SearchResults");EP.StateManager.Remove("ScheduleSearchResults");EP.StateManager.Remove("HotelSearchResults");EP.StateManager.Remove("CarSearchResults");EP.StateManager.Remove("TrainSearchResults");EP.StateManager.Remove("PinList");EP.EventManager.clearUrlStates();delete EP.EventManager.LastStates.Method;if(EP.Teaser){delete EP.Teaser.HotelData;delete EP.Teaser.CarData}},ClearBookingData:function(){EP.StateManager.Remove("SelectedFlight");EP.StateManager.Remove("SelectedHotel");EP.StateManager.Remove("SelectedCar");EP.StateManager.Remove("InsuranceData");EP.StateManager.Remove("SelectedTrain");EP.StateManager.Remove("SelectedTrainFareDetails");EP.StateManager.Remove("SelectedIPProduct");if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Flight){delete EP.StateManager("BasketProducts").Flight.FRecID;delete EP.StateManager("BasketProducts").Flight.FOptID}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").FlightSchedule){delete EP.StateManager("BasketProducts").FlightSchedule.FRecID;delete EP.StateManager("BasketProducts").FlightSchedule.FOptID}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Hotel){delete EP.StateManager("BasketProducts").Hotel.HOptID;delete EP.StateManager("BasketProducts").Hotel.HROptID}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Car){delete EP.StateManager("BasketProducts").Car.CCompID;delete EP.StateManager("BasketProducts").Car.COptID}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Insurance){delete EP.StateManager("BasketProducts").Insurance.InsuranceID}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Train){delete EP.StateManager("BasketProducts").Train.SelectedRailItineraryIDs;delete EP.StateManager("BasketProducts").Train.SelectedRailProposalIDs}if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").LocalProviderGroup){delete EP.StateManager("BasketProducts").LocalProviderGroup}},BasketItemCountChange:function(p_SFunc){EP.BaseFunctions.FillGeneralInformation(p_SFunc,true)},IsUndefined:function(p_Obj){try{return typeof(p_Obj)=="undefined"||p_Obj==null}catch(ex){return true}},ConvertHTTPS:function(){if(location.href.indexOf("https://")==-1){EP.StateManager.SaveStorageToServer();location.href=location.href.replace("http://","https://")}},IsObjEqual:function(obj1,obj2){if(obj1==null||obj2==null){return false}for(var prop in obj1){if(obj1[prop]!=obj2[prop]){return false}}for(var prop in obj2){if(obj1[prop]!=obj2[prop]){return false}}return true},CalculateDateForDL:function(DepMin,DepMinType,DepMinDay,CurrTime){var tempdate=new Date();switch(DepMinType){case"d":tempdate.setFullYear(CurrTime.getFullYear(),CurrTime.getMonth(),CurrTime.getDate()+DepMin);break;case"w":tempdate.setFullYear(CurrTime.getFullYear(),CurrTime.getMonth(),CurrTime.getDate()+DepMin*7);break;case"m":tempdate.setFullYear(CurrTime.getFullYear(),CurrTime.getMonth()+DepMin,CurrTime.getDate());break}var daytoset=tempdate.getDate();var currentDay=tempdate.getDay();var ReqDay=0;switch(DepMinDay){case"Sun":ReqDay=0;break;case"Mon":ReqDay=1;break;case"Tue":ReqDay=2;break;case"Wed":ReqDay=3;break;case"Thu":ReqDay=4;break;case"Fri":ReqDay=5;break;case"Sat":ReqDay=6;break}var distance=(ReqDay+7-currentDay)%7;tempdate.setDate(tempdate.getDate()+distance);return tempdate.toShortString()},IsCookieEnabled:function(){var expireDate=new Date();expireDate.setDate(expireDate.getDate()+365);var cookieValue="1;expires="+expireDate.toUTCString();document.cookie="FakeCookie="+cookieValue;return(document.cookie&&document.cookie.indexOf("FakeCookie")!=-1)&&navigator.cookieEnabled},DisplayAlertIfCookieOrStorageDisabled:function(){if(!EP.BaseFunctions.IsCookieEnabled()){var title=$("<strong />").text(EP.Localization.Get("Cookie Required"));var message=$("<span />").text(EP.Localization.Get("Cookies are not enabled on your browser. Please enable cookies in your browser preferences to continue"));$("<div />").addClass("cookie-disabled-error").append(title).append(message).prependTo("body")}if(!EP.BaseFunctions.IsDomStorageEnable()){var title=$("<strong />").text(EP.Localization.Get("DOM Storage Required"));var message=$("<span />").text(EP.Localization.Get("DOM Storage is not enabled on your browser. Please enable DOM Storage in your browser preferences to continue"));$("<div />").addClass("cookie-disabled-error").append(title).append(message).prependTo("body")}},DisplayAlertBannerCookies:function(){if(EP.DataManager.GetRuleValue("EnableCookiesPolicy")&&EP.DataManager.GetRuleValue("EnableCookiesPolicy").toLowerCase()=="true"){if(!EP.StateManager("CookiesPolicyViewed")){EP.BannerCookies.Init()}}},ConvertHTTP:function(){if(location.href.indexOf("http://")==-1){EP.StateManager.SaveStorageToServer();location.href=location.href.replace("https://","http://")}},ProtocolCheck:function(p_httpsRequired){return false;if(p_httpsRequired&&location.href.indexOf("https://")==-1){EP.BaseFunctions.ConvertHTTPS();return true}else{if(!p_httpsRequired&&location.href.indexOf("http://")==-1&&!EP.StateManager("HTTPSRedirectedFromServer")){EP.BaseFunctions.ConvertHTTP();return true}}return false},TrimSelectOptions:function(selectEl){var options=$(selectEl).find("option");$.each(options,function(i,v){v.value=v.value.trim()})},ManuelErrorHandling:function(p_Options,p_Data,p_ProductType){EP.BaseFunctions.HideLoading(true);EP.StateManager(p_ProductType+"LastRSWithError",{Options:p_Options,Data:p_Data});EP.EventManager.clearUrlStates();var CurrentPage=EP.EventManager.LastStates.PreviousPage;if(EP.BaseFunctions.IsUndefined(CurrentPage)){CurrentPage=EP.Layout.CurrentPage}if(CurrentPage=="Home"){EP.EventManager.pushState({Name:"ActiveTab",Value:p_ProductType,ForURL:true})}EP.EventManager.pushState({Name:"Page",Value:CurrentPage,ForURL:true})},SpanisResidentPopup:function(options){if($(".SpanishResidentValue").length==0){$("body").append($("<div/>",{"class":"SpanishResidentValue"}));var localizedLink='<a href="javascript:void(0)" class="fn_SpanishTermAndConditions link AdvancedSearchLink DoLocalize">'+EP.Localization.Get("Spanish Term And Conditions")+"</a>";EP.BaseFunctions.AppendTemplate({TemplateName:"SPRDPopup",Data:{LocalizedLink:localizedLink},Target:".SpanishResidentValue"})}else{$("[name=CheckTermAndCondition]").attr("checked",false)}$(".SpanishResidentValue").dialog({modal:true,title:EP.Localization.Get("SpanishResidentWarning"),width:650,height:190,buttons:[{text:EP.Localization.Get("AWCButton.Cancel(no discount).Text","Cancel(no discount)"),id:"Cancel",click:function(){$(this).dialog("close");options.OnCompleteCallback(false)}},{text:EP.Localization.Get("AWCButton.Continue(with discount).Text","Continue(with discount)"),id:"Continue",click:function(){$(this).dialog("close");options.OnCompleteCallback(true)}}]});$("#Continue").button("option","disabled",true);EP.EventManager.bindEvent(" .SpanishResidentValue input[name='CheckTermAndCondition']","click",function(e){if(e.target.checked){$("#Continue").button("option","disabled",false)}else{$("#Continue").button("option","disabled",true)}});EP.EventManager.bindEvent(" .SpanishResidentValue .fn_SpanishTermAndConditions","click",function(e){EP.BaseFunctions.ShowSpanishRules()})},IsDomStorageEnable:function(){try{return !EP.BaseFunctions.IsUndefined(localStorage)}catch(ex){return false}},ExtendCachedInitialData:function(key,data){if(key.lastIndexOf("Init")==key.length-"Init".length){EP.DataManager.replaceMicrosoftJSONDates(data)}EP.CachedInitialData[key]=data},IsCorporateUser:function(){var isCorporate=false;if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UserInformation&&EP.StateManager("LoggedInUser").User.UserInformation.CorporateName&&(EP.DataManager.GetRuleValue("AllowConsolidatorModule")||EP.DataManager.GetRuleValue("Modules_Corporate"))){isCorporate=true}return isCorporate},Empty:function(p_Target){if(!$.browser.msie){$(p_Target).empty()}else{var Target=$(p_Target);if(Target.length==1){Target[0].innerHTML=""}else{for(var i=0;i<Target.length;i++){Target[i].innerHTML=""}}}},htmlEncode:function(value){return $("<div/>").text(value).html()},htmlDecode:function(value){return $("<div/>").html(value).text()},RobotUtilities:{PassedBookingStates:[],IsRobot:function(){return EP.StateManager("GeneralInformation").IsRobot},AddStep:function(stepName){if(EP.BaseFunctions.RobotUtilities.IsRobot()){EP.BaseFunctions.RobotUtilities.PassedBookingStates.push(stepName)}},IsProcessFinished:function(){var isBookOperationStarted=$.inArray("BookRun_Starting",EP.BaseFunctions.RobotUtilities.PassedBookingStates)!=-1;var isBookOperationFinished=($.inArray("BookRun_Finished_Success",EP.BaseFunctions.RobotUtilities.PassedBookingStates)!=-1)||($.inArray("BookRun_Finished_Failed",EP.BaseFunctions.RobotUtilities.PassedBookingStates)!=-1);return isBookOperationStarted&&isBookOperationFinished},IsPaymentSuccess:function(){return $.inArray("BookRun_Starting",EP.BaseFunctions.RobotUtilities.PassedBookingStates)!=-1},IsBookingSuccess:function(){return $.inArray("BookRun_Finished_Success",EP.BaseFunctions.RobotUtilities.PassedBookingStates)!=-1},GetAllSteps:function(){return EP.BaseFunctions.RobotUtilities.PassedBookingStates.toString()},},checkReturnDateMonthPos:function(p_month,p_ControlClass){var otherDate=EP.Glob.StringToDate($(p_ControlClass).val());if(EP.BaseFunctions.IsUndefined(otherDate)&&$(p_ControlClass).datepicker("option","minDate")!=0){otherDate=$(p_ControlClass).datepicker("option","minDate")}if(!EP.BaseFunctions.IsUndefined(otherDate)){if(p_month<otherDate.getMonth()&&(new Date()).getMonth()!=otherDate.getMonth()){$(p_ControlClass).datepicker("option","showCurrentAtPos",1)}else{$(p_ControlClass).datepicker("option","showCurrentAtPos",0)}}else{$(p_ControlClass).datepicker("option","showCurrentAtPos",1)}},getExistFFC:function(datasource,category,FlyerCards){if(EP.BaseFunctions.IsUndefined(datasource)||EP.BaseFunctions.IsUndefined(category)||EP.BaseFunctions.IsUndefined(FlyerCards)||FlyerCards.length==0){return""}for(var i=0;i<datasource.length;i++){if(datasource[i].Name!=category){continue}for(var j=0;j<FlyerCards.length;j++){if(!EP.BaseFunctions.IsUndefined(datasource[i].Values[(FlyerCards[j].AirlineCode+";"+FlyerCards[j].MarketingAirlineCode)])){return(FlyerCards[j].AirlineCode+";"+FlyerCards[j].MarketingAirlineCode)}}}return""},getValueExistFFC:function(datasource,category,FlyerCards){if(EP.BaseFunctions.IsUndefined(datasource)||EP.BaseFunctions.IsUndefined(category)||EP.BaseFunctions.IsUndefined(FlyerCards)||FlyerCards.length==0){return""}for(var i=0;i<datasource.length;i++){if(datasource[i].Name!=category){continue}for(var j=0;j<FlyerCards.length;j++){if(!EP.BaseFunctions.IsUndefined(datasource[i].Values[(FlyerCards[j].AirlineCode+";"+FlyerCards[j].MarketingAirlineCode)])){return FlyerCards[j].Number}}}return""},ResetReusePNR:function(p_ContainerClass){if(EP.DataManager.GetRuleValue("ActivateReusePNR").toLowerCase()=="true"&&EP.StateManager("IsReusePNR")=="true"){EP.StateManager("IsReusePNR","false");if(EP.DataManager.GetRuleValue("Modules_AllowFlightFareDriven").toLowerCase()=="true"&&!EP.BaseFunctions.IsUndefined($(EP.Flight.ContainerClass+" .fn_ResetSearchLink")[0])){$(EP.Flight.ContainerClass+" .fn_ResetSearchLink")[0].innerText=EP.Localization.Get("Reset Search Criterias")}if(EP.DataManager.GetRuleValue("AllowHotel").toLowerCase()=="true"&&!EP.BaseFunctions.IsUndefined($(EP.Hotel.ContainerClass+" .fn_ResetSearchLink")[0])){$(EP.Hotel.ContainerClass+" .fn_ResetSearchLink")[0].innerText=EP.Localization.Get("Reset Search Criterias")}if(EP.DataManager.GetRuleValue("EnableRailModule").toLowerCase()=="true"&&!EP.BaseFunctions.IsUndefined($(EP.Train.ContainerClass+" .fn_ResetSearchLink")[0])){$(EP.Train.ContainerClass+" .fn_ResetSearchLink")[0].innerText=EP.Localization.Get("Reset Search Criterias")}ClearReusePNRObject=new Object();ClearReusePNRObject.Product="Base";EP.DataManager.GetData({Method:BookingService+"/ClearReusePNR",Data:'{"p_RQ":'+JSON.stringify(ClearReusePNRObject)+"}",Type:"POST",ContainerClass:p_ContainerClass,Success:function(p_Data){}})}},IsIOS:function(){var userAgent=window.navigator.userAgent;return userAgent.match(/iPad/i)||userAgent.match(/iPhone/i)}};EP.StateManager=function(key,value,NoRemember){if(typeof value!="undefined"){if(NoRemember){EP.StateManager.State[key]=value;return}EP.StateManager.StateForStorage[key]=value}else{if(typeof EP.StateManager.State[key]!="undefined"){return EP.StateManager.State[key]}return EP.StateManager.StateForStorage[key]}};EP.StateManager.State={};EP.StateManager.Remove=function(key){delete EP.StateManager.State[key];delete EP.StateManager.StateForStorage[key]};EP.StateManager.Clear=function(){$.jStorage.flush();delete EP.StateManager.State;delete EP.StateManager.StateForStorage;EP.StateManager.StateForStorage={};EP.StateManager.State={}};EP.StateManager.SaveToStorage=function(){var strStateForStorage=JSON.stringify(EP.StateManager.StateForStorage);$.jStorage.set("EP",strStateForStorage)};EP.StateManager.SaveStorageToServer=function(){Date.prototype.toJSON1=Date.prototype.toJSON;Date.prototype.toJSON=Date.prototype.toJSON2;String.prototype.toJSON1=String.prototype.toJSON;String.prototype.toJSON=String.prototype.toJSON2;var strStateForStorage=JSON.stringify(EP.StateManager.StateForStorage);Date.prototype.toJSON=Date.prototype.toJSON1;String.prototype.toJSON=String.prototype.toJSON1;strStateForStorage=strStateForStorage.replace(/\\"/g,"'__'");strStateForStorage=strStateForStorage.replace(/\\/g,"'___'");strStateForStorage=strStateForStorage.replace(/"/g,"'_'");strStateForStorage=strStateForStorage.replace(/Date/g,"_D_");EP.DataManager.GetData({Method:GeneralService+"/SetClientDataStorage",Data:'{"p_Data":"'+strStateForStorage+'"}',async:false,Type:"POST"})};EP.StateManager.GetFromStorage=function(p_SFunc){EP.StateManager.StateForStorage={};EP.StateManager.StateForStorage=JSON.parseWithDate($.jStorage.get("EP"));if(!EP.StateManager.StateForStorage){EP.StateManager.StateForStorage={}}if(p_SFunc){p_SFunc()}};EP.DataManager={AjaxRequestQueueList:[],AjaxRequestQueueListRunningMethods:[],AjaxResponseListForClient:{},GetData:function(p_Options){EP.DataManager.DisableCacheIfNecessary(p_Options);if(!EP.DataManager.CheckExistingCacheResponse(p_Options)){return}if(EP.StateManager("SessionDown")){EP.Layout.HideUnloadMessage=true;location.href="";return}if(!EP.DataManager.Initialized){$.ajaxSetup({beforeSend:function(jqXHR,p_Settings){if(p_Settings.dataType!="script"){EP.DataManager.AjaxRequestQueueList.push(jqXHR);EP.DataManager.AjaxRequestQueueListRunningMethods.push(p_Settings.url.substr(p_Settings.url.lastIndexOf("/")+1).split("?")[0])}},complete:function(jqXHR){var index=EP.DataManager.AjaxRequestQueueList.indexOf(jqXHR);if(index>-1){EP.DataManager.AjaxRequestQueueList.splice(index,1);EP.DataManager.AjaxRequestQueueListRunningMethods.splice(index,1)}EP.DataManager.SetSessionTimeOut()}});EP.DataManager.Initialized=true}if(!p_Options.dataType){p_Options.dataType="json"}if(p_Options.KeepForClient){var CacheKey=p_Options.Method;if(p_Options.Type!="GET"){CacheKey+=p_Options.data}if(EP.DataManager.AjaxResponseListForClient[CacheKey]){EP.DataManager.GetDataSuccess(p_Options,EP.DataManager.AjaxResponseListForClient[CacheKey]);return}}if(p_Options.async==undefined){p_Options.async=true}$.ajax({type:p_Options.Type,url:p_Options.Method,data:p_Options.Data,contentType:"application/json; charset=utf-8",dataType:p_Options.dataType,cache:false,port:p_Options.Port,mode:p_Options.Mode,async:p_Options.async,dataFilter:function(data,type){var rx=/Date\(.*?\)?\)/g;if(p_Options.dataType=="json"&&typeof(data)=="string"&&rx.test(data)){var obj=JSON.parse(data);EP.DataManager.replaceMicrosoftJSONDates(obj);EP.DataManager.GetDataSuccess(p_Options,obj,p_Options.ContainerClass);return JSON.stringify(obj)}return data},success:function(data){if(p_Options.KeepForClient){var CacheKey=p_Options.Method;if(p_Options.Type!="GET"){CacheKey+=p_Options.data}EP.DataManager.AjaxResponseListForClient[CacheKey]=data}EP.DataManager.GetDataSuccess(p_Options,data)},error:p_Options.Error?p_Options.Error:function(xhr,status,thrownError){EP.DataManager.AjaxCallError(xhr,status,p_Options.Method,thrownError);if(p_Options.Error2){p_Options.Error2()}}})},GetDataSuccess:function(p_Options,p_Data){if(p_Options.Successed==true){return}p_Options.Successed=true;if(p_Options.DontHideLoading==undefined||p_Options.DontHideLoading==false){EP.BaseFunctions.HideLoading()}if(p_Data){var objResponse=p_Data;if(p_Data.Errors&&p_Data.Errors.length>0){if(p_Options.ManuelErrorHandling){p_Options.ManuelErrorHandling(p_Options,p_Data)}else{EP.DataManager.ErrorHandling(p_Options,p_Data)}if(p_Data.SuccedededWithError){}else{return}}if(p_Data.DataSources&&p_Data.DataSources.length>0){for(var i=0;i<p_Data.DataSources.length;i++){if(p_Data.DataSources[i]&&p_Data.DataSources[i].Name=="RULE"){var Rules=EP.StateManager("Rules");if(!Rules){Rules=new Object()}for(var objRule in p_Data.DataSources[i].Values){Rules[objRule]=p_Data.DataSources[i].Values[objRule]}EP.StateManager("Rules",Rules)}}}}if(p_Options.Success){p_Options.that=p_Options.Success.that;p_Options.Success(p_Data)}EP.EventManager.trigger(p_Options.Method.split("/")[p_Options.Method.split("/").length-1]+"_MethodSuccessful",{})},SegmentSellErrorParameterFunction:function(){if(EP.StateManager("GeneralInformation").BasketItemCount==0){EP.EventManager.pushState({Name:"Page",Value:"Home",ForURL:true})}else{EP.EventManager.pushState({Name:"Page",Value:"Passenger",ForURL:true})}},ErrorHandling:function(p_Options,p_Data){EP.BaseFunctions.HideLoading();if(!EP.StateManager("ErrorList")){EP.StateManager("ErrorList",[],true)}var ValErrors=p_Data.Errors;var Messages="";var newValErrors=new Array();var newValError=null;var validator=new Object();var GotoPage="";var GotoPageErrorType="";var generalMessageBoxButtons=[{text:EP.Localization.Get("AWCButton.Ok.Text","Ok"),click:function(){$(this).dialog("close");if(GotoPage!=""&&GotoPage!=EP.Layout.CurrentPage&&EP.DataManager.GetRuleValue("BackButtonScriptName")!=null){window.location.href=EP.DataManager.GetRuleValue("BackButtonScriptName").replace("location.href","").replace("window.location.href","")}},"class":"DataManagerClose"}];for(var i=0;i<ValErrors.length;i++){EP.StateManager("ErrorList").push(ValErrors[i]);newValError=new Object();newValError.message=ValErrors[i].LocalizeErrorMessage;if(ValErrors[i].PropertyName&&ValErrors[i].PropertyName.length>0){newValError.element=ValErrors[i].PropertyName}if(ValErrors[i].ErrorCode=="1"){GotoPage="Home"}if(ValErrors[i].SubType=="SummaryMailWithError"){EP.Summary.SendSummaryFailMail(p_Data)}if(ValErrors[i].Type=="CreditCardProblem"&&!p_Options.PassCreditCardCheck){EP.EventManager.removeState("Method");var ReturnedDataWithError={Options:p_Options,Data:p_Data};EP.StateManager("OpenPageError",ReturnedDataWithError,true);EP.EventManager.pushState({Name:"Page",Value:"Passenger",ForURL:true});return}else{if(ValErrors[i].Type=="SegmentSellErrorFlight"){EP.FlightDetails.RemoveFlightProduct(EP.DataManager.SegmentSellErrorParameterFunction,true);EP.StateManager("SearchResults")[EP.StateManager("SearchRequest").SearchKey].Recs=p_Data.Recs;generalMessageBoxButtons.push({text:EP.Localization.Get("EPower.SelectAnotherFlight","Select Another Flight"),click:function(){$(".GeneralMessageBox").dialog("close");EP.EventManager.pushState({Name:"Page",Value:"Result",ForURL:true});if(!EP.BaseFunctions.IsUndefined(p_Data.NonSellableFlightOptionIDs)&&p_Data.NonSellableFlightOptionIDs.length>0){EP.StateManager("NonSellableFlightOptionIDs",p_Data.NonSellableFlightOptionIDs)}else{EP.StateManager("NonSellableFlightOptionIDs",EP.StateManager("BasketProducts").Flight.FOptID)}}})}else{if(ValErrors[i].Type=="SegmentSellErrorHotel"){EP.StateManager("SelectedHotelForFeatures",{HOptID:EP.StateManager("BasketProducts").Hotel.HOptID,WaitState:"Search_Response"});EP.HotelDetails.RemoveHotelProduct(EP.DataManager.SegmentSellErrorParameterFunction);generalMessageBoxButtons.push({text:EP.Localization.Get("EPower.SelectAnotherHotelRoom","Select Another Hotel Room"),click:function(){$(".GeneralMessageBox").dialog("close");EP.EventManager.pushState({Name:"Page",Value:"HotelFeatures",ForURL:true})}})}else{if(ValErrors[i].Type=="SegmentSellErrorCar"){EP.CarDetails.RemoveCarProduct(EP.DataManager.SegmentSellErrorParameterFunction);EP.StateManager("CarSearchResults")[EP.StateManager("CarSearchRequest").SearchKey].CarList=p_Data.CarList;generalMessageBoxButtons.push({text:EP.Localization.Get("EPower.SelectAnotherCar","Select Another Car"),click:function(){EP.CarResult.IsSellError=true;$(".GeneralMessageBox").dialog("close");EP.EventManager.pushState({Name:"Page",Value:"CarSearchResult",ForURL:true})}})}else{if(ValErrors[i].Type=="TrainAddError"){EP.StateManager.Remove("SelectedTrain");if(EP.StateManager("BasketProducts")&&EP.StateManager("BasketProducts").Train){delete EP.StateManager("BasketProducts").Train.SelectedRailItineraryIDs;delete EP.StateManager("BasketProducts").Train.SelectedRailProposalIDs}EP.StateManager.Remove("SelectedTrainDetail");EP.StateManager.Remove("SelectedTrainFareDetails");EP.EventManager.trigger("RefreshBasket",{})}else{if(ValErrors[i].Type=="AddProductError"){if(EP.Layout.CurrentPage=="Result"){EP.EventManager.trigger("RemoveFlightProduct")}else{if(EP.Layout.CurrentPage=="HotelResult"){EP.EventManager.trigger("RemoveHotelProduct")}else{if(EP.Layout.CurrentPage=="CarSearchResult"){EP.EventManager.trigger("RemoveCarProduct")}else{if(EP.Layout.CurrentPage=="TrainResult"){EP.EventManager.trigger("RemoveTrainProduct")}}}}}else{if(ValErrors[i].GotoPage){if(ValErrors[i].GotoPage=="HTTPS"){EP.StateManager("HTTPSRedirectedFromServer",EP.Layout.CurrentPage);EP.BaseFunctions.ConvertHTTPS();return}else{GotoPage=ValErrors[i].GotoPage;GotoPageErrorType=ValErrors[i].Type}}}}}}}}newValErrors.push(newValError)}validator.errorList=newValErrors;var LoginRequired=EP.StateManager("GeneralInformation")?EP.StateManager("GeneralInformation").LoginRequired:false;if(GotoPage){if(GotoPageErrorType=="SessionTimeOut"&&LoginRequired){EP.Layout.HideUnloadMessage=true;GotoPage="Login";location.href="?Page="+GotoPage}else{if(GotoPageErrorType=="SessionTimeOut"){EP.Layout.HideUnloadMessage=true;location.href="?Page="+GotoPage}else{if(GotoPage!=EP.Layout.CurrentPage){EP.EventManager.pushState({Name:"Page",Value:GotoPage,ForURL:true})}}}return}EP.BaseFunctions.HideLoading(true);if(p_Options.ContainerClass&&$(p_Options.ContainerClass).length>0){if(p_Options.ErrorPanelClass){$(p_Options.ContainerClass+" "+p_Options.ErrorPanelClass).empty();EP.BaseFunctions.ShowErrorMessages($(p_Options.ContainerClass+" "+p_Options.ErrorPanelClass),validator,p_Options.ContainerClass,p_Options.ContainerClass+" "+p_Options.ErrorPanelClass)}else{EP.BaseFunctions.ShowErrorMessages($(p_Options.ContainerClass+" form"),validator,p_Options.ContainerClass)}}else{if($(".GeneralMessageBox").length==0){$("body").append($("<div/>",{"class":"GeneralMessageBox"}).append($("<form/>",{id:"GeneralMessageBoxForm"})))}if(p_Options.Method){if(p_Options.Method.indexOf("FlightRunSearch")>-1){GotoPage="Flight"}else{if(p_Options.Method.indexOf("HotelRunSearch")>-1){GotoPage="Hotel"}else{if(p_Options.Method.indexOf("CarRunSearch")>-1){GotoPage="Car"}else{if(p_Options.Method.indexOf("RailRunSearch")>-1){GotoPage="Train"}else{if(p_Options.Method.indexOf("MultiComponentRunSearch")>-1){GotoPage="Package"}}}}}}$(".GeneralMessageBox").dialog({modal:true,width:500,height:300,buttons:generalMessageBoxButtons,title:EP.Localization.Get("Alert: Please review the following message(s)"),close:function(){if(GotoPage){EP.Layout.HideUnloadMessage=true;if(GotoPageErrorType=="SessionTimeOut"&&LoginRequired){location.href="?Page=Login"}else{location.href="?Page="+GotoPage}}else{if(p_Options.IfErrorGotoPage){EP.EventManager.pushState({Name:"Page",Value:p_Options.IfErrorGotoPage,ForURL:true})}else{if(EP.EventManager.getState("Method")=="ContinueCompleteBooking"){EP.EventManager.clearUrlStates();EP.EventManager.pushState({Name:"Page",Value:"Passenger",ForURL:true})}}}}});EP.BaseFunctions.ShowErrorMessages($(".GeneralMessageBox form"),validator,".GeneralMessageBox")}var Message=EP.Localization.Get("Module has encountered an error while loading..");$(".ModuleLoadingPanel").html(Message);if(p_Options.ValidationError){p_Options.ValidationError()}},AjaxCallError:function(xhr,status,p_method,thrownError){if(status=="abort"){return}EP.BaseFunctions.HideLoading();var ex={message:"method:"+p_method+"<br>responseText:"+xhr.responseText+"<br>statusText:"+xhr.statusText};if(thrownError&&thrownError.message){ex.message+="<br>"+thrownError.message}EP.DataManager.CatchJSErrors(ex)},CatchJSErrors:function(ex){if(ex&&ex.message){var Message="Message: "+ex.message+"<br><br>";Message+="Stack: "+ex.stack+"<br><br>";Message+="------------------History------------------<br>";for(var i=0;i<EP.EventManager.EventListLogger.length;i++){Message+=EP.EventManager.EventListLogger[i].Name+"<br>"}if(!UseCompiledMode){OpenWindow=window.open("","exwin","height=800, width=800,toolbar=no,scrollbars=yes,menubar=no");OpenWindow.document.write(Message);OpenWindow.document.close()}else{console.log(Message)}}},AbortAllRequests:function(){$(EP.DataManager.AjaxRequestQueueList).each(function(idx,jqXHR){jqXHR.abort()});EP.DataManager.AjaxRequestQueueList=[];EP.DataManager.AjaxRequestQueueListRunningMethods=[]},replaceMicrosoftJSONDates:function(obj){for(var p in obj){switch(typeof(obj[p])){case"string":var match=obj[p].match(/Date\(.*?\)?\)/g);if(match){var dateArr=match[0].substr(1,match[0].length-2).substr(4).split(",");if(dateArr.length>2){obj[p]=new Date(parseInt(dateArr[0]),parseInt(dateArr[1]),parseInt(dateArr[2]),parseInt(dateArr[3]),parseInt(dateArr[4]),parseInt(dateArr[5]),parseInt(dateArr[6]))}}break;case"object":EP.DataManager.replaceMicrosoftJSONDates(obj[p]);break}}},GetCategoryDetails:function(p_DataSources,p_CategoryName){if(p_DataSources){for(var i=0;i<p_DataSources.length;i++){if(p_DataSources[i].Name==p_CategoryName){return p_DataSources[i].Values}}if(p_DataSources[p_CategoryName]){return p_DataSources[p_CategoryName]}}return{}},GetCategoryDetail:function(p_DataSources,p_CategoryName,p_Key){if(p_DataSources){for(var i=0;i<p_DataSources.length;i++){if(p_DataSources[i].Name==p_CategoryName){if(!p_DataSources[i].Values[p_Key]){return p_DataSources[i].Values[p_Key+" "]}return p_DataSources[i].Values[p_Key]}}}return{}},FillRules:function(p_ResulF){EP.DataManager.GetData({Method:InitializeService+"/PortalRulesInit",Data:"{}",Type:"POST",Success:function(p_Data){EP.DataManager.SubFillRules(p_Data);if(p_ResulF){p_ResulF()}}})},SubFillRules:function(p_Data){if(!p_Data){return}var Rules=EP.StateManager("Rules");if(!Rules){Rules=new Object()}for(var objRule in p_Data.PortalRules){Rules[objRule]=p_Data.PortalRules[objRule]}EP.StateManager("Rules",Rules)},GetRuleValue:function(p_RuleCode,object){if(object&&object.DataSources){for(var i=0;i<object.DataSources.length;i++){if(object.DataSources[i]&&object.DataSources[i].Name=="RULE"){return object.DataSources[i].Values[p_RuleCode]}}}if(EP.StateManager("Rules")&&EP.StateManager("Rules")[p_RuleCode]){return EP.StateManager("Rules")[p_RuleCode]}p_RuleCode=p_RuleCode.toLowerCase();if(EP.StateManager("Rules")&&EP.StateManager("Rules")[p_RuleCode]){return EP.StateManager("Rules")[p_RuleCode]}return undefined},ClearSessionTimeOuts:function(){if(EP.DataManager.SessionTimeOutFunc){clearTimeout(EP.DataManager.SessionTimeOutFunc)}if(EP.DataManager.SessionKeepFirstFunc){clearTimeout(EP.DataManager.SessionKeepFirstFunc);if(EP.DataManager.SessionKeepFunc){clearTimeout(EP.DataManager.SessionKeepFunc)}}},SetSessionTimeOut:function(){if(!EP.Layout.PageIsReady){return}EP.DataManager.ClearSessionTimeOuts();if(EP.StateManager("GeneralInformation")){var TimeOutDuration=EP.StateManager("GeneralInformation").SessiontimeOutDuration*60000;EP.DataManager.SessionTimeOutFunc=setTimeout(EP.DataManager.SessionTimeOutSubFunc,TimeOutDuration+1000);EP.DataManager.SessionKeepFunc=function(){if(!EP.StateManager("GeneralInformation")){return}if(!EP.EventManager.LastActivateDate){setTimeout(EP.DataManager.SessionKeepFunc,2000*60);return}var MinDiff=EP.BaseFunctions.GetMinuteDiff(EP.EventManager.LastActivateDate,new Date());if(EP.StateManager("GeneralInformation")){if(MinDiff<EP.StateManager("GeneralInformation").SessiontimeOutDuration){EP.DataManager.GetData({Method:InitializeService+"/KeepAlive",Type:"GET"})}else{setTimeout(EP.DataManager.SessionKeepFunc,2000*60)}}};EP.DataManager.SessionKeepFirstFunc=setTimeout(function(){delete EP.EventManager.LastActivateDate;EP.DataManager.SessionKeepFunc()},2000*60)}},SessionTimeOutSubFunc:function(){if((EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True"||EP.DataManager.GetRuleValue("Modules_Corporate")=="True")&&EP.Layout.CurrentPage!="Login"){if($(".SessionTimeOutDialog").length==0){$("body").append($("<div/>",{"class":"SessionTimeOutDialog"}));EP.BaseFunctions.AppendTemplate({TemplateName:"SessionLocked",Data:{UserName:"",Password:""},Target:".SessionTimeOutDialog",SuccessF:function(){if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User){$(".SessionTimeOutDialog input[name=UserName]").attr("disabled","disabled");$(".SessionTimeOutDialog input[name=UserName]").val(EP.StateManager("LoggedInUser").User.UserInformation.UserName)}$(".SessionTimeOutDialog input[name=Password]").keyup(function(event){if(event.keyCode==13){$(".SessionTimeOutUnlock").click()}})}})}EP.DataManager.GetData({Method:InitializeService+"/LoginInit",Data:"{}",Type:"GET",Success:function(p_Data){ShowDialog(p_Data)}});var ShowDialog=function(loginData){$(".SessionTimeOutDialog").dialog({modal:true,width:500,height:300,buttons:[{text:EP.Localization.Get("AWCButton.Unlock.Text","Unlock"),click:function(){EP.BaseFunctions.ValidateFormPrepare(".SessionTimeOutDialog",loginData.Rules);if(!EP.EventManager.trigger("SearchValidation",{ContainerClass:".SessionTimeOutDialog"})){return}var loginOptions={CreatedUserName:$(".SessionTimeOutDialog input[name=UserName]").val(),CreatedUserPassword:$(".SessionTimeOutDialog input[name=Password]").val(),UnlockLoginRequest:true,LoginUserSuccessCallback:function(DataLogin){EP.StateManager("SessionDown",true,true);$(".SessionTimeOutDialog").dialog("close")}};EP.Login.UserLogin(loginOptions)},"class":"SessionTimeOutUnlock",name:"Unlock"}],close:function(){},title:'<div class="tablecontainer"><div class="trrow"><div class="tdcell"><span class="ui-icon ui-icon-locked"></span></div><div class="tdcell">'+EP.Localization.Get("AWCLabel.Session Locked.Text","Session Locked")+"</div></div></div>",dialogClass:"session-dialog",draggable:false});$(".session-dialog .ui-dialog-titlebar-close").css("display","none")}}else{if($(".SessionTimeOutDialog").length==0){var Message=EP.Localization.Get("EPowerException.Your session has expired! Please click the button for home page.","Your session has expired! Please click the button for home page.");$("body").append($("<div/>",{"class":"SessionTimeOutDialog"}).html(Message))}$(".SessionTimeOutDialog").dialog({modal:true,width:500,height:300,buttons:[{text:EP.Localization.Get("AWCButton.Ok.Text","Ok"),click:function(){$(this).dialog("close")},"class":"SessionTimeOutClose"}],close:function(){EP.Layout.HideUnloadMessage=true;if(EP.StateManager("GeneralInformation").LoginRequired){EP.StateManager.Clear();location.href="?Page=Login"}else{EP.StateManager.Clear();location.href=""}},title:""})}EP.DataManager.ClearSessionTimeOuts()},GetCacheKeyForCurrentRequest:function(options){var method=options.Method.replace("/","");method=method.replace(/\//g,"_");var cacheKey=method.substring(method.indexOf("_")+1);return cacheKey},CheckExistingCacheResponse:function(p_Options){var isContinue=true;if(!EP.BaseFunctions.IsUndefined(EP.CachedInitialData)&&!EP.StateManager("CachedInitialDataDeactivated")){var cacheKey=EP.DataManager.GetCacheKeyForCurrentRequest(p_Options);var cachedResponse=EP.CachedInitialData[cacheKey];if(!EP.BaseFunctions.IsUndefined(cachedResponse)){if(!EP.BaseFunctions.IsUndefined(cachedResponse.UICulture)&&cachedResponse.UICulture!=EP.Localization.Culture){return isContinue}EP.DataManager.GetDataSuccess(p_Options,cachedResponse);isContinue=false}}return isContinue},DisableCacheIfNecessary:function(p_Options){if(p_Options.Method.indexOf("RunSearch")>-1){EP.CachedInitialData=null;EP.StateManager("CachedInitialDataDeactivated",true)}}};EP.EventManager={EventList:new Object(),ElementEventlist:new Object(),NotFoundTriggerList:new Object(),EventListAjaxStateLogger:new Object(),EventListLogger:new Array(),RunHistoryIndex:0,HistoryRunMode:false,LastStates:new Object(),LastActivateDate:null,LastEventTargetName:null,SuspendHashChanges:false,StateCache:{},DefaultUrlValues:{DepartureTime:"00:01",ReturnTime:"00:01",DepartureFlexibleDate:"",ArrivalFlexibleDate:"",FlightType:"RoundTrip",IsCalendarSearch:"false",FamilyDiscount:"false",FlightSearchTypeByProvider:"AmadeusAndExtProviders",ForcePTC:"",IsMajorCabin:"false",RefundableFlight:"false",SearchOptions:"",DirectFlightsOnly:"false",FamilyCardDiscount:"false",CrossBorderSearchOptions:"",CabinClass:"Y"},bind:function(EventName,EventOptions){if(!EventOptions.ForceAdd){if(EP.EventManager.EventList[EventName]){for(var i=0;i<EP.EventManager.EventList[EventName].length;i++){if(""+EP.EventManager.EventList[EventName][i].Run==""+EventOptions.Run){return}}}}if(!EP.EventManager.EventList[EventName]){EP.EventManager.EventList[EventName]=new Array()}EP.EventManager.EventList[EventName].push(EventOptions);return true},bindEvent:function(Element,EventName,EventFunctions,EventParameters){if(!EventParameters||!EventParameters.DontUnbind){EP.EventManager.unbindEvent(Element,EventName);delete EP.EventManager.ElementEventlist["ControlEvent_"+Element.replace("#","")+EventName]}var bindOK=EP.EventManager.bind("ControlEvent_"+Element.replace("#","")+EventName,{Run:EventFunctions});var evtFunc=function(e){if(!EventParameters){EventParameters=new Object()}EventParameters.target=e.currentTarget;EventParameters.Event=e;EP.EventManager.trigger("ControlEvent_"+Element.replace("#","")+EventName,EventParameters);if(!EP.EventManager.ManuelTrigger){EP.EventManager.LastEventTargetName=$(e.currentTarget).attr("name");EP.EventManager.LastActivateDate=new Date()}if(EventParameters.IsPreventDefault){e.preventDefault()}};var tmpBindType=null;if($(Element).length>0&&((EP.BaseFunctions.IsUndefined(EventParameters)||EP.BaseFunctions.IsUndefined(EventParameters.UseDelegate))||(!EP.BaseFunctions.IsUndefined(EventParameters)&&!EP.BaseFunctions.IsUndefined(EventParameters.UseDelegate)&&EventParameters.UseDelegate!=true))){$(Element).bind(EventName,evtFunc);tmpBindType="bind"}else{$("body").delegate(Element,EventName,evtFunc);tmpBindType="delegate"}EP.EventManager.ElementEventlist["ControlEvent_"+Element.replace("#","")+EventName]={Element:Element,EventName:EventName,BindType:tmpBindType}},ClearElementEvents:function(){for(var objElement in EP.EventManager.ElementEventlist){if(EP.EventManager.ElementEventlist[objElement].Element){EP.EventManager.unbindEvent(EP.EventManager.ElementEventlist[objElement].Element,EP.EventManager.ElementEventlist[objElement].EventName)}}EP.EventManager.ElementEventlist=new Array()},unbindEvent:function(Element,EventName){EP.EventManager.remove("ControlEvent_"+Element.replace("#","")+EventName);if(EP.EventManager.ElementEventlist["ControlEvent_"+Element.replace("#","")+EventName]){if(EP.EventManager.ElementEventlist["ControlEvent_"+Element.replace("#","")+EventName].BindType=="delegate"){$("body").undelegate(Element,EventName)}else{$(Element).unbind(EventName)}}else{$("body").undelegate(Element,EventName);$(Element).unbind(EventName)}},remove:function(EventName,SubName){if(typeof SubName!="undefined"&&typeof EP.EventManager.EventList[EventName]!="undefined"){for(var i=0;i<EP.EventManager.EventList[EventName].length;i++){if(EP.EventManager.EventList[EventName][i].Name==SubName){EP.EventManager.EventList[EventName].splice(i,1)}}}else{delete EP.EventManager.EventList[EventName]}},hasBinder:function(EventName,SubName){if(typeof SubName!="undefined"&&typeof EP.EventManager.EventList[EventName]!="undefined"){for(var i=0;i<EP.EventManager.EventList[EventName].length;i++){if(EP.EventManager.EventList[EventName][i].Name==SubName||SubName=="Any"){return true}}}else{return typeof EP.EventManager.EventList[EventName]!="undefined"}return false},clear:function(){EP.EventManager.EventList=new Object()},clearUrlStates:function(){PageName=EP.EventManager.getState("Page");if(PageName&&PageName.length>0){location.hash="#Page="+PageName}else{location.hash="#"}},hashChange:function(e,p_ForceChange){if(EP.EventManager.SuspendHashChanges){EP.EventManager.SuspendHashChanges=false;return}EP.EventManager.StateCache={};p_ForceChange=typeof(p_ForceChange)!="undefined"&&p_ForceChange;var hash=EP.EventManager.encodeURI(location.hash);if($.bbq.lastHash==hash&&!p_ForceChange){return}$.bbq.lastHash=hash;var PageName="Home";if(EP.EventManager.getState("Page",true)){PageName=EP.EventManager.getState("Page",true)}if(EP.BaseFunctions.ProtocolCheck(EP.Layout.HTTPSRequiredPages.indexOf(PageName)>-1)){return}var CultureName="en-US";if(EP.EventManager.getState("Culture",true)){CultureName=EP.EventManager.getState("Culture");if(EP.Localization.Culture.toLowerCase()!=CultureName.toLowerCase()){EP.EventManager.trigger("CultureChanged",{Page:PageName,Culture:CultureName});return}}var FirstPage=!EP.EventManager.LastStates.Page;if(FirstPage||EP.EventManager.LastStates.Page==PageName||p_ForceChange){if(EP.EventManager.getState("Method",true)){var tmpObj=$.deparam.fragment();delete tmpObj.Page;delete tmpObj.ActiveTab;delete tmpObj.Culture;if(!EP.BaseFunctions.IsUndefined(EP.EventManager.LastStates.Method)){delete EP.EventManager.LastStates.Method.Culture}var UseLastMethodEntry=!EP.BaseFunctions.IsUndefined(EP.EventManager.LastStates.Method)&&EP.BaseFunctions.IsObjEqual(tmpObj,EP.EventManager.LastStates.Method)&&!EP.BaseFunctions.IsUndefined(EP.EventManager.LastStates.MethodPage);if(!UseLastMethodEntry){delete EP.EventManager.LastStates.MethodPage;if(";PackageSearch;HotelSearch;CarSearch;Search;TrainSearch;SearchSchedule;SearchTimeTable;".indexOf(";"+EP.EventManager.getState("Method")+";")>-1){EP.EventManager.RunSearchMethodWithBind(tmpObj,"PageIsReady");return}else{if($("#ShellPanel").length==0){EP.BaseFunctions.ShowLoading();EP.EventManager.RunSearchMethodWithBind(tmpObj,"ShellIsReady")}else{EP.EventManager.trigger(EP.EventManager.getState("Method"),$.deparam.fragment());if(tmpObj.Method.indexOf("Search")!=-1){EP.EventManager.LastStates.Method=tmpObj}return}}}else{if(EP.EventManager.LastStates.MethodPage!=PageName||p_ForceChange){EP.EventManager.pushState({Name:"Page",Value:EP.EventManager.LastStates.MethodPage,ForURL:true})}}}}if(EP.EventManager.LastStates.Page!=PageName||p_ForceChange){EP.EventManager.trigger("PageChange",{Page:PageName});return}},RunSearchMethodWithBind:function(tmpObj,BindName){var MethodName=EP.EventManager.getState("Method");var fragment=$.deparam.fragment();EP.StateManager("SimulatedMethod",true);EP.EventManager.bind(BindName,{Name:MethodName+"Method",Run:function(){EP.EventManager.remove(BindName,MethodName+"Method");setTimeout(function(){EP.EventManager.trigger(MethodName,fragment);if(!EP.BaseFunctions.IsUndefined(EP.StateManager("SimulatedMethod"))){EP.StateManager("SimulatedMethod",null)}},10);EP.EventManager.LastStates.Method=tmpObj}});if(";PackageSearch;HotelSearch;CarSearch;Search;TrainSearch;".indexOf(";"+MethodName+";")>-1&&!EP.StateManager("SearchClicked")){if(!EP.StateManager("URLStates")){EP.StateManager("URLStates",{})}var URLData=EP.StateManager("URLStates");var URLData2=EP.EventManager.getURLStates();for(var param in URLData2){URLData[param]=URLData2[param]}EP.StateManager("URLStates").UpdateSearchInfo=true}else{EP.StateManager("SearchClicked",false)}switch(MethodName){case"Search":if(EP.Result){EP.Result.ActiveResults=null}EP.StateManager("SearchResults",{});EP.EventManager.trigger("PageChange",{Page:"Result"});break;case"SearchSchedule":if(EP.ResultSchedule){EP.ResultSchedule.ActiveResults=null}EP.StateManager("ScheduleSearchResults",{});EP.EventManager.trigger("PageChange",{Page:"ResultSchedule"});break;case"SearchTimeTable":if(EP.ResultTimeTable){EP.ResultTimeTable.ActiveResults=null}EP.StateManager("TimeTableSearchResults",{});EP.EventManager.trigger("PageChange",{Page:"ResultTimeTable"});break;case"HotelSearch":if(EP.HotelResult){EP.HotelResult.ActiveHotelResults=null}EP.StateManager("HotelSearchResults",{});EP.EventManager.trigger("PageChange",{Page:"HotelResult"});break;case"CarSearch":if(EP.CarResult){EP.CarResult.ActiveCarResults=null}EP.StateManager("CarSearchResults",{});EP.EventManager.trigger("PageChange",{Page:"CarSearchResult"});break;case"PackageSearch":if(EP.Result){EP.Result.ActiveResults=null}if(EP.HotelResult){EP.HotelResult.ActiveHotelResults=null}EP.StateManager("SearchResults",{});EP.StateManager("HotelSearchResults",{});EP.StateManager.Remove("PackageResultObject");EP.EventManager.trigger("PageChange",{Page:"PackageResult"});break;case"TrainSearch":if(EP.TrainResult){EP.TrainResult.ActiveResults=null}EP.StateManager("TrainSearchResults",{});EP.EventManager.trigger("PageChange",{Page:"TrainResult"});break;default:break}},pushState:function(options){if(!EP.StateManager("URLStates")){EP.StateManager("URLStates",{})}var optionValue=options.Value;if(options.ForURL){optionValue=EP.EventManager.encodeURI(optionValue);EP.EventManager.StateCache={};if(options.Name&&(optionValue||optionValue==false)){if(options.Name=="Method"){try{EP.StateManager("LoadingElement",event.srcElement,true);EP.StateManager("LoadingElement").name=optionValue}catch(ex){}}var HasDifferentValue=!EP.BaseFunctions.IsUndefined(EP.EventManager.getState(options.Name))&&EP.EventManager.getState(options.Name)!=EP.EventManager.DefaultUrlValues[options.Name];if(EP.EventManager.DefaultUrlValues[options.Name]==optionValue.toString()&&!HasDifferentValue){return}EP.StateManager("URLStates")[options.Name]=optionValue;$.bbq.pushState(options.Name+"="+optionValue)}else{if(options.Name){EP.EventManager.removeState(options.Name)}}if(options.Name=="Page"&&(typeof(EP.EventManager.LastStates.Page)=="undefined"||EP.EventManager.LastStates.Page==optionValue)){$.bbq.lastHash=EP.EventManager.encodeURI(location.hash);EP.EventManager.trigger("PageChange",{Page:optionValue,Forced:true})}}else{if(options.Name&&optionValue){EP.StateManager("URLStates")[options.Name]=optionValue}}},removeState:function(p_State){$.bbq.removeState([p_State]);EP.StateManager.Remove(p_State)},getState:function(key,FromOnlyURL){if(!EP.BaseFunctions.IsUndefined(EP.EventManager.StateCache[key])){if(EP.EventManager.StateCache[key]=="undefined"){return undefined}return EP.EventManager.StateCache[key]}var bbqGetState=$.bbq.getState(key);if(bbqGetState){EP.EventManager.StateCache[key]=bbqGetState;return bbqGetState}else{if(!FromOnlyURL&&EP.StateManager("URLStates")&&EP.StateManager("URLStates")[key]!="undefined"){return EP.StateManager("URLStates")[key]}else{if(!FromOnlyURL&&!EP.BaseFunctions.IsUndefined(EP.EventManager.DefaultUrlValues[key])){return EP.EventManager.DefaultUrlValues[key]}}}EP.EventManager.StateCache[key]="undefined";return undefined},encodeURI:function(value){if(!EP.BaseFunctions.IsUndefined(value)){value=EP.BaseFunctions.ReplaceAll(value,">","%3E");value=EP.BaseFunctions.ReplaceAll(value,"<","%3C")}return value},encodeObject:function(obj){var result={};for(var i in obj){if(obj.hasOwnProperty(i)){result[i]=EP.EventManager.encodeURI(obj[i])}}return result},getURLStates:function(){DefaultUrlValues=$.extend(true,{},EP.EventManager.DefaultUrlValues);return $.extend(DefaultUrlValues,EP.EventManager.encodeObject($.deparam.fragment()))},CheckNotFoundTriggerList:function(){for(var EventName in EP.EventManager.NotFoundTriggerList){EP.EventManager.NotFoundTriggerList[EventName].ForNotFoundTriggerList=true;EP.EventManager.trigger(EventName,EP.EventManager.NotFoundTriggerList[EventName])}EP.EventManager.NotFoundTriggerList={}},trigger:function(EventName,EventOptions){if(EventName.indexOf("ControlEvent_")==-1&&EventName!="*"){if(!EP.EventManager.EventList[EventName]&&(EP.BaseFunctions.IsUndefined(EventOptions)||EP.BaseFunctions.IsUndefined(EventOptions.ForNotFoundTriggerList))){EP.EventManager.NotFoundTriggerList[EventName]=EventOptions;if(EP.Layout.NotFoundBindList&&EP.Layout.NotFoundBindList[EventName]){var BindFunc=EP.Layout.NotFoundBindList[EventName].BindFunc;var TriggerFunction=function(){BindFunc();delete EP.EventManager.NotFoundTriggerList[EventName];EP.EventManager.trigger(EventName,EventOptions)};EP.Layout.NotFoundBindList[EventName].BindFunc=TriggerFunction;EP.Layout.GetModuleScriptFile({ModuleObj:{ModuleName:EP.Layout.NotFoundBindList[EventName].Module},BindFunc:TriggerFunction})}if(!EP.BaseFunctions.IsUndefined(EventOptions)&&EP.BaseFunctions.IsUndefined(EventOptions.ForNotFoundTriggerList)){this.invokeCustomJavascriptFunctions(EventName,EventOptions)}return}if(!EP.EventManager.HistoryRunMode&&EventName!="*"){EP.EventManager.EventListLogger.push({Name:EventName,Options:EventOptions});EP.EventManager.trigger("*",{Event:EventName,Options:EventOptions})}}else{if(EventName.indexOf("click")==EventName.length-5&&EP.DataManager.GetRuleValue("PopupConfirmWhenQuit")=="True"){EP.Layout.HideUnloadMessage=true;setTimeout(function(){EP.Layout.HideUnloadMessage=false},100)}}var runEveryItem=function(SubEventName,SubEventOptions){if(!EP.EventManager.EventList[SubEventName]){return}var actionObject=null;var resultObject=null;for(var i=0;i<EP.EventManager.EventList[SubEventName].length;i++){actionObject=EP.EventManager.EventList[SubEventName][i];if(actionObject&&actionObject.Run){if(actionObject.BindParams){SubEventOptions.BindParams=actionObject.BindParams}resultObject=actionObject.Run(SubEventOptions);if(!EP.EventManager.EventList[SubEventName]){return}}}return resultObject};runEveryItem("Before"+EventName,EventOptions);var result=runEveryItem(EventName,EventOptions);runEveryItem("After"+EventName,EventOptions);if(!EP.BaseFunctions.IsUndefined(EventOptions)&&EP.BaseFunctions.IsUndefined(EventOptions.ForNotFoundTriggerList)){this.invokeCustomJavascriptFunctions(EventName,EventOptions)}return result},pushHistoryState:function(State){EP.EventManager.EventListAjaxStateLogger[State]=true;if(EP.EventManager.EventList["WaitState"+State]){return EP.EventManager.EventList["WaitState"+State].Run()}},runHistory:function(){EP.EventManager.EventListAjaxStateLogger=new Object();EP.EventManager.runHistoryLogs()},runHistoryLogs:function(){EP.EventManager.HistoryRunMode=true;var startIndex=0;if(EP.EventManager.RunHistoryIndex>0){startIndex=EP.EventManager.RunHistoryIndex}for(var i=startIndex;i<EP.EventManager.EventListLogger.length;i++){objLog=EP.EventManager.EventListLogger[i];if(objLog.Options.WaitState&&!EP.EventManager.EventListAjaxStateLogger[objLog.Options.WaitState]){EP.EventManager.RunHistoryIndex=i;EP.EventManager.bind("WaitState"+objLog.Options.WaitState,{Run:EP.EventManager.RunHistoryIndex});break}else{EP.EventManager.trigger(objLog.Name,objLog.Options)}if(i==EP.EventManager.EventListLogger.length){EP.EventManager.HistoryRunMode=false}}},invokeCustomJavascriptFunctions:function(eventName,eventOptions){if(EP.Custom&&EP.Custom.Events){if(EP.Custom.Events[eventName]){EP.Custom.Events[eventName].call(window,eventOptions)}}}};$(document).ready(function(){if(typeof ForOnlyScriptLoading!="undefined"){return}var task1=$.Deferred();var task2=$.Deferred();$.when(task1,task2).done(function(){var CurrentPage=EP.EventManager.getState("Page");var AllowedPages=";ChangePassword;RecoverPassword;Register;SubAgencyRegistration;AffiliateBanners;AffiliateReport;Summary;";if(!EP.StateManager("GeneralInformation").User&&EP.StateManager("GeneralInformation").LoginRequired&&AllowedPages.indexOf(";"+CurrentPage+";")==-1&&!EP.EventManager.getState("TransactionId")&&!EP.EventManager.getState("LTD")){EP.EventManager.pushState({Name:"Page",Value:"Login",ForURL:true})}$(window).bind("hashchange",EP.EventManager.hashChange);EP.EventManager.hashChange()});EP.StateManager.GetFromStorage(function(){EP.BaseFunctions.FillGeneralInformation(function(){delete EP.CachedInitialData.GeneralService_GeneralInformationInit;if($.browser.mobile){var DSNPath="scripts/DSN/tiny_mce/";if(EP.StateManager("GeneralInformation").IsB2B2CHostAdmin){DSNPath="../scripts/DSN/tiny_mce/"}EP.Layout.GetScriptEx(DSNPath+"jquery_ui_touch_punch_min.js",function(){})}EP.BaseFunctions.FillOpenningData(function(){EP.BaseFunctions.DisplayAlertIfCookieOrStorageDisabled();if(!EP.StateManager("LoadedModules")){EP.StateManager("LoadedModules",[],true)}if(EP.BaseFunctions.IsIOS()){window.onpagehide=function(){EP.Layout.PageUnload()}}else{$(window).bind("unload",function(){EP.Layout.PageUnload()})}if(EP.Login.ShowConfirmWhenQuit()){$(window).bind("beforeunload",function(event){if(EP.Layout.HideUnloadMessage){EP.Layout.HideUnloadMessage=false}else{var message=EP.Localization.Get("AWCLabel.OnUnloadMessage.Text","You requested to leave the application. If you proceed without saving your changes, data might be lost. Do you want to leave the application now ?");if(typeof event=="undefined"){event=window.event}if(event){event.returnValue=message}return message}});$(document).keydown(function(e){if(e.keyCode==116||(e.keyCode==82&&e.ctrlKey)||(e.keyCode==116&&e.ctrlKey)){EP.Layout.HideUnloadMessage=true}})}if(!UseCompiledMode){EP.Layout.AddModules()}if(UseCompiledMode){EP.StateManager("LoadedFiles",[],true);EP.StateManager("LoadedFiles").push(EP.Layout.SiteScriptList[0].FileName);EP.Layout.AddLoadedModules(EP.Layout.SiteScriptList[0].FileName);EP.StateManager("LoadedFiles").push(EP.Layout.SiteScriptList[1].FileName);EP.Layout.AddLoadedModules(EP.Layout.SiteScriptList[1].FileName);if(!EP.BaseFunctions.IsUndefined($.deparam.fragment().Debug)){EP.StateManager("DebugSession",$.deparam.fragment().Debug)}if(!EP.BaseFunctions.IsUndefined(EP.StateManager("DebugSession"))){for(var i=2;i<EP.Layout.SiteScriptList.length;i++){EP.StateManager("LoadedFiles").push(EP.Layout.SiteScriptList[i].FileName);EP.Layout.AddLoadedModules(EP.Layout.SiteScriptList[i].FileName)}}}EP.Layout.BindGeneralFunctions();task1.resolve()});EP.Layout.GetPageData(function(){task2.resolve()})},true)})});EP.Layout={AllModules:{},PageModules:[],CurrentPage:null,CurrentLayout:null,PageType:null,PageServerPath:null,PageIsReady:false,AllModulesList:{},AllModules:{},HTTPSRequiredModules:["Login","Booking","SubAgencyRegistration","ChangePassword","RecoverPassword","Register"],HTTPSRequiredPages:["Login","Passenger","Booking","EditProfile","ChangePassword","RecoverPassword","Register","Summary"],HideUnloadMessage:false,PageRefreshed:false,settings:{Mode:"View",columns:".DropZone",widgetSelector:".ewidget",handleSelector:".widget-head",contentSelector:".widget-content",widgetDefault:{movable:true,Removable:true,collapsible:true,editable:true,content:"<div align='center'><img src='Images/load.gif' border='0' /></div>"},widgetIndividual:{}},AddModule:function(p_ModuleName,p_ModuleObject){if(!EP.Layout.AllModulesList[p_ModuleName]){EP.Layout.AllModulesList[p_ModuleName]=p_ModuleObject}if(UseCompiledMode){if(EP.StateManager("LoadedModules")&&EP.StateManager("LoadedModules").indexOf(p_ModuleName)==-1||EP.Layout.AllModules[p_ModuleName]){return}}if(!p_ModuleObject){return}if(p_ModuleObject.Class){EP.EventManager.bind("Init_"+p_ModuleName,{Run:p_ModuleObject.Class.Init})}EP.Layout.AllModules[p_ModuleName]=p_ModuleObject},LoadGoogleAnalyticsScripts:function(){if(!EP.DataManager.GetRuleValue("GoogleAnalyticsAccountNumber")||(!EP.BaseFunctions.IsUndefined(EP.StateManager("SimulatedMethod"))&&EP.StateManager("SimulatedMethod"))){return}var transactionId;if(EP.StateManager("SummaryData")){transactionId=EP.StateManager("SummaryData").SummaryRunRS.SelectedTripID}else{transactionId=EP.StateManager("GeneralInformation").TransactionHistoryID}EP.DataManager.GetData({Method:InitializeService+"/GetGoogleAnalyticsScript",Data:JSON.stringify({currentPage:EP.Layout.CurrentPage,transactionId:transactionId}),Type:"POST",Success:function(p_Data){$("#googleAnalyticsScript").remove();$("head").append(p_Data)}})},PageUnload:function(){if(EP.StateManager("SessionDown")){return}EP.StateManager.SaveToStorage()},PageChange:function(p_Options){EP.Layout.PageRefreshed=false;if(EP.Layout.CurrentPage!=p_Options.Page){EP.Layout.CurrentPage=p_Options.Page}else{EP.Layout.PageRefreshed=true}EP.EventManager.LastStates.PreviousPage=EP.EventManager.LastStates.Page;EP.EventManager.LastStates.Page=p_Options.Page;var url_ParameterPageServerPath=null;if(EP.EventManager.getState("ServerIPAddress")!=null&&EP.EventManager.getState("ServerIPAddress").length>0){EP.Layout.PageType="LTDRobot";EP.Layout.PageServerPath=EP.EventManager.getState("ServerIPAddress")}else{if(EP.BaseFunctions.ProtocolCheck(EP.Layout.HTTPSRequiredPages.indexOf(EP.Layout.CurrentPage)>-1)){return}}$.datepicker.initialized=false;$("#loaderModal").hide();$.fn.appear.clearAll();EP.EventManager.ClearElementEvents();EP.DataManager.AbortAllRequests();EP.StateManager.Remove("PageLocalizeKeys");EP.StateManager("PageLocalizeKeys",new Object());EP.StateManager.Remove("NotFoundList");EP.StateManager("NotFoundList",new Array());if(UseCompiledMode){for(var i=0;i<EP.Layout.SiteScriptList.length;i++){if(EP.Layout.SiteScriptList[i].Page&&EP.Layout.SiteScriptList[i].Page.indexOf(p_Options.Page)>-1){EP.Layout.LoadScriptFiles(EP.Layout.SiteScriptList[i].FileName)}}}if(!EP.Layout.PageRefreshed){EP.Layout.StartPageLocalizationCollectOnServer()}if(EP.StateManager("HTTPSRedirectedFromServer")!=EP.Layout.CurrentPage){EP.StateManager.Remove("HTTPSRedirectedFromServer")}if(!EP.Layout.AllPages){EP.Layout.GetPageData(function(){EP.Layout.initPage(true)})}else{EP.Layout.initPage(true)}},AddLoadedModules:function(p_FileName){if(!EP.StateManager("LoadedModules")){EP.StateManager("LoadedModules",[],true)}for(var i=0;i<EP.Layout.SiteScriptList.length;i++){if(EP.Layout.SiteScriptList[i].FileName==p_FileName){for(var oModuleName in EP.Layout.ModuleMap){if(EP.Layout.ModuleMap[oModuleName].Level==EP.Layout.SiteScriptList[i].Level&&EP.Layout.SiteScriptList[i].GroupList.indexOf(EP.Layout.ModuleMap[oModuleName].GroupName)>-1){EP.StateManager("LoadedModules").push(oModuleName)}}}}EP.Layout.AddModules()},PageReady:function(){$(".BalloonPanel").hide();if($("#totalTasks").length>0&&EP.Queue){$("#totalTasks").html(EP.Queue.TotalQueueNum)}EP.Layout.PrepareGeneralInformations();$(".scroll-pane").each(function(){setSlider($(this))});if($.browser.msie&&$.browser.version<8){}if(UseCompiledMode){EP.Layout.AddModules();EP.Layout.LoadScriptFiles(EP.Layout.SiteScriptList[2].FileName)}else{if(!EP.StateManager("TemplatesSetted")){var Templates1s=$("script[type='text/x-jquery-tmpl']");var TemplateList=[];for(var loop=0;loop<Templates1s.length;loop++){var txtScript=$(Templates1s[loop]).template().toString();var tmpName=$(Templates1s[loop]).attr("id");txtScript=txtScript.replace("function anonymous","function tmp_"+tmpName);txtScript+="jQuery.template('#"+tmpName+"', tmp_"+tmpName+");";TemplateList.push({Name:tmpName,Directory:$(Templates1s[loop]).attr("directory"),JSFunction:txtScript.replace(/"/g,"_*_").replace(/\n/g," ").replace(/\\/g,"_**_")})}EP.DataManager.GetData({Method:InitializeService+"/SetTemplateList",Data:'{"p_RQ":'+JSON.stringify({Templates:TemplateList})+"}",DontHideLoading:true,Type:"POST",Success:function(p_Data){EP.StateManager("TemplatesSetted",true,true)}})}}if(EP.StateManager("OpenPageError")){var OpenPageError=EP.StateManager("OpenPageError");EP.StateManager.Remove("OpenPageError");OpenPageError.Options.PassCreditCardCheck=true;EP.DataManager.GetDataSuccess(OpenPageError.Options,OpenPageError.Data)}if(!EP.StateManager("ValidatorMessagesOverrided")){EP.StateManager("ValidatorMessagesOverrided",true,true);OverrideValidatorMessages()}EP.Layout.PageIsReady=true;EP.EventManager.trigger("PageIsReady",{});EP.BaseFunctions.DisplayAlertBannerCookies();EP.Layout.LoadGoogleAnalyticsScripts()},AddModules:function(){EP.Layout.AddModule("Login",{Class:EP.Login,MandatoryPages:["Login"],CanMultiple:true,InitOrder:1});EP.Layout.AddModule("LoginStatus",{Class:EP.LoginStatus,InitOrder:1});EP.Layout.AddModule("HtmlModule",{Class:EP.HtmlModule,IdRequired:true,CanMultiple:true,InitOrder:1});EP.Layout.AddModule("IFrameModule",{Class:EP.IFrameModule,CanMultiple:true,InitOrder:1});EP.Layout.AddModule("LanguageSelect",{Class:EP.LanguageSelect,CanMultiple:true,InitOrder:1});EP.Layout.AddModule("CurrencySelect",{Class:EP.CurrencySelect,CanMultiple:true});EP.Layout.AddModule("Flight",{Class:EP.Flight,MandatoryPages:["Flight"],InitOrder:1,MustInitWithStarting:true});EP.Layout.AddModule("FlightSchedule",{Class:EP.FlightSchedule,MandatoryPages:["FlightSchedule"],InitOrder:1});EP.Layout.AddModule("FlightTimeTable",{Class:EP.FlightTimeTable,MandatoryPages:["FlightTimeTable"],InitOrder:1});EP.Layout.AddModule("Hotel",{Class:EP.Hotel,MandatoryPages:["Hotel"],InitOrder:1});EP.Layout.AddModule("Car",{Class:EP.Car,MandatoryPages:["Car"],InitOrder:1});EP.Layout.AddModule("Train",{Class:EP.Train,MandatoryPages:["Train"],InitOrder:1});EP.Layout.AddModule("TrainResult",{Class:EP.TrainResult,MandatoryPages:["TrainResult"],InitOrder:2,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("TrainFareDetails",{Class:EP.TrainFareDetails,InitOrder:1,MandatoryPages:["Basket"],AfterModule:["FlightFareDetails"]});EP.Layout.AddModule("TrainDetails",{Class:EP.TrainDetails,InitOrder:1,MandatoryPages:["Basket"],AfterModule:["FlightDetails"]});EP.Layout.AddModule("TrainRemarks",{Class:EP.TrainRemarks,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ClearResults",{Class:EP.ClearResults,InitOrder:1});EP.Layout.AddModule("AgencyStatistics",{Class:EP.AgencyStatistics,RelatedRule:{RuleName:"AllowConsolidatorModule",RuleValue:"True"},InitOrder:1});EP.Layout.AddModule("Basket",{Class:EP.Basket,MandatoryPages:["Basket"],MustInitWithStarting:true,InitOrder:3,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("BreadCrumbs",{Class:EP.BreadCrumbs,InitOrder:1});EP.Layout.AddModule("Booking",{Class:EP.Booking,MandatoryPages:["Passenger"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("BookingButtons",{Class:EP.BookingButtons,MandatoryPages:["Passenger"],InitOrder:6,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("CalendarSearch",{Class:EP.CalendarSearch,InitOrder:1});EP.Layout.AddModule("CarDetails",{Class:EP.CarDetails,InitOrder:1});EP.Layout.AddModule("CarResult",{Class:EP.CarResult,MandatoryPages:["CarSearchResult"],InitOrder:3,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("CarRulesPopup",{Class:EP.CarRulesPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("CarLocationsPopup",{Class:EP.CarLocationsPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Compare",{Class:EP.Compare,InitOrder:1,DisableCollapsibilityFeature:true});EP.Layout.AddModule("ETicket",{Class:EP.ETicket,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("FareSummary",{Class:EP.FareSummary,InitOrder:6});EP.Layout.AddModule("AlternativeFaresPopup",{Class:EP.AlternativeFaresPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ManualMarkup",{Class:EP.ManualMarkup,MandatoryPages:["Passenger"],RelatedRule:{RuleName:"AllowConsolidatorModule",RuleValue:"True"},InitOrder:1});EP.Layout.AddModule("Filter",{Class:EP.Filter,InitOrder:1,MandatoryPages:["ResultTimeTable"],TargetZone:{ResultTimeTable:"LeftZone"}});EP.Layout.AddModule("FlightDetails",{Class:EP.FlightDetails,InitOrder:1});EP.Layout.AddModule("FlightFareDetails",{Class:EP.FlightFareDetails,InitOrder:1});EP.Layout.AddModule("FlightRulesPopup",{Class:EP.FlightRulesPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("CreateNewBookingPopup",{Class:EP.CreateNewBookingPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("HotelDetails",{Class:EP.HotelDetails,InitOrder:1});EP.Layout.AddModule("HotelFeatures",{Class:EP.HotelFeatures,MandatoryPages:["HotelFeatures"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("HotelResult",{Class:EP.HotelResult,MandatoryPages:["HotelResult"],InitOrder:3,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("HotelRulesPopup",{Class:EP.HotelRulesPopup,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Insurance",{Class:EP.Insurance,MustInitWithStarting:true,InitOrder:5});EP.Layout.AddModule("IPProducts",{Class:EP.IPProducts,MustInitWithStarting:true,InitOrder:7});EP.Layout.AddModule("IPStart",{Class:EP.IPStart,MustInitWithStarting:true,CanMultiple:true,InitOrder:10});EP.Layout.AddModule("ExternalProviders",{Class:EP.ExternalProviders,MustInitWithStarting:true,RelatedRule:{RuleName:"EnableIntegratedProviders",RuleValue:"True"},InitOrder:8});EP.Layout.AddModule("Itinerary",{Class:EP.Itinerary,InitOrder:1});EP.Layout.AddModule("MiniRules",{Class:EP.MiniRules,InitOrder:1});EP.Layout.AddModule("SpecialNotes",{Class:EP.SpecialNotes,MandatoryPages:["Passenger"],RelatedRule:[{RuleName:"AllowSpecialNote",RuleValue:"MA"},{RuleName:"AllowTripName",RuleValue:"MA"}],InitOrder:1,BeforeModule:["MiniRules"]});EP.Layout.AddModule("LocalProvider",{Class:EP.LocalProvider,InitOrder:1});EP.Layout.AddModule("LocalProviderPassenger",{Class:EP.LocalProviderPassenger,InitOrder:1});EP.Layout.AddModule("MyTrip",{Class:EP.MyTrip,MandatoryPages:["MyTrip"],InitOrder:1});EP.Layout.AddModule("EditProfile",{Class:EP.EditProfile,MandatoryPages:["EditProfile"],InitOrder:1});EP.Layout.AddModule("Register",{Class:EP.Register,InitOrder:1});EP.Layout.AddModule("SelectProfileOption",{Class:EP.SelectProfileOption,InitOrder:1});EP.Layout.AddModule("RecoverPassword",{Class:EP.RecoverPassword,MandatoryPages:["RecoverPassword"],CanMultiple:true,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ChangePassword",{Class:EP.ChangePassword,MandatoryPages:["ChangePassword"],CanMultiple:true,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Matrix",{Class:EP.Matrix,MandatoryPages:["Matrix"],InitOrder:8});EP.Layout.AddModule("Package",{Class:EP.Package,InitOrder:1,MandatoryPages:["Package"]});EP.Layout.AddModule("PackageResult",{Class:EP.PackageResult,InitOrder:3,MandatoryPages:["PackageResult"],CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Paging",{Class:EP.Paging,InitOrder:1,MustInitWithStarting:true,DisableCollapsibilityFeature:true});EP.Layout.AddModule("Passenger",{Class:EP.Passenger,MandatoryPages:["Passenger"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("OfferMyTrip",{Class:EP.OfferMyTrip});EP.Layout.AddModule("OfferBasket",{Class:EP.OfferBasket,MandatoryPages:["OfferBasket"],MustInitWithStarting:true,InitOrder:6,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("OfferSummary",{Class:EP.OfferSummary,MandatoryPages:["OfferSummary"],MustInitWithStarting:true,InitOrder:7,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Queue",{Class:EP.Queue,InitOrder:1});EP.Layout.AddModule("Result",{Class:EP.Result,MandatoryPages:["Result"],InitOrder:3,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ResultSchedule",{Class:EP.ResultSchedule,MandatoryPages:["ResultSchedule"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ResultTimeTable",{Class:EP.ResultTimeTable,MandatoryPages:["ResultTimeTable"],InitOrder:3,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("SearchHistory",{Class:EP.SearchHistory,InitOrder:5});EP.Layout.AddModule("AlternativeFlight",{Class:EP.AlternativeFlight,InitOrder:0});EP.Layout.AddModule("SeatMap",{Class:EP.SeatMap,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Sorting",{Class:EP.Sorting,InitOrder:5,DisableCollapsibilityFeature:true});EP.Layout.AddModule("Summary",{Class:EP.Summary,MandatoryPages:["Summary"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("Teaser",{Class:EP.Teaser,MustInitWithStarting:true,InitOrder:8});EP.Layout.AddModule("ThemeWizard",{Class:EP.ThemeWizard,MustInitWithStarting:true,InitOrder:8,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("TicketingArrangement",{Class:EP.TicketingArrangement,MandatoryPages:["Passenger"],TargetZone:{Passenger:"MiddleZone"},RelatedRule:{RuleName:"EnableModifyLTD",RuleValue:"True"},CanNotAddWithHostAdmin:true,InitOrder:2});EP.Layout.AddModule("TrainSpecialRequests",{Class:EP.TrainSpecialRequests,MustInitWithStarting:true,InitOrder:8});EP.Layout.AddModule("LessEditor",{Class:EP.LessEditor,MustInitWithStarting:true,InitOrder:8,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ChatSupport",{Class:EP.ChatSupport,MustInitWithStarting:true,InitOrder:8});EP.Layout.AddModule("SubAgencyRegistration",{Class:EP.SubAgencyRegistration,MustInitWithStarting:true,MandatoryPages:["SubAgencyRegistration"],InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("SubAgencyBookingManager",{Class:EP.SubAgencyBookingManager,MandatoryPages:["MyTrip"],TargetZone:{MyTrip:"BookingManagerZone"},RelatedRule:{RuleName:"SubAgencyEnableBookingManager",RuleValue:"True"},InitOrder:1});EP.Layout.AddModule("SummarySendMail",{Class:EP.SummarySendMail,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("ManualMarkup",{Class:EP.ManualMarkup,MustInitWithStarting:true,InitOrder:10});EP.Layout.AddModule("CarbonOffset",{Class:EP.CarbonOffset,MandatoryPages:["Basket"],AfterModule:["FlightDetails"]});EP.Layout.AddModule("SecondaryLevelServiceFee",{Class:EP.SecondaryLevelServiceFee,MandatoryPages:["Passenger"],TargetZone:{Passenger:"MiddleZone"},BeforeModule:["FareSummary"],RelatedRule:{RuleName:"ActivateSubAgencyManualServiceFee",RuleValue:["SecondaryLevelMarkup","SecondaryLevelServiceFee"]}});EP.Layout.AddModule("AffiliateBanners",{Class:EP.AffiliateBanners,MandatoryPages:["AffiliateBanners"],CanMultiple:false,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("AffiliateReport",{Class:EP.AffiliateReport,MandatoryPages:["AffiliateReport"],CanMultiple:false,InitOrder:1,CanNotAddWithHostAdmin:true});EP.Layout.AddModule("DeepLink",{Class:EP.DeepLink,CanMultiple:true,InitOrder:1});EP.Layout.AddModule("SocialMediaModule",{Class:EP.SocialMediaModule});EP.Layout.AddModule("SOMEAEndUserModule",{Class:EP.SOMEAEndUserModule});EP.Layout.AddModule("TopLocations",{Class:EP.TopLocations,CanMultiple:false,InitOrder:0,MustInitWithStarting:true});EP.Layout.AddModule("RemarkAndOSI",{Class:EP.RemarkAndOSI,InitOrder:5,CanNotAddWithHostAdmin:true})},BindWithModule:function(p_Module,p_BindName,p_BindFunc){if(!UseCompiledMode||EP.StateManager("LoadedModules").indexOf(p_Module)>-1){p_BindFunc();return}if(!EP.Layout.NotFoundBindList){EP.Layout.NotFoundBindList={}}EP.Layout.NotFoundBindList[p_BindName]={Module:p_Module,BindFunc:p_BindFunc}},BindGeneralFunctions:function(){EP.EventManager.bind("CultureChanged",{Run:EP.Localization.CultureChanged});EP.EventManager.bind("PageChange",{Run:EP.Layout.PageChange});EP.EventManager.bind("SearchValidation",{Run:EP.BaseFunctions.IsFormValid});EP.EventManager.bind("ClearSearchAndBookData",{Run:EP.BaseFunctions.ClearSearchAndBookData});EP.EventManager.bind("LoginInfo",{Run:EP.BaseFunctions.LoginInfo});EP.Layout.BindWithModule("Flight","Search",function(){EP.EventManager.bind("Search",{Run:EP.Flight.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("FlightSchedule","SearchSchedule",function(){EP.EventManager.bind("SearchSchedule",{Run:EP.FlightSchedule.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("FlightTimeTable","SearchTimeTable",function(){EP.EventManager.bind("SearchTimeTable",{Run:EP.FlightTimeTable.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("Package","PackageSearch",function(){EP.EventManager.bind("PackageSearch",{Run:EP.Package.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("Car","CarSearch",function(){EP.EventManager.bind("CarSearch",{Run:EP.Car.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("Hotel","HotelSearch",function(){EP.EventManager.bind("HotelSearch",{Run:EP.Hotel.HotelSearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("Train","TrainSearch",function(){EP.EventManager.bind("TrainSearch",{Run:EP.Train.SearchStart,WaitState:"SearchValidationOk"})});EP.Layout.BindWithModule("MyTrip","GetPNRWithTranID",function(){EP.EventManager.bind("GetPNRWithTranID",{Run:EP.MyTrip.GetPNRWithTranID})});EP.Layout.BindWithModule("Booking","CompleteBooking",function(){EP.EventManager.bind("CompleteBooking",{Run:EP.Booking.CompleteBooking})});EP.Layout.BindWithModule("Booking","ContinueCompleteBooking",function(){EP.EventManager.bind("ContinueCompleteBooking",{Run:EP.Booking.ContinueCompleteBooking})});EP.Layout.BindWithModule("Register","RegisterProcess",function(){EP.EventManager.bind("RegisterProcess",{Run:EP.LoginStatus.RegisterEvent})});EP.Layout.BindWithModule("Summary","HistoricalView",function(){EP.EventManager.bind("HistoricalView",{Run:function(){EP.Summary.HistoricalView=true;EP.Summary.Init()}})});EP.Layout.BindWithModule("Summary","ShowHotelSummary",function(){EP.EventManager.bind("ShowHotelSummary",{Run:function(Parameters){EP.BaseFunctions.AppendTemplate({TemplateName:"SummaryHotel",Data:Parameters.Data,Target:Parameters.Target})}})});EP.Layout.BindWithModule("LessEditor","OpenLessEditor",function(){EP.EventManager.bind("OpenLessEditor",{Run:function(){EP.EventManager.trigger("Init_LessEditor",{})}})});EP.Layout.BindWithModule("ThemeWizard","OpenThemeWizard",function(){EP.EventManager.bind("OpenThemeWizard",{Run:function(){EP.EventManager.trigger("Init_ThemeWizard",{})}})})},GetModuleScriptFile:function(p_BindOptions){var MustLoadFile=EP.Layout.GetModuleScriptFileName(p_BindOptions.ModuleObj);if(MustLoadFile){EP.Layout.LoadScriptFiles(MustLoadFile,function(){p_BindOptions.BindFunc(p_BindOptions.ModuleObj)})}else{p_BindOptions.BindFunc(p_BindOptions.ModuleObj)}},GetModuleScriptFileName:function(p_ModuleObj){if(!UseCompiledMode){return false}var p_Module=p_ModuleObj.ModuleName.split("_")[0];var MustLoadFile=false;var ModuleMap=EP.Layout.ModuleMap;if(ModuleMap[p_Module]){for(var i=0;i<EP.Layout.SiteScriptList.length;i++){if(EP.Layout.SiteScriptList[i].Level==ModuleMap[p_Module].Level){if(EP.Layout.SiteScriptList[i].GroupList.indexOf(ModuleMap[p_Module].GroupName)>-1){MustLoadFile=EP.Layout.SiteScriptList[i].FileName}else{return false}}}}if(EP.StateManager("LoadedFiles")&&EP.StateManager("LoadedFiles").indexOf(MustLoadFile)>-1){return false}return MustLoadFile},LoadScriptFiles:function(p_FileName,p_SFunc){if(EP.StateManager("LoadedFiles").indexOf(p_FileName)>-1){if(p_SFunc){p_SFunc()}return}var oFileName=p_FileName;var SFunc=function(){EP.Layout.AddCustomTemplates();if(p_SFunc){p_SFunc()}EP.EventManager.CheckNotFoundTriggerList()};if(!EP.StateManager("LoadingFiles")){EP.StateManager("LoadingFiles",[],true)}if(EP.StateManager("LoadingFiles").indexOf(oFileName)>-1){EP.EventManager.bind("AfterLoad_"+oFileName,{Run:SFunc,ForceAdd:true});return}EP.StateManager("LoadingFiles").push(p_FileName);setTimeout(function(){if(EP.StateManager("LoadingFiles")&&EP.StateManager("LoadingFiles").indexOf(oFileName)>-1){EP.StateManager("LoadingFiles").splice(EP.StateManager("LoadingFiles").indexOf(oFileName),1)}},10000);var JSURL="";if(location.host.toLowerCase().indexOf("uat2")>-1||location.host.toLowerCase().indexOf("localhost")>-1||UseSelfScriptFolder){JSURL="CompileScripts/"+p_FileName;if(EP.StateManager("GeneralInformation").IsB2B2C){JSURL="../CompileScripts/"+p_FileName}}else{JSURL=location.protocol+"//"+location.host+"/JSContent/"+p_FileName}EP.Layout.GetScriptEx(JSURL,function(e){EP.StateManager("LoadedFiles").push(oFileName);if(EP.StateManager("LoadingFiles").indexOf(oFileName)!=-1){EP.StateManager("LoadingFiles").splice(EP.StateManager("LoadingFiles").indexOf(oFileName),1)}EP.Layout.AddLoadedModules(oFileName);SFunc();EP.EventManager.trigger("AfterLoad_"+oFileName,{});EP.EventManager.remove("AfterLoad_"+oFileName)},true)},StartPageLocalizationCollectOnServer:function(p_FileName,p_SFunc){if(!EP.Layout.isHostAdmin()||EP.Layout.CurrentPage=="Summary"){return}EP.DataManager.GetData({Method:GeneralService+"/StartPageLocalizationCollect",Type:"GET",async:false})},GetScriptEx:function(p_Url,p_SFunc,p_Cache){if(!p_Cache){p_Cache=false}$.ajax({type:"GET",url:p_Url,success:p_SFunc,dataType:"script",cache:p_Cache})},GetHostAdminFiles:function(p_SFunc){if(UseCompiledMode){EP.Layout.LoadScriptFiles("HostAdmin_HostAdmin.js",p_SFunc)}else{if(p_SFunc){p_SFunc()}}},PrepareGeneralInformations:function(){var basketItemCount=EP.StateManager("GeneralInformation").BasketItemCount;$("#basketItemCount").html(basketItemCount);EP.EventManager.trigger("BasketCountChange",{Count:basketItemCount});PrepareGlobalization(EP.Localization.Culture)},PrepareServerValuesHTML:function(){if($("body #ServerValues").length==0){$("<div/>",{id:"ServerValues"}).appendTo("body")}$("body #ServerValues").html(EP.Layout.ServerValuesHTML())},ServerValuesHTML:function(ServerName,PortalCode,SessionID,TranHistID,UserIP,Time){var sb=new StringBuilder();sb.append("<!-- Troubleshooting Helpers Begin--");sb.append("----");sb.append("Server Name : "+EP.StateManager("GeneralInformation").ServerName);sb.append("----");sb.append("Portal Code : "+EP.StateManager("GeneralInformation").PortalCode);sb.append("----");sb.append("Session Id : "+EP.StateManager("GeneralInformation").SessionID);sb.append("----");sb.append("Transaction History Id : "+EP.StateManager("GeneralInformation").TransactionHistoryID);sb.append("----");sb.append("User IP : "+EP.StateManager("GeneralInformation").UserIP);sb.append("----");sb.append("Time stamp : "+EP.StateManager("GeneralInformation").TimeStamp);sb.append("----");sb.append("-- Troubleshooting Helpers End-->");return sb.toString()},initWidget:function(opt){if(EP.Layout.settings.Mode=="View"){return'<div id="Obj_'+opt.ModuleName+'" class="'+opt.ModuleName.split("_")[0]+' ewidget widget"></div>'}else{opt.Content="<div class='"+opt.ModuleName+"'></div>";return'<div id="Obj_'+opt.ModuleName+'" class="new ewidget widget"><div class="widget-head color-blue" style="height:30px;min-width: 200px;"><h3>'+opt.ModuleName.split("_")[0]+'</h3></div><div class="widget-content">'+opt.Content+"</div></div>"}},addWidget:function(where,opt,forInit){id=opt.ModuleName.replace("Obj_","");id=id.split("_")[0];if(EP.Layout.settings.widgetIndividual[id]){if(!EP.Layout.settings.widgetIndividual[id+"Count"]){EP.Layout.settings.widgetIndividual[id+"Count"]=1}else{EP.Layout.settings.widgetIndividual[id+"Count"]++}var OldModuleName=opt.ModuleName.split("_")[0];opt.ModuleName=OldModuleName+"_"+EP.Layout.settings.widgetIndividual[id+"Count"]}$("div").removeClass("new");var selectorOld=EP.Layout.settings.widgetSelector;EP.Layout.settings.widgetSelector=".new";EP.Layout.settings.widgetIndividual[opt.ModuleName]=opt;where=$(where);if(where.length==0){where=$($(".DropZone")[1])}where.append(EP.Layout.initWidget(opt));EP.Layout.settings.widgetSelector=selectorOld;if(!forInit){EP.Layout.addWidgetControls();EP.Layout.makeSortable();EP.Layout.savePreferences()}},removeWidget:function(id){id=id.replace("Obj_","");if(!EP.Layout.settings.widgetIndividual[id+"Count"]){EP.Layout.settings.widgetIndividual[id+"Count"]--}},getWidgetSettings:function(id){var returnObj=EP.Layout.settings.widgetDefault;id=id.replace("Obj_","");if(id&&EP.Layout.settings.widgetIndividual[id]){returnObj=$.extend({},EP.Layout.settings.widgetDefault,EP.Layout.settings.widgetIndividual[id])}return returnObj},isMandatoryOnPage:function(id){id=id.replace("Obj_","");if(EP.Layout.AllModulesList[id]&&EP.Layout.AllModulesList[id].MandatoryPages&&($.inArray(EP.Layout.CurrentPage,EP.Layout.AllModulesList[id].MandatoryPages)!=-1)){if(!EP.BaseFunctions.IsUndefined(EP.Layout.AllModulesList[id].RelatedRule)){if(EP.BaseFunctions.isArray(EP.Layout.AllModulesList[id].RelatedRule)){for(var i=0;i<EP.Layout.AllModulesList[id].RelatedRule.length;i++){if(EP.Layout.AllModulesList[id].RelatedRule[i].RuleValue.indexOf(EP.DataManager.GetRuleValue(EP.Layout.AllModulesList[id].RelatedRule[i].RuleName))>-1){return true}}}else{if(EP.Layout.AllModulesList[id].RelatedRule.RuleValue.indexOf(EP.DataManager.GetRuleValue(EP.Layout.AllModulesList[id].RelatedRule.RuleName))>-1){return true}}}else{return true}}return false},getParametersForm:function(id){var realModuleID=id.split("_").length>1?id.split("_")[1]:id;id=id.replace("Obj_","");if(EP.Layout.AllModules[realModuleID]&&EP.Layout.AllModules[realModuleID].Class&&EP.Layout.AllModules[realModuleID].Class.ExternalModuleParameters){var strParameters="",tmpModule;for(var i=0;i<EP.Layout.CurrentLayout.Modules.length;i++){if(EP.Layout.CurrentLayout.Modules[i].ModuleName==id){tmpModule=EP.Layout.CurrentLayout.Modules[i]}}for(var Parameter in EP.Layout.AllModules[realModuleID].Class.ExternalModuleParameters){objParam=EP.Layout.AllModules[realModuleID].Class.ExternalModuleParameters[Parameter];if(objParam.ItemsDataSourceCode){var items=EP.DataManager.GetCategoryDetails(EP.StateManager("CommonDataSources"),objParam.ItemsDataSourceCode);var items2=$.map(items,function(value,propName){return{Text:value,Value:propName}});objParam.Items=items2}if(objParam.Page&&objParam.Page!=EP.Layout.CurrentPage&&(!$.isArray(objParam.Page)||objParam.Page.indexOf(EP.Layout.CurrentPage)==-1)){continue}strParameters+='<li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell control-text">'+objParam.Text+'</div><div class="tdcell">';if(objParam.ControlType=="CheckBox"){var selectedValue=objParam.Value;if(tmpModule&&tmpModule.ModuleOptions&&!EP.BaseFunctions.IsUndefined(tmpModule.ModuleOptions[Parameter])){selectedValue=tmpModule.ModuleOptions[Parameter]}strParameters+='<input type="checkbox" id="'+Parameter+'" '+(selectedValue==true?'checked="checked"':"")+" />"}else{if(objParam.ControlType=="ComboBox"){strParameters+="<select id='"+Parameter+"' style='width:133px'>";if(objParam.Items){if(objParam.Items.length==0||objParam.Items[0].Value!=""){strParameters+="<option value=''>Select</option>"}var selectedValue="";if(tmpModule&&tmpModule.ModuleOptions){selectedValue=tmpModule.ModuleOptions[Parameter];if(EP.BaseFunctions.IsUndefined(tmpModule.ModuleOptions[Parameter])){selectedValue=objParam.Value}}for(var i=0;i<objParam.Items.length;i++){strParameters+="<option value='"+objParam.Items[i].Value+"' "+(tmpModule&&(selectedValue==objParam.Items[i].Value)?"selected='selected'":"")+">"+objParam.Items[i].Text+"</option>"}}strParameters+="</select>"}else{if(objParam.ControlType=="SelectList"){strParameters+="<select id='"+Parameter+"' style='width:133px' "+(objParam.Multiple?"multiple='multiple'":"")+">";if(objParam.Items){for(var i=0;i<objParam.Items.length;i++){var isSelected=tmpModule&&($.inArray(objParam.Items[i].Value,tmpModule.ModuleOptions[Parameter])!=-1||$.inArray(objParam.Items[i].Value,objParam.Value)!=-1);strParameters+="<option value='"+objParam.Items[i].Value+"' "+(isSelected?"selected='selected'":"")+">"+objParam.Items[i].Text+"</option>"}}strParameters+="</select>"}else{if(objParam.ControlType=="SelectListOrdered"){strParameters+="<span onclick='EP.Layout.moveSelectListOrderedItem(1,this)'>up</span> |  <span onclick='EP.Layout.moveSelectListOrderedItem(2,this)'>down</span> ";strParameters+="<select id='"+Parameter+"' style='width:133px' "+(objParam.Multiple?"multiple='multiple'":"")+">";if(objParam.Items){var orderedItems=[];var unfoundItems=[];for(var j=0;j<objParam.Items.length;j++){var orderIndex=-1;if(tmpModule&&tmpModule.ModuleOptions[Parameter]){for(var i=0;i<tmpModule.ModuleOptions[Parameter].length;i++){if(objParam.Items[j].Value==tmpModule.ModuleOptions[Parameter][i]){orderIndex=i;break}}}if(orderIndex!=-1){orderedItems.splice(orderIndex,0,objParam.Items[j])}else{unfoundItems.push(objParam.Items[j])}}objParam.Items=orderedItems.concat(unfoundItems);for(var i=0;i<objParam.Items.length;i++){var isSelected=tmpModule&&($.inArray(objParam.Items[i].Value,tmpModule.ModuleOptions[Parameter])!=-1||$.inArray(objParam.Items[i].Value,objParam.Value)!=-1);strParameters+="<option value='"+objParam.Items[i].Value+"' "+(isSelected?"selected='selected'":"")+">"+objParam.Items[i].Text+"</option>"}}strParameters+="</select>"}else{if(objParam.ControlType=="CustomParameters"){strParameters+=EP.Layout.initCustomParameters(Parameter,tmpModule&&tmpModule.ModuleOptions[Parameter])}else{if(objParam.ControlType=="Number"){strParameters+='<input id="'+Parameter+'" value="'+(tmpModule&&tmpModule.ModuleOptions[Parameter]?tmpModule.ModuleOptions[Parameter]:objParam.Value)+'" onkeypress="return event.charCode >= 48 && event.charCode <= 57"/>'}else{strParameters+='<input id="'+Parameter+'" value="'+(tmpModule&&tmpModule.ModuleOptions[Parameter]?tmpModule.ModuleOptions[Parameter]:objParam.Value)+'"/>'}}}}}}strParameters+="</div></div></li>"}return strParameters}return""},moveSelectListOrderedItem:function(direction,el){var selectedElements=$(el).siblings("select").find("option:selected");if(selectedElements.length>0){if(direction==1){var prevEl=selectedElements.first().prev();selectedElements.last().after(prevEl.clone());prevEl.remove()}else{var nextEl=selectedElements.last().next();selectedElements.first().before(nextEl.clone());nextEl.remove()}}},initCustomParameters:function(Parameter,customParams){var html='<div id="'+Parameter+'" style="width:133px"><span onclick="EP.Layout.addCustomParameterControl(\''+Parameter+"', { Id: -1, Key:'', Value:'' })\" class=\"ui-button\">new</span> | <span onclick=\"EP.Layout.saveCustomParameterValues(this, '"+Parameter+'\')" class="ui-button">save</span></div>';for(var i=0;i<(customParams||[]).length;i++){html+=EP.Layout.prepareCustomParameterControl(Parameter,customParams[i])}return html},addCustomParameterControl:function(Parameter,customParam){var html=EP.Layout.prepareCustomParameterControl(Parameter,{Id:-1,Key:"",Value:""});$("#"+Parameter).append(html)},prepareCustomParameterControl:function(Parameter,customParam){var input='<input id="'+Parameter+"_key_"+customParam.Id+'" value="'+customParam.Key+'" style="width:50px"/> : <input id="'+Parameter+"_value_"+customParam.Id+'" value="'+customParam.Value+'" style="width:50px"/>';var removeBtn=' <span onclick="EP.Layout.removeCustomParameterControl(this)" class="ui-button">x</span>';var container='<div class="customParamRow">'+input+removeBtn+"</div>";return container},removeCustomParameterControl:function(btn){$(btn).parent().remove()},saveCustomParameterValues:function(btn,moduleParameterName){var moduleName=$(btn).parents(EP.Layout.settings.widgetSelector).attr("id");var Widgetsettings=EP.Layout.getWidgetSettings(moduleName);var customParams=[];$(btn).siblings("div.customParamRow").each(function(i){var key=$(this).find("input[id^='"+moduleParameterName+"_key']").val().trim();var value=$(this).find("input[id^='"+moduleParameterName+"_value']").val().trim();if(key.length>0&&value.length>0){customParams.push({Key:key,Value:value})}});Widgetsettings.ModuleOptions[moduleParameterName]=customParams;EP.Layout.savePreferences()},getTemplateNameRow:function(Widgetsettings,id){var realModuleID=id.split("_").length>1?id.split("_")[1]:id;if(";Flight;Hotel;Car;Train;".indexOf(";"+realModuleID+";")==-1){return""}return'<li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell control-text"><label>Template Name</label></div><div class="tdcell"><input id="TemplateName" value="'+(Widgetsettings.ModuleOptions&&Widgetsettings.ModuleOptions.TemplateName?Widgetsettings.ModuleOptions.TemplateName:"")+'"/></div></div></li>'},getCollapseExpandSettings:function(widgetSettings,widgetID){var moduleCode=widgetSettings.ModuleName.split("_")[0];if(EP.Layout.AllModules[moduleCode]&&!EP.BaseFunctions.IsUndefined(EP.Layout.AllModules[moduleCode].DisableCollapsibilityFeature)&&EP.Layout.AllModules[moduleCode].DisableCollapsibilityFeature===true){return}var collapseExpandActivationCheckBox='<input type="checkbox" id="EnableTheCollapsibility" '+((widgetSettings.ModuleOptions&&widgetSettings.ModuleOptions.EnableTheCollapsibility)?'checked="checked"':"")+"/>";var collapseExpandDefaultValue='<select id="DetailsPanel"><option value="Expanded">Expanded</option><option value="Collapsed"'+((widgetSettings.ModuleOptions&&widgetSettings.ModuleOptions.DetailsPanel&&widgetSettings.ModuleOptions.DetailsPanel=="Collapsed")?"selected='selected'":"")+">Collapsed</option></select>";var currentWidgetIndividualSettings=EP.Layout.settings.widgetIndividual[widgetID.replace("Obj_","")];return'<li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell control-text"><label>Activate Collapsibility Feature</label></div><div class="tdcell">'+collapseExpandActivationCheckBox+'</div></div></li><li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell control-text"><label>Default Panel State</label></div><div class="tdcell">'+collapseExpandDefaultValue+"</div></div></li>"},addWidgetControls:function(){$(EP.Layout.settings.widgetSelector,$(EP.Layout.settings.columns)).each(function(){if(!this.id){return}var Widgetsettings=EP.Layout.getWidgetSettings(this.id);var closehtml='<a href="javascript:void(0)" class="remove"></a>';var edithtml='<a href="javascript:void(0)" class="edit"></a>';if($(EP.Layout.settings.handleSelector+" .edit",this).length>0){return}var module=EP.Layout.AllModules[Widgetsettings.ModuleName]?EP.Layout.AllModules[Widgetsettings.ModuleName]:EP.Layout.AllModules[Widgetsettings.ModuleName.split("_")[0]];if(EP.Layout.settings.Mode=="View"&&!EP.BaseFunctions.IsUndefined(Widgetsettings.tmpObject)&&Widgetsettings.tmpObject.ContainerClass&&!module.DisableCollapsibilityFeature){EP.BaseFunctions.SetWrapper(Widgetsettings)}if(Widgetsettings.Removable&&!EP.Layout.isMandatoryOnPage(this.id)){$(closehtml).mousedown(function(e){e.stopPropagation()}).click(function(){if(confirm("This widget will be removed, ok?")){$(this).parents(EP.Layout.settings.widgetSelector).animate({opacity:0},function(){$(this).wrap("<div/>").parent().slideUp(function(){EP.Layout.removeWidget($(this).children(":first-child").attr("id"));$(this).remove();EP.Layout.savePreferences()})})}return false}).appendTo($(EP.Layout.settings.handleSelector,this))}if(Widgetsettings.editable&&EP.Layout.settings.Mode=="Edit"){$(edithtml).mousedown(function(e){e.stopPropagation();$("select:not([multiple])",$(this).parents(EP.Layout.settings.widgetSelector)).combobox()}).toggle(function(){$(this).css({backgroundPosition:"-66px 0",width:"55px"}).parents(EP.Layout.settings.widgetSelector).find(".edit-box").show().find("input").focus();return false},function(){$(this).css({backgroundPosition:"",width:"24px"}).parents(EP.Layout.settings.widgetSelector).find(".edit-box").hide();return false}).appendTo($(EP.Layout.settings.handleSelector,this));var SaveToDB=function(){var Widgetsettings=EP.Layout.getWidgetSettings($(this).parents(EP.Layout.settings.widgetSelector).attr("id"));if($(this).is("input:checkbox")){Widgetsettings.ModuleOptions[$(this).attr("id")]=$(this).is(":checked")}else{Widgetsettings.ModuleOptions[$(this).attr("id")]=$(this).val()}EP.Layout.savePreferences()};var WidgetObj=this;var BindContainerCombo=function(p_Data){var TemplateNameForContainerCombo="<select id='TemplateNameForContainer' style='width:133px'>";var ContainerName="";for(var i=0;i<p_Data.length;i++){ContainerName=p_Data[i].Name.replace(".tmp.htm","");TemplateNameForContainerCombo+="<option value='"+ContainerName+"' "+((Widgetsettings.tmpObject&&Widgetsettings.tmpObject.TemplateNameForContainer&&Widgetsettings.tmpObject.TemplateNameForContainer==ContainerName)?"selected='selected'":"")+">"+ContainerName+"</option>"}TemplateNameForContainerCombo+="</select>";var SplashScreensCombo="<select id='LoadingContentFileName' style='width:133px'>";var FileName="";SplashScreensCombo+="<option value=''>None</option>";for(var filename in EP.Layout.Layouts){if(filename.indexOf("layout/SplashScreens/")==0){FileName=filename.replace("layout/SplashScreens/","").replace(".htm","");SplashScreensCombo+="<option value='"+FileName+"' "+((Widgetsettings.ModuleOptions&&Widgetsettings.ModuleOptions.LoadingContentFileName&&Widgetsettings.ModuleOptions.LoadingContentFileName==FileName)?"selected='selected'":"")+">"+FileName+"</option>"}}SplashScreensCombo+="</select>";$('<div class="edit-box" style="display:none;"/>').append("<ul>").append(EP.Layout.getTemplateNameRow(Widgetsettings,WidgetObj.id)).append('<li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell  control-text"><label>Container Template Name</label></div><div class="tdcell">'+TemplateNameForContainerCombo+"</div></div></li>").append('<li class="item"><div class="tablecontainer"><div class="trrow"><div class="tdcell  control-text"><label>Loading Content File Name</label></div><div class="tdcell">'+SplashScreensCombo+"</div></div></li>").append(EP.Layout.getCollapseExpandSettings(Widgetsettings,WidgetObj.id)).append(EP.Layout.getParametersForm(WidgetObj.id)).append("</ul>").insertAfter($(EP.Layout.settings.handleSelector,WidgetObj));$(".edit-box",WidgetObj).each(function(){$("input",this).change(SaveToDB);$("select",this).change(SaveToDB)})};Path="Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/Containers";EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFiles/"+Path,Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:BindContainerCombo,Success:BindContainerCombo,KeepForClient:true})}})},makeSortable:function(){if(EP.Layout.settings.Mode!="Edit"){return}$sortableItems=(function(){var notSortable="";$(EP.Layout.settings.widgetSelector,$(EP.Layout.settings.columns)).each(function(i){if(!EP.Layout.getWidgetSettings(this.id).movable){if(!this.id){this.id="widget-no-id-"+i}notSortable+="#"+this.id+","}});if(notSortable==""){return $("> div",EP.Layout.settings.columns)}else{return $("> div:not("+notSortable+")",EP.Layout.settings.columns)}})();$sortableItems.find(EP.Layout.settings.handleSelector).css({cursor:"move"}).mousedown(function(e){}).mouseup(function(){if(!$(this).parent().hasClass("dragging")){}else{$(EP.Layout.settings.columns).sortable("disable")}});$(EP.Layout.settings.columns).sortable("destroy");$(EP.Layout.settings.columns).sortable({items:$sortableItems,connectWith:$(EP.Layout.settings.columns),handle:EP.Layout.settings.handleSelector,placeholder:"widget-placeholder",forcePlaceholderSize:true,revert:300,delay:100,opacity:0.8,containment:"document",start:function(e,ui){$(ui.helper).addClass("dragging")},stop:function(e,ui){$(ui.item).css({width:""}).removeClass("dragging");$(EP.Layout.settings.columns).sortable("enable");EP.Layout.savePreferences()},tolerance:"pointer"})},savePreferences:function(){var ModuleDetailsString="",LayoutObject=new Object(),StaticLayoutObject=new Object(),objModule=null;LayoutObject.PageOptions=new Object();LayoutObject.PageOptions.ContentLayout=$("#HostAdminEditPanel #cmbPageTemplate").val();LayoutObject.PageOptions.Shell=$("#HostAdminEditPanel #cmbPageOuterLayout").val();LayoutObject.PageOptions.PageTheme=$("#HostAdminEditPanel #cmbPageTheme").val();LayoutObject.PageOptions.Title=$("#HostAdminEditPanel #txtPageTitle").val();LayoutObject.Modules=new Array();StaticLayoutObject.Modules=new Array();var targetDiv=null;$(EP.Layout.settings.columns).each(function(i){targetDiv=$(this).attr("id");$(EP.Layout.settings.widgetSelector,this).each(function(i){if(typeof $(this).attr("id")!="undefined"){var WidgetSettings=EP.Layout.getWidgetSettings($(this).attr("id"));objModule=new Object();objModule.ModuleName=$(this).attr("id").split("_")[1];objModule.Target=targetDiv;objModule.ModuleOptions=WidgetSettings.ModuleOptions;if(!objModule.ModuleOptions){objModule.ModuleOptions=new Object();objModule.ModuleOptions.ModuleID=EP.BaseFunctions.CreateGuid()}if(objModule.ModuleOptions.IsStaticModule){StaticLayoutObject.Modules.push(objModule)}else{LayoutObject.Modules.push(objModule)}}})});var LayoutString=JSON.stringify(LayoutObject);var StaticLayoutString=JSON.stringify(StaticLayoutObject);EP.Layout.FindAndApplyPageLayout({JSONData:LayoutString,MasterJSONData:StaticLayoutString});LayoutString=LayoutString.replace(/"/g,"'");LayoutString='{"PageName":"'+EP.Layout.CurrentPage+'","PageLayout":"'+LayoutString+'"}';EP.DataManager.GetData({Method:GeneralService+"/SaveLayout",Data:'{"p_RQ":'+LayoutString+"}",Type:"POST",Success:function(p_Data){}});StaticLayoutString=StaticLayoutString.replace(/"/g,"'");StaticLayoutString='{"PageName":"Master_'+LayoutObject.PageOptions.ContentLayout+'","PageLayout":"'+StaticLayoutString+'"}';EP.DataManager.GetData({Method:GeneralService+"/SaveLayout",Data:'{"p_RQ":'+StaticLayoutString+"}",Type:"POST",Success:function(p_Data){}});if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights!="0"){EP.Layout.GetHostAdminFiles(EP.Layout.prepareByHostAdminMode)}},savePreferencesForSiteVersion:function(){var SiteSettings=new Object();EP.StateManager("GeneralInformation").ChangeSetName=SiteSettings.ChangeSetName=$("#HostAdminEditPanel #cmbThemeVersion").val().split(";")[0];EP.StateManager("GeneralInformation").ChangeSetID=SiteSettings.ChangeSetId=$("#HostAdminEditPanel #cmbThemeVersion").val().split(";")[1];EP.StateManager("GeneralInformation").SiteThemeSettings=SiteSettings;var SiteSettingsString=JSON.stringify(SiteSettings);EP.DataManager.GetData({Method:GeneralService+"/SetPortalSettings",Data:'{"p_RQ":'+SiteSettingsString+"}",Type:"POST",Success:function(p_Data){EP.Layout.initPage()}})},savePreferencesForSiteSettings:function(p_Settings){EP.Layout.SetSiteSettings(p_Settings);var SiteSettingsFileString=JSON.stringify(EP.Layout.SiteSettings);SiteSettingsFileString=SiteSettingsFileString.replace(/"/g,"'");var LayoutString='{"PageName":"SiteSettings","PageLayout":"'+SiteSettingsFileString+'"}';EP.DataManager.GetData({Method:GeneralService+"/SaveLayout",Data:'{"p_RQ":'+LayoutString+"}",Type:"POST",Success:function(p_Data){EP.Layout.initPage()}})},FillSiteSettings:function(){var fSiteSettings=EP.Layout.FindOnAllPage("SiteSettings",EP.Localization.Culture);if(EP.BaseFunctions.IsUndefined(fSiteSettings)){fSiteSettings={}}if(!fSiteSettings.JSONObject){fSiteSettings.JSONObject=EP.Layout.ConvertLayoutDataToObject(fSiteSettings.JSONData)}EP.Layout.SiteSettings=fSiteSettings.JSONObject;return fSiteSettings.JSONObject},SetSiteSettings:function(p_Settings){var fSiteSettings=EP.Layout.FindOnAllPage("SiteSettings",EP.Localization.Culture);if(EP.BaseFunctions.IsUndefined(fSiteSettings)){fSiteSettings={}}if(!fSiteSettings.JSONObject){fSiteSettings.JSONObject=EP.Layout.ConvertLayoutDataToObject(fSiteSettings.JSONData)}$.extend(fSiteSettings.JSONObject,p_Settings);EP.Layout.SiteSettings=fSiteSettings.JSONObject},initPage:function(p_PageChanged){var ForceFill=false;if(EP.Layout.CurrentPage=="Basket"){ForceFill=true}EP.Layout.FillSiteSettings();EP.BaseFunctions.FillGeneralInformation(function(){EP.Layout.settings.widgetIndividual={};if(!p_PageChanged&&EP.Layout.CurrentLayout){EP.Layout.processsSavedData()}else{EP.Layout.FindAndApplyPageLayout()}},ForceFill)},GetPageData:function(p_SFunc){EP.DataManager.GetData({Method:InitializeService+"/GetLayout",Type:"GET",DontHideLoading:true,Success:function(p_Pages){EP.Layout.AllPages=new Object();for(var i=0;i<p_Pages.LayoutItems.length;i++){tmpPage=p_Pages.LayoutItems[i];EP.Layout.AllPages[tmpPage.PageName+tmpPage.CultureCode]={LayoutID:tmpPage.LayoutID,JSONData:tmpPage.Result}}EP.Layout.Layouts={};for(var TemplateItem in p_Pages.TemplateItems){EP.Layout.Layouts[TemplateItem]={};EP.Layout.Layouts[TemplateItem].htmlContent=p_Pages.TemplateItems[TemplateItem]}if(p_SFunc){p_SFunc()}}})},FindOnAllPage:function(p_Page,p_Culture){var FoundedPageLayout=null;if(EP.Layout.AllPages[p_Page+p_Culture]){FoundedPageLayout=EP.Layout.AllPages[p_Page+p_Culture]}else{if(EP.Layout.AllPages[p_Page]){FoundedPageLayout=EP.Layout.AllPages[p_Page]}else{for(var PageName in EP.Layout.AllPages){if(PageName.indexOf(p_Page)==0&&PageName.length-5==p_Page.length){FoundedPageLayout=EP.Layout.AllPages[PageName];break}}}}return FoundedPageLayout},FindAndApplyPageLayout:function(p_SetNewLayout){var FoundedMasterLayout=null;var Template="Page";var FoundedPageLayout=EP.Layout.FindOnAllPage(EP.Layout.CurrentPage,EP.Localization.Culture);if(EP.BaseFunctions.IsUndefined(FoundedPageLayout)){var DefaultTheme=EP.Layout.SiteSettings.DefaultTheme;if(DefaultTheme=="Default"){DefaultTheme=""}if(!EP.Layout.isHostAdmin()){var message="The page you are looking for could not be found, click to redirect Home Page";try{message=EP.Localization.Get(message)}catch(e){}EP.BaseFunctions.ShowDialog({text:message,okFunc:function(){EP.EventManager.removeState("Method");EP.EventManager.pushState({Name:"Page",Value:"Home",ForURL:true})},});return}FoundedPageLayout=EP.Layout.AllPages[EP.Layout.CurrentPage]={JSONData:"{'PageOptions':{'ContentLayout':'Page','Shell':'Full','PageTheme':'"+DefaultTheme+"'}, 'Modules': [] }"}}EP.Layout.CurrentLayoutID=FoundedPageLayout.LayoutID;if(p_SetNewLayout){FoundedPageLayout.JSONData=p_SetNewLayout.JSONData;delete FoundedPageLayout.JSONObject}if(!FoundedPageLayout.JSONObject){FoundedPageLayout.JSONObject=EP.Layout.ConvertLayoutDataToObject(FoundedPageLayout.JSONData)}EP.Layout.CurrentLayout=FoundedPageLayout.JSONObject;if(FoundedPageLayout){Template=FoundedPageLayout.JSONObject.PageOptions.ContentLayout}var FoundedMasterLayout=EP.Layout.FindOnAllPage("Master_"+Template,EP.Localization.Culture);if(!EP.BaseFunctions.IsUndefined(FoundedMasterLayout)){EP.Layout.CurrentStaticLayoutID=FoundedMasterLayout.LayoutID}if(p_SetNewLayout){if(!FoundedMasterLayout){FoundedMasterLayout=new Object()}FoundedMasterLayout.JSONData=p_SetNewLayout.MasterJSONData;delete FoundedMasterLayout.JSONObject}if(FoundedMasterLayout){if(!FoundedMasterLayout.JSONObject){FoundedMasterLayout.JSONObject=EP.Layout.ConvertLayoutDataToObject(FoundedMasterLayout.JSONData)}EP.Layout.CurrentLayout.StaticLayout=FoundedMasterLayout.JSONObject}if(!p_SetNewLayout){EP.Layout.processsSavedData()}},ConvertLayoutDataToObject:function(p_LayoutData){if(!p_LayoutData){$(EP.Layout.settings.columns).css({visibility:"visible"});EP.Layout.addWidgetControls();EP.Layout.makeSortable();return}var LayoutObject=eval("("+p_LayoutData+")");return LayoutObject},processsSavedData:function(){var OldTheme=EP.Layout.CurrentTheme;if(EP.BaseFunctions.IsUndefined(EP.Layout.CurrentTheme)){OldTheme=EP.Layout.CurrentTheme=EP.Layout.SiteSettings.DefaultTheme}if(!EP.Layout.CurrentLayout.PageOptions.PageTheme){EP.Layout.CurrentTheme=EP.Layout.SiteSettings.DefaultTheme}else{EP.Layout.CurrentTheme=EP.Layout.CurrentLayout.PageOptions.PageTheme}if(OldTheme!=EP.Layout.CurrentTheme){EP.DataManager.GetData({Method:InitializeService+"/ChangeTheme",Data:'{"Theme": "'+EP.Layout.CurrentTheme+'"}',Type:"POST",Success:EP.Layout.prepareBodyContent})}else{EP.Layout.prepareBodyContent()}},prepareBodyContent:function(){EP.Layout.CheckArabicLanguage();if(!EP.Layout.CurrentLayout.PageOptions.Shell){EP.Layout.CurrentLayout.PageOptions.Shell="Full"}if(EP.Layout.CurrentLayout.PageOptions.Title&&EP.Layout.CurrentLayout.PageOptions.Title.length>0){$(document).attr("title",EP.Layout.CurrentLayout.PageOptions.Title)}else{$(document).attr("title",EP.Layout.SiteSettings.Title)}if(UseCompiledMode&&!UseSelfScriptFolder){EP.Layout.AddCssFile("AllCss",EP.StateManager("GeneralInformation").BuildNumber)}EP.Layout.AddCssFile("Index",EP.StateManager("GeneralInformation").ApplicationID);if(EP.Layout.AllPages["LessVariables"+EP.Layout.CurrentTheme+EP.Localization.Culture]||EP.Layout.AllPages["LessVariables"+EP.Layout.CurrentTheme]){EP.Layout.LessVariables=EP.Layout.AllPages["LessVariables"+EP.Layout.CurrentTheme+EP.Localization.Culture]?EP.Layout.AllPages["LessVariables"+EP.Layout.CurrentTheme+EP.Localization.Culture]:EP.Layout.AllPages["LessVariables"+EP.Layout.CurrentTheme];if(!EP.Layout.LessVariables.LessObject){EP.Layout.LessVariables.LessObject=eval("("+EP.Layout.LessVariables.JSONData+")")}less.modifyVars(EP.Layout.LessVariables.LessObject)}else{if(EP.LessEditor){EP.LessEditor.ClearLess()}}var haveAffCode=false;if(EP.StateManager("GeneralInformation").HaveAffCode){haveAffCode=true;if($.browser.msie){$("#ShellPanel").remove()}else{$("#ShellPanel").detach()}if($("#ShellPanel").length==0){$("<div/>",{id:"ShellPanel"}).appendTo("body")}if($("#Main").length==0){$("<div/>",{id:"Main"}).appendTo("#ShellPanel")}}var oShell=EP.Layout.CurrentLayout.PageOptions.Shell;if(EP.StateManager("GeneralInformation").IsB2B2C){oShell="ForSubAgency"}if(EP.StateManager("GeneralInformation").IsFacebookPage){if(EP.Layout.Layouts["layout/Shell/Facebook/Facebook.tmp.htm"]){oShell="Facebook"}}if(!haveAffCode&&(EP.Layout.CurrentShell!=oShell||EP.EventManager.getState("Culture"))){if($.browser.msie){$("#ShellPanel").remove()}else{$("#ShellPanel").detach()}if($("#ShellPanel").length==0){$("<div/>",{id:"ShellPanel"}).appendTo("body")}EP.Layout.CurrentShell=oShell;EP.BaseFunctions.AppendTemplate({TemplateName:oShell,TemplateURL:"layout/Shell/"+oShell,Data:{},Target:"body #ShellPanel",SuccessF:function(){if($.browser.msie){$("#SplashScreens_default").remove()}else{$("#SplashScreens_default").detach()}if(EP.Layout.SiteSettings.SelectedLogoExtension){var LogoExt=EP.Layout.SiteSettings.SelectedLogoExtension;var LogoW=EP.Layout.SiteSettings.LogoWidth;var LogoH=EP.Layout.SiteSettings.LogoHeight;var LogoPos=EP.Layout.SiteSettings.LogoPosition;if(EP.Layout.SiteSettings.SelectedLogoExtension.toLowerCase()!="swf"){var strWidth=LogoW!=""?'width = "'+LogoW+'"':"";var strHeight=LogoH!=""?'height = "'+LogoH+'"':"";var strPos=LogoPos!=""?"text-align:"+LogoPos:"";$("body #ShellPanel #LogoPanel").attr("style",strPos).append('<a href="?Page=Home"><img border="0" '+strWidth+" "+strHeight+' src="Images/DefaultLogo.'+LogoExt+'" /></a>')}else{var flashProperties=new Object();if(LogoW!=""){flashProperties.width=LogoW}if(LogoH!=""){flashProperties.height=LogoH}flashProperties.src="Images/DefaultLogo."+LogoExt;var strPos=LogoPos!=""?"text-align:"+LogoPos:"";$("body #ShellPanel #LogoPanel").attr("style",strPos).flash(flashProperties)}}EP.Layout.prepareContentLayout()}})}else{if($.browser.msie){$("#SplashScreens_default").remove()}else{$("#SplashScreens_default").detach()}EP.Layout.prepareContentLayout()}},PortalHeaderLayoutID:"F33C35B5-42AD-4276-9495-B55510EDC4D6",PortalFooterLayoutID:"E047EF2F-0397-497E-BE4E-F247AC553185",SubAgencyHeaderLayoutID:"B5BEA883-15E2-4E24-8A9B-CDF022658431",SubAgencyFooterLayoutID:"8337786F-0396-4A56-AD58-DAFA15E20B60",FillSubAgencyHeaderFooterPanels:function(){var newObj=EP.BaseFunctions.Clone(EP.HtmlModule);newObj.ContainerClass="#StaticHeaderPanel";newObj.TemplateNameForContainer="BlankWithoutBorder";newObj.ModuleID=EP.Layout.SubAgencyHeaderLayoutID;newObj.AlternateUniqKey=EP.Layout.PortalHeaderLayoutID;newObj.LayoutID=null;EP.HtmlModule.Init(newObj);newObj=EP.BaseFunctions.Clone(EP.HtmlModule);newObj.ContainerClass="#StaticFooterPanel";newObj.TemplateNameForContainer="BlankWithoutBorder";newObj.ModuleID=EP.Layout.SubAgencyFooterLayoutID;newObj.AlternateUniqKey=EP.Layout.PortalFooterLayoutID;newObj.LayoutID=null;EP.HtmlModule.Init(newObj)},FillPortalHeaderFooterPanels:function(){var newObj=EP.BaseFunctions.Clone(EP.HtmlModule);newObj.ContainerClass="#StaticHeaderPanel";newObj.TemplateNameForContainer="BlankWithoutBorder";newObj.ModuleID=EP.Layout.PortalHeaderLayoutID;EP.HtmlModule.Init(newObj);newObj=EP.BaseFunctions.Clone(EP.HtmlModule);newObj.ContainerClass="#StaticFooterPanel";newObj.TemplateNameForContainer="BlankWithoutBorder";newObj.ModuleID=EP.Layout.PortalFooterLayoutID;EP.HtmlModule.Init(newObj)},prepareContentLayout:function(){$('<div id="Main" class="'+$("#Main").attr("class")+'"></div>').insertAfter("#Main");if($.browser.msie){$($("#Main")[0]).remove()}else{$($("#Main")[0]).detach()}$("<div/>",{id:"ContentLayoutPanel","class":EP.Layout.CurrentLayout.PageOptions.ContentLayout+" Page_"+EP.Layout.CurrentPage}).appendTo("body #Main");EP.Layout.preparehostAdminPane();if($("#StaticHeaderPanel").length>0||$("#StaticFooterPanel").length>0){if(EP.StateManager("GeneralInformation").IsB2B2C){EP.Layout.FillSubAgencyHeaderFooterPanels()}else{EP.Layout.FillPortalHeaderFooterPanels()}}if(EP.EventManager.hasBinder("ShellIsReady","Any")){AfterPageReady();EP.Layout.PageReady();EP.EventManager.trigger("ShellIsReady",{});return}if(!EP.Layout.CustomTemplatesAdded){EP.Layout.CustomTemplatesAdded=true;EP.Layout.AddCustomTemplates()}var LayoutName=EP.Layout.CurrentLayout.PageOptions.ContentLayout;if(!LayoutName){LayoutName="Page"}EP.BaseFunctions.AppendTemplate({TemplateName:LayoutName,TemplateURL:"layout/ContentLayout/"+LayoutName,Data:{},Target:"#ContentLayoutPanel",SuccessF:function(){EP.BaseFunctions.Empty(".DropZone");$(EP.Layout.settings.columns).css({visibility:"visible"});AfterPageReady();EP.Layout.FillPageModuleList();EP.EventManager.trigger("ModulesArePlaced",{});var boolReturnFlag=EP.Layout.TriggerModuleInits();if(boolReturnFlag){return}$(EP.Layout.settings.columns).css({visibility:"visible"});EP.Layout.addWidgetControls();EP.Layout.makeSortable();if(EP.Layout.isHostAdmin()){EP.Layout.GetHostAdminFiles(EP.Layout.prepareByHostAdminMode)}EP.Layout.PageReady()}})},FillPageModuleList:function(){var ModuleList=new Array();var strModuleList="";if(EP.Layout.CurrentLayout.StaticLayout){for(var i=0;i<EP.Layout.CurrentLayout.StaticLayout.Modules.length;i++){ModuleList.push(EP.Layout.CurrentLayout.StaticLayout.Modules[i]);strModuleList+=";"+EP.Layout.CurrentLayout.StaticLayout.Modules[i].ModuleName.split("_")[0]+";"}}for(var i=0;i<EP.Layout.CurrentLayout.Modules.length;i++){ModuleList.push(EP.Layout.CurrentLayout.Modules[i]);strModuleList+=";"+EP.Layout.CurrentLayout.Modules[i].ModuleName.split("_")[0]+";"}for(var oModule in EP.Layout.AllModulesList){if(EP.Layout.isMandatoryOnPage(oModule)&&strModuleList.indexOf(";"+oModule+";")==-1){var TargetZone="MiddleZone";if(typeof EP.Layout.AllModulesList[oModule].TargetZone!="undefined"&&EP.Layout.AllModulesList[oModule].TargetZone[EP.Layout.CurrentPage]){TargetZone=EP.Layout.AllModulesList[oModule].TargetZone[EP.Layout.CurrentPage]}var NewModule={ModuleName:oModule,Target:TargetZone,ModuleOptions:{IsStaticModule:false}};if(typeof EP.Layout.AllModulesList[oModule].AfterModule!="undefined"||typeof EP.Layout.AllModulesList[oModule].BeforeModule!="undefined"){for(var i=0;i<ModuleList.length;i++){if(typeof EP.Layout.AllModulesList[oModule].AfterModule!="undefined"&&EP.Layout.AllModulesList[oModule].AfterModule.indexOf(ModuleList[i].ModuleName)!=-1){ModuleList.splice(i+1,0,NewModule);break}else{if(typeof EP.Layout.AllModulesList[oModule].BeforeModule!="undefined"&&EP.Layout.AllModulesList[oModule].BeforeModule.indexOf(ModuleList[i].ModuleName)!=-1){ModuleList.splice(i,0,NewModule);break}}}}else{ModuleList.push(NewModule)}}}EP.Layout.PageModules=ModuleList;for(var i=0;i<ModuleList.length;i++){EP.Layout.addWidget($("#"+ModuleList[i].Target),ModuleList[i],true)}ModuleSortFunc=function(a,b){if(!EP.Layout.AllModulesList[a.ModuleName.split("_")[0]]||!EP.Layout.AllModulesList[b.ModuleName.split("_")[0]]){return false}InitOrder1=EP.Layout.AllModulesList[a.ModuleName.split("_")[0]].InitOrder;InitOrder2=EP.Layout.AllModulesList[b.ModuleName.split("_")[0]].InitOrder;if(EP.BaseFunctions.IsUndefined(InitOrder1)){InitOrder1=999}if(EP.BaseFunctions.IsUndefined(InitOrder2)){InitOrder2=999}return(InitOrder1>InitOrder2)-(InitOrder1<InitOrder2)};ModuleList.sort(ModuleSortFunc)},TriggerModuleInits:function(){var ModuleList=EP.Layout.PageModules;var ModuleCode;var ModuleObject;for(var mi=0;mi<ModuleList.length;mi++){ModuleCode=ModuleList[mi].ModuleName.split("_")[0];ModuleObj=ModuleList[mi];var MustLoadFile=EP.Layout.GetModuleScriptFileName(ModuleObj);if(MustLoadFile){EP.Layout.LoadScriptFiles(MustLoadFile,EP.Layout.prepareContentLayout);EP.Layout.settings.widgetIndividual={};return true}if(EP.Layout.settings.Mode!="Edit"){if(EP.Layout.AllModules[ModuleCode]){if(EP.BaseFunctions.IsUndefined(EP.Layout.AllModules[ModuleCode].Class)){continue}ModuleObj.tmpObject=EP.Layout.PrepareModuleObject(ModuleCode);if(";Flight;FlightSchedule;Hotel;Car;Train;Login;Passenger;Booking;".indexOf(";"+ModuleCode+";")>-1){EP.Layout.AllModules[ModuleCode].MustInitWithStarting=true}if(ModuleObj.tmpObject){if(EP.Layout.AllModules[ModuleCode].MustInitWithStarting){EP.EventManager.bind("ContainerTemplateApply_"+ModuleCode,{Run:EP.Layout.FillLoadinContent,BindParams:{ModuleCode:ModuleCode,ModuleObj:ModuleObj.tmpObject}});EP.EventManager.trigger("Init_"+ModuleCode,ModuleObj.tmpObject)}else{var tmpData={data:{ModuleClassName:ModuleCode,ObjectVar:ModuleObj.tmpObject}};var ModuleClass=ModuleObj.tmpObject.ContainerClass;$(ModuleClass).appear(function(event,ui){EP.EventManager.bind("ContainerTemplateApply_"+ui.ModuleClassName,{Run:EP.Layout.FillLoadinContent,BindParams:{ModuleCode:ui.ModuleClassName,ModuleObj:ui.ObjectVar}});EP.EventManager.trigger("Init_"+ui.ModuleClassName,ui.ObjectVar)},tmpData)}}}}}},PrepareModuleObject:function(ModuleCode){var newObj;var baseClass=EP.Layout.AllModules[ModuleCode].Class;var baseModule=EP.Layout.AllModules[ModuleCode];if(ModuleObj.ModuleName.split("_")[0]==ModuleObj.ModuleName){baseClass.ChildClones=null}if(baseModule.CanMultiple){newObj=EP.BaseFunctions.Clone(baseClass);if(!baseClass.ChildClones){baseClass.ChildClones=new Array()}baseClass.ChildClones.push(newObj)}else{newObj=baseClass;delete newObj.LoadingContentFileName}for(var param in newObj){if(typeof newObj[param]=="function"&&!newObj[param].that){newObj[param].that=newObj}}for(var Parameter in ModuleObj.ModuleOptions){if(ModuleObj.ModuleOptions[Parameter]||ModuleObj.ModuleOptions[Parameter]==false){newObj[Parameter]=ModuleObj.ModuleOptions[Parameter]}else{delete newObj[Parameter]}}if(EP.Layout.AllModules[ModuleCode].CanMultiple){newObj.ContainerClass="#Obj_"+ModuleObj.ModuleName}else{newObj.ContainerClass="."+ModuleObj.ModuleName}if($(newObj.ContainerClass).html()==""){$(newObj.ContainerClass).html("&nbsp;")}return newObj},isHostAdmin:function(){return EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights!="0"},preparehostAdminPane:function(){if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsAccessHostAdminMenu")!=-1){if($("body #HostAdminPanelContainer").length==0){$("body").append($("<div/>",{ID:"HostAdminPanelContainer"}));EP.BaseFunctions.AppendTemplate({TemplateName:"HostAdminPanel",Data:{},Target:"body #HostAdminPanelContainer"});$("#HostAdminEditPanel #IsEditMode").button();$("#HostAdminSettings").accordion({header:"h3",autoHeight:false,collapsible:true});$("#HostAdminEditPanel button[name=Pagelocalizations]").click(function(e){var LocalizationHTML='<div class="tablecontainer">';var LocalizationKey,LocalizationValue;EP.DataManager.GetData({Method:GeneralService+"/GetPageLocalizationCollect",Type:"GET",async:false,Success:function(p_Data){for(var LKey in p_Data){EP.StateManager("PageLocalizeKeys")[LKey]=p_Data[LKey]}}});for(var key in EP.StateManager("PageLocalizeKeys")){LocalizationHTML+='<div class="trrow"><div class="tdcell control-text"><b>'+EP.BaseFunctions.htmlEncode(key)+'</b></div><div class="tdcell">';LocalizationHTML+='<input style="width:300px" Class="ChangebleLocalizationText"';LocalizationKey=EP.BaseFunctions.htmlEncode(key);if(LocalizationKey.indexOf("'")>-1){LocalizationHTML+=' LocalizeKey="'+LocalizationKey+'" '}else{LocalizationHTML+=" LocalizeKey='"+LocalizationKey+"' "}LocalizationValue=EP.BaseFunctions.htmlEncode(EP.StateManager("PageLocalizeKeys")[key]);if(LocalizationValue.indexOf("'")>-1){LocalizationHTML+=' value="'+LocalizationValue+'"/>'}else{LocalizationHTML+=" value='"+LocalizationValue+"'/>"}LocalizationHTML+="</div></div>"}LocalizationHTML+="</div>";if($("body #fn_PageLocalizations").length==0){$("body").append($("<div/>",{ID:"fn_PageLocalizations"}))}$("#fn_PageLocalizations").dialog({modal:true,title:"Page Localizations",width:700,height:500,position:"center",buttons:[{text:"Cancel",click:function(){$(this).dialog("close")}},{text:"Save",click:function(){$(this).dialog("close");EP.Localization.SaveLocalizationChanges()}}]});$("#fn_PageLocalizations").html(LocalizationHTML);EP.EventManager.bindEvent("#fn_PageLocalizations .ChangebleLocalizationText","change",function(e){$(e.target).attr("Changed","true");$(e.target).css("background-color","yellow")})});var HostAdminTabChange=function(id){if(id=="ThemeWizardTab"){if($.trim($(".ThemeWizard").html())==""){EP.EventManager.trigger("OpenThemeWizard",{})}}else{if(id=="ThemeRollerTab"){EP.EventManager.trigger("OpenLessEditor",{})}}};$("#HostAdminTabs").tabs({select:function(event,ui){HostAdminTabChange(ui.panel.id)}});$("#HostAdminTabs .ui-tabs-nav").click(function(event){event.preventDefault();event.stopPropagation()});var SelectedTab=$("#HostAdminTabs .ui-tabs-panel:eq("+$("#HostAdminTabs").tabs("option","selected")+")").attr("id");HostAdminTabChange(SelectedTab);$("#HostAdminEditPanel #IsEditMode").click(function(){EP.Layout.ChangeLayoutMode(this.checked)});$("#HostAdminEditPanel button[name=AddModule]").click(function(e){EP.Layout.AddModuleToDropZone(e.target.checked)});$("#HostAdminEditPanel #cmbPageTemplate, #HostAdminEditPanel #cmbPageOuterLayout, #HostAdminEditPanel #txtPageTitle").change(function(){EP.Layout.ChangePageTemplate()});$("#HostAdminEditPanel #cmbPageTheme").change(function(){EP.StateManager("CurrentThemeChanged",true);EP.Layout.ChangePageTemplate()});$("#HostAdminEditPanel #cmbThemeVersion").change(function(){EP.StateManager("ChangeSetNameChanged",true);delete EP.Layout.CurrentLayout;delete EP.Layout.AllPages;EP.Layout.ChangeSiteVersion()});$("#HostAdminEditPanel #txtSiteTitle").change(function(){EP.Layout.ChangeSiteSettings({Title:$("#HostAdminEditPanel #txtSiteTitle").val()})});$("#HostAdminEditPanel #cmbDefaultTheme").change(function(){EP.StateManager("CurrentThemeChanged",true);EP.Layout.ChangeSiteSettings({DefaultTheme:$("#HostAdminEditPanel #cmbDefaultTheme").val()})});$("body #HostAdminEditPanel").slidePanel({triggerName:"#HostAdminPanelTrigger",triggerTopPos:"0px",panelTopPos:"18px",opened:function(){$("#HostAdminPanelTrigger .HostAdminOpen").hide();$("#HostAdminPanelTrigger .HostAdminClose").show();if(EP.StateManager("GeneralInformation").DefaultCulture!=EP.Localization.Culture&&!EP.StateManager("CultureWarningMessage")){EP.StateManager("CultureWarningMessage",true);$().toastmessage("showToast",{text:"Any changes will be available only for selected culture ("+EP.Localization.Culture+"). To make it available for each culture, please switch to portal's default culture ("+EP.StateManager("GeneralInformation").DefaultCulture+").",sticky:true,type:"warning",position:"middle-center"})}},closed:function(){$("#HostAdminPanelTrigger .HostAdminOpen").show();$("#HostAdminPanelTrigger .HostAdminClose").hide()}},{UseDelegate:true});$("#HostAdminEditPanel .EditableProperties *").prop("disabled",true)}EP.EventManager.bindEvent("#lnkFileManager","click",function(){var beginingoftheurl=EP.StateManager("GeneralInformation").FMGREpowerAPIGetFile.replace("epowerapi","default.aspx");$("#HostAdminTabs").tabs("select","#HostAdminTab");EP.DataManager.GetData({Method:GeneralService+"/UpdateTicket",Data:null,Type:"POST",Success:function(){window.open(beginingoftheurl)}})});$("body #HostAdminPanelTrigger").show();if(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsUserFromAdmin")!=-1){EP.EventManager.trigger("OpenLessEditor",{});$("#HostAdminEditPanel").slideDown();$("#HostAdminPanelTrigger .HostAdminOpen").hide();$("#HostAdminPanelTrigger .HostAdminClose").show()}}else{$("#HostAdminPanelContainer").remove()}},prepareByHostAdminMode:function(){if(!(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)){return}EP.Layout.FillPageTemplateCombo();EP.Layout.FillPageOuterLayoutCombo();EP.Layout.FillThemeVersion();EP.Layout.FillDefaultTheme();$("#cmbThemeVersion").next().find("input").val($("#cmbThemeVersion :selected").html());$("#cmbDefaultTheme").next().find("input").val($("#cmbDefaultTheme :selected").html());$("#txtSiteTitle").val(EP.Layout.SiteSettings.Title);EP.Layout.FillPageThemeCombo();$("#txtPageTitle").val(EP.Layout.CurrentLayout.PageOptions.Title);$("#cmbModule").next().find("input").val(FirstModule);var Options=null;$("#cmbModule").empty();var FirstModule=null;for(var Modulename in EP.Layout.AllModules){if(!EP.Layout.AllModules[Modulename].CanNotAddWithHostAdmin){if(EP.Layout.AllModules[Modulename].CanMultiple||!EP.Layout.IsPageHasModule(Modulename)){if(!FirstModule){FirstModule=Modulename}$("#cmbModule").prop("options")[$("#cmbModule").prop("options").length]=new Option(Modulename,Modulename)}}}$("#cmbModule").next().find("input").val(FirstModule);$("#cmbPlaces").empty();if($("#cmbPlaces").prop){Options=$("#cmbPlaces").prop("options")}else{Options=$("#cmbPlaces").attr("options")}$(EP.Layout.settings.columns).each(function(){Options[Options.length]=new Option(this.id,this.id);if(EP.Layout.settings.Mode=="Edit"){$(this).addClass("EditMode");if($.trim($(this).html())==""){$(this).addClass("MinWidth")}else{$(this).removeClass("MinWidth")}if($.trim($(this).html())==""){$(this).addClass("MinHeight")}else{$(this).removeClass("MinHeight")}}else{$(this).removeClass("EditMode");$(this).removeClass("MinWidth");$(this).removeClass("MinHeight")}});$("#cmbPlaces").next().find("input").val(Options[0].value)},FillPageTemplateCombo:function(){var binddata=function(p_data){var Options=null;$("#cmbPageTemplate").empty();if($("#cmbPageTemplate").prop){Options=$("#cmbPageTemplate").prop("options")}else{Options=$("#cmbPageTemplate").attr("options")}for(var i=0;i<p_data.length;i++){Options[Options.length]=new Option(p_data[i].Name,p_data[i].Name)}for(var i=0;i<Options.length;i++){if(EP.Layout.CurrentLayout.PageOptions.ContentLayout==Options[i].value){$("#cmbPageTemplate option:eq("+i+")").attr("selected","selected")}}$("#cmbPageTemplate").next().find("input").val($("#cmbPageTemplate :selected").html())};Path="Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/ContentLayout";EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFolders/"+Path,Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:binddata,Success:binddata,KeepForClient:true})},FillPageOuterLayoutCombo:function(onComplete){var binddata=function(p_data){EP.Layout.CurrentLayout.PortalShells=p_data;if(onComplete){onComplete()}if($("#cmbPageOuterLayout").length<=0){return}var Options=null;$("#cmbPageOuterLayout").empty();if($("#cmbPageOuterLayout").prop){Options=$("#cmbPageOuterLayout").prop("options")}else{Options=$("#cmbPageOuterLayout").attr("options")}for(var i=0;i<p_data.length;i++){Options[Options.length]=new Option(p_data[i].Name,p_data[i].Name)}for(var i=0;i<Options.length;i++){if(EP.Layout.CurrentLayout.PageOptions.Shell==Options[i].value){$("#cmbPageOuterLayout option:eq("+i+")").attr("selected","selected")}}$("#cmbPageOuterLayout").next().find("input").val($("#cmbPageOuterLayout :selected").html())};Path="Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/Shell";EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFolders/"+Path,Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:binddata,Success:binddata,KeepForClient:true})},FillPageThemeCombo:function(){var binddata=function(p_data){var Options=null;$("#cmbPageTheme").empty();if($("#cmbPageTheme").prop){Options=$("#cmbPageTheme").prop("options")}else{Options=$("#cmbPageTheme").attr("options")}for(var i=0;i<p_data.length;i++){if(p_data[i].Name=="Default"){Options[Options.length]=new Option("Use Portal's Theme","")}else{Options[Options.length]=new Option(p_data[i].Name,p_data[i].Name)}}$("#cmbPageTheme option:eq(0)").attr("selected","selected");var CurrentPageTheme="";if(EP.Layout.CurrentLayout.PageOptions.PageTheme){CurrentPageTheme=EP.Layout.CurrentLayout.PageOptions.PageTheme}for(var i=0;i<Options.length;i++){if(CurrentPageTheme==Options[i].value){$("#cmbPageTheme option:eq("+i+")").attr("selected","selected")}}$("#cmbPageTheme").next().find("input").val($("#cmbPageTheme :selected").html())};Path="Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/Themes";EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFolders/"+Path,Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:binddata,Success:binddata,KeepForClient:true})},FillThemeVersion:function(){var binddata=function(p_data){var Options=null;$("#cmbThemeVersion").empty();if($("#cmbThemeVersion").prop){Options=$("#cmbThemeVersion").prop("options")}else{Options=$("#cmbThemeVersion").attr("options")}for(var i=0;i<p_data.length;i++){Options[Options.length]=new Option(p_data[i].Name,p_data[i].Name+";"+p_data[i].Id)}for(var i=0;i<Options.length;i++){if(Options[i].value==EP.StateManager("GeneralInformation").ChangeSetName+";"+EP.StateManager("GeneralInformation").ChangeSetID){$("#cmbThemeVersion option:eq("+i+")").attr("selected","selected")}}$("#cmbThemeVersion").next().find("input").val($("#cmbThemeVersion :selected").html())};EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFolders/Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/?removePrd=true",Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:binddata,Success:binddata,KeepForClient:true})},FillDefaultTheme:function(){var binddata=function(p_data){var Options=null;$("#cmbDefaultTheme").empty();if($("#cmbDefaultTheme").prop){Options=$("#cmbDefaultTheme").prop("options")}else{Options=$("#cmbDefaultTheme").attr("options")}var ThemeValue="";for(var i=0;i<p_data.length;i++){ThemeValue=p_data[i].Name;Options[Options.length]=new Option(p_data[i].Name,ThemeValue)}var DefaultTheme=EP.Layout.SiteSettings.DefaultTheme;for(var i=0;i<Options.length;i++){if(DefaultTheme==Options[i].value){$("#cmbDefaultTheme option:eq("+i+")").attr("selected","selected")}}$("#cmbDefaultTheme").next().find("input").val($("#cmbDefaultTheme :selected").html())};Path="Root/Portals/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/Themes";EP.DataManager.GetData({Method:EP.BaseFunctions.getFileManagerAPI()+"/GetDirectFolders/"+Path,Type:"GET",dataType:"jsonp",jsonp:"jsoncallback",Error:binddata,Success:binddata,KeepForClient:true})},FillLoadinContent:function(p_Options){if(!EP.BaseFunctions.IsUndefined(p_Options)&&!EP.BaseFunctions.IsUndefined(p_Options.BindParams)){if(!EP.BaseFunctions.IsUndefined(EP.StateManager("SimulatedMethod"))){if(!EP.BaseFunctions.IsUndefined(p_Options.BindParams.ModuleObj)&&!EP.BaseFunctions.IsUndefined(p_Options.BindParams.ModuleObj.LoadingContentFileName)&&!EP.BaseFunctions.IsUndefined(EP.Layout.Layouts["layout/SplashScreens/"+p_Options.BindParams.ModuleObj.LoadingContentFileName+".htm"])){$("."+p_Options.BindParams.ModuleCode+" .Content").empty();$.tmpl(EP.Layout.Layouts["layout/SplashScreens/"+p_Options.BindParams.ModuleObj.LoadingContentFileName+".htm"].htmlContent,{Parameters:EP.StateManager("SearchSplashScreenObj")}).appendTo("."+p_Options.BindParams.ModuleCode+" .Content")}else{if(";Result;ResultSchedule;ResultTimeTable;CarResult;HotelResult;PackageResult;TrainResult;".indexOf(";"+p_Options.BindParams.ModuleCode+";")>-1){if(p_Options.BindParams.ModuleCode=="PackageResult"){$(".Result .Content").empty()}$("."+p_Options.BindParams.ModuleCode+" .Content").empty()}}}}},AddModuleToDropZone:function(){var objModule={ModuleName:$("#cmbModule").val(),ModuleOptions:{TemplateName:$("#cmbModule").val(),IsStaticModule:$("#IsStaticModule").is(":checked")}};if(EP.Layout.AllModules[objModule.ModuleName].IdRequired){objModule.ModuleOptions.ModuleID=EP.BaseFunctions.CreateGuid()}EP.Layout.addWidget("#"+$("#cmbPlaces").val(),objModule)},ChangeLayoutMode:function(p_Mode){EP.Layout.settings.Mode=p_Mode?"Edit":"View";EP.Layout.initPage();if(p_Mode){$("#HostAdminEditPanel .EditableProperties *").prop("disabled",false);$("#HostAdminEditPanel button").button("option","disabled",false)}else{$("#HostAdminEditPanel .EditableProperties *").prop("disabled",true)}},ChangePageTemplate:function(){EP.Layout.savePreferences();EP.Layout.initPage()},ChangeSiteVersion:function(){EP.Layout.savePreferencesForSiteVersion();EP.Layout.refreshCSS()},ChangeSiteSettings:function(p_Settings){EP.Layout.savePreferencesForSiteSettings(p_Settings);EP.Layout.refreshCSS()},getModuleParam:function(ObjClass,ParamName){if(typeof ObjClass[ParamName]!="undefined"){return ObjClass[ParamName]}if(typeof ObjClass.ExternalModuleParameters!="undefined"&&typeof ObjClass.ExternalModuleParameters[ParamName]!="undefined"){return ObjClass.ExternalModuleParameters[ParamName].Value}return undefined},IsPageHasModule:function(p_ModuleName){for(var i=0;i<EP.Layout.PageModules.length;i++){if(EP.Layout.PageModules[i].ModuleName==p_ModuleName){return true}}return false},updateCSS:function(locStr,FindWord){if(!FindWord){FindWord=locStr}$("body").append('<link href="'+locStr+'" type="text/css" rel="Stylesheet" />');var links=$("link[href*="+FindWord+"]");if(links.length>1){setTimeout(function(){$("link[href*="+FindWord+"]").not(":last").remove()},1000)}},AddCss:function(p_file){var cssLink=$("<link>");$("head").append(cssLink);cssLink.attr({rel:"stylesheet",type:"text/css",href:p_file})},refreshCSS:function(){var links=$("link[href*=css]");$.each(links,function(){$('link[href*="'+$(this).attr("href")+'"]').remove();$("body").append('<link href="'+$(this).attr("href")+"?d="+new Date().getTime()+'" type="text/css" rel="Stylesheet" />')})},removeCSS:function(p_file){var links=$("link[href*="+p_file+"]");$.each(links,function(){$('link[href*="'+$(this).attr("href")+'"]').remove()})},AddImageUploadButton:function(p_Panel,p_ForSession,p_SFuncParams){var HandlerUri="StartUpControl=UploadButton,HandlerUri="+location.href.split("#")[0]+"UploadImage"+(p_ForSession?"/TOSESSION":"/PopulateFromSL_"+p_SFuncParams.BindParams.LinkID.replace(/-/g,""));var objString='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" width="'+(p_ForSession?"400":"140")+'" height="40">';objString+='<param name="source" value="ClientBin/Adriva.SilverFile.xap" />';objString+='<param name="background" value="white" />';objString+='<param name="minRuntimeVersion" value="5.0.61118.0" />';objString+='<param name="autoUpgrade" value="true" />';objString+='<param name="initparams" value="'+HandlerUri+'" />';objString+='<a href="https://go.microsoft.com/fwlink/?LinkID=149156&v=5.0.61118.0" style="text-decoration: none">';objString+='<img src="https://go.microsoft.com/fwlink/?LinkId=161376" alt="Get Microsoft Silverlight" style="border-style: none" />';objString+="</a>";objString+="</object>";objString+='<iframe id="_sl_historyFrame" style="visibility:hidden;height:0px;width:0px;border:0px"></iframe>';if(p_SFuncParams){EP.EventManager.bind(p_Panel+"_Sfunc",p_SFuncParams);objString+="<script>function PopulateFromSL_"+p_SFuncParams.BindParams.LinkID.replace(/-/g,"")+'(filename){EP.EventManager.trigger("'+p_Panel+'_Sfunc", { File: filename }); }</script>'}else{objString+="<script>function PopulateFromSL(filename){EP.ThemeWizard.ShowLogoPreview(filename);}</script>"}objString+="<script>function RemoveDefaultLogo(){EP.ThemeWizard.RemoveDefaultLogo();}</script>";$(p_Panel).append(objString)},onSilverlightError:function(sender,args){var appSource="";if(sender!=null&&sender!=0){appSource=sender.getHost().Source}var errorType=args.ErrorType;var iErrorCode=args.ErrorCode;if(errorType=="ImageError"||errorType=="MediaError"){return}var errMsg="Unhandled Error in Silverlight Application "+appSource+"\n";errMsg+="Code: "+iErrorCode+"    \n";errMsg+="Category: "+errorType+"       \n";errMsg+="Message: "+args.ErrorMessage+"     \n";if(errorType=="ParserError"){errMsg+="File: "+args.xamlFile+"     \n";errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n"}else{if(errorType=="RuntimeError"){if(args.lineNumber!=0){errMsg+="Line: "+args.lineNumber+"     \n";errMsg+="Position: "+args.charPosition+"     \n"}errMsg+="MethodName: "+args.methodName+"     \n"}}throw new Error(errMsg)},AddCustomTemplates:function(){var NewTemplateList={};for(var oLayout in EP.Layout.Layouts){if(oLayout.indexOf("layout/CustomTemplate")!=-1){EP.Layout.CustomTemplateFound=true;var CustomTemplateName=oLayout.replace("layout/CustomTemplate/","").replace(".tmp.htm","");var TemplateContent=EP.Layout.Layouts[oLayout];TemplateContent=TemplateContent.htmlContent;NewTemplateList[CustomTemplateName]=TemplateContent;var tmpName=CustomTemplateName;if(!UseCompiledMode){$.removeData($("#"+CustomTemplateName)[0],"tmpl");try{$("#"+CustomTemplateName).html(TemplateContent)}catch(e){var target=document.getElementById(CustomTemplateName);if(target){target.text=TemplateContent}}}var varScript=document.createElement("script");varScript.text=TemplateContent;varScript.type="text/x-jquery-tmpl";varScript.id=tmpName;document.body.appendChild(varScript);var tmpScript=$("#"+tmpName).template().toString();tmpScript=tmpScript.replace("function anonymous","function tmp_"+tmpName);tmpScript+="jQuery.template('#"+tmpName+"', tmp_"+tmpName+");";var varScript2=document.createElement("script");varScript2.text=tmpScript;document.body.appendChild(varScript2)}}},CheckArabicLanguage:function(){if(EP.Localization.Culture=="ar-SA"||EP.Localization.Culture=="fa-IR"){$("body").attr("dir","rtl");if(!EP.StateManager("ArabicCssApplied")){var ArabicCssPath="Resources/Arabic.css";if(EP.StateManager("GeneralInformation").IsB2B2C){ArabicCssPath="../Resources/Arabic.css"}EP.Layout.updateCSS(ArabicCssPath,"---");EP.StateManager("ArabicCssApplied","true",true)}$.extend(true,$.ui.autocomplete.prototype.options.position,{my:"right top",at:"right bottom"})}else{if(EP.StateManager("ArabicCssApplied")){$("body").attr("dir","");EP.StateManager.Remove("ArabicCssApplied");EP.Layout.removeCSS("Arabic");$.extend(true,$.ui.autocomplete.prototype.options.position,{my:"left top",at:"left bottom"})}}},AddCssFile:function(p_CssName,p_Params){var Page_ServerPath;if(EP.Layout.PageType=="LTDRobot"&&EP.Layout.PageServerPath!=null&&EP.Layout.PageServerPath.length>0){Page_ServerPath=EP.Layout.PageServerPath+"/NEWUI.FMGR/epowerapi"}else{Page_ServerPath=EP.StateManager("GeneralInformation").FMGREpowerAPIGetFile}var lastIndexPath=EP.Layout.GetLastUpdatedCssPath(p_CssName);var IndexPath=Page_ServerPath.replace("http://",window.location.protocol+"//")+"/GetFile/default/"+EP.Localization.Culture+"/"+EP.StateManager("GeneralInformation").PortalCode+"/"+EP.StateManager("GeneralInformation").ChangeSetName+"/Themes/"+EP.Layout.CurrentTheme+"/"+p_CssName+".css";if(!EP.BaseFunctions.IsUndefined(p_Params)){IndexPath+="?appId="+p_Params}if(EP.BaseFunctions.IsUndefined(lastIndexPath)||lastIndexPath.indexOf(IndexPath)==-1){EP.Layout.updateCSS(IndexPath,p_CssName)}},GetLastUpdatedCssPath:function(p_CssName){var indexCssPath=null;var link=$("link[href*="+p_CssName+"]");if(link.length>0){indexCssPath=link.attr("href")}return indexCssPath}};EP.Localization={Culture:"",Get:function(Key,DefaultValue){Key=$.trim(Key);if(EP.BaseFunctions.IsUndefined(DefaultValue)){DefaultValue=Key;Key="AWCLabel."+$.trim(DefaultValue)+".Text"}if(!EP.StateManager("List")||!EP.StateManager("List")[EP.Localization.Culture]){return DefaultValue?DefaultValue:Key}if(!EP.StateManager("List")[EP.Localization.Culture][Key]){if(typeof(EP.StateManager("List")[EP.Localization.Culture][Key.replace(new RegExp("\\  ","gi"),"")])!="undefined"){Key=Key.replace(new RegExp("\\  ","gi"),"")}else{var NotFound="X";if(location.hostname!="localhost"){NotFound=""}EP.Localization.WrapNotFoundValue(Key);if(DefaultValue){return NotFound+DefaultValue}return NotFound+Key}}return EP.Localization.WrapValue(Key,EP.StateManager("List")[EP.Localization.Culture][Key])},Set:function(Key,Value){if(!EP.StateManager("List")[EP.Localization.Culture]){EP.StateManager("List")[EP.Localization.Culture]=new Object()}EP.StateManager("List")[EP.Localization.Culture][Key]=Value},CultureChanged:function(p_Options){EP.BaseFunctions.ShowLoading();EP.CachedInitialData={};EP.Localization.Culture=p_Options.Culture;EP.DataManager.GetData({Method:GeneralService+"/ChangeCulture",Data:'{"Culture": "'+p_Options.Culture+'"}',Type:"POST",DontHideLoading:true,Success:function(p_Data){EP.Localization.Culture=p_Data.CurrentCultureCode;EP.Localization.CultureFormatDetails=p_Data.CurrentCultureDetails;EP.Localization.FillResxValues(function(p_Data){EP.BaseFunctions.HideLoading();delete EP.Layout.CurrentLayout;delete EP.Layout.AllPages;PrepareGlobalization(EP.Localization.Culture);EP.StateManager("ValidatorMessagesOverrided",false,true);EP.StateManager.Remove("HistoricalView");EP.EventManager.hashChange({},true)})}})},SetServerTimeZone:function(SuccessF){var now=new Date();var utc=new Date(now.getTime()+now.getTimezoneOffset()*60000);EP.DataManager.GetData({Method:GeneralService+"/InitTimeZone",Data:"{timeZone:'"+now.getTimezoneOffset()+"'}",Type:"POST",Success:function(p_Data){if(SuccessF){SuccessF()}}})},GetServerCulture:function(){EP.DataManager.GetData({Method:GeneralService+"/GetServerCulture",Data:{},Type:"GET",Success:function(p_Data){EP.Localization.FillServerCulture(p_Data)}})},FillServerCulture:function(p_Data){EP.Localization.Culture=p_Data.CurrentCultureCode;EP.Localization.CultureFormatDetails=p_Data.CurrentCultureDetails},LocalizeModule:function(Target){$("label, .DoLocalize",Target).each(function(){var objLabel=$(this);if(objLabel.attr("data-fld")&&objLabel.attr("data-fld").length>0){if(objLabel.attr("data-fld")=="NoLocalize"){return $.trim(objLabel.html())}Key=objLabel.attr("data-fld")}else{if($.trim(objLabel.html()).length==0){return}Key="AWCLabel."+$.trim(objLabel.html())+".Text"}this.innerHTML=EP.Localization.Get(Key,$.trim(objLabel.html()))})},FillResxValues:function(p_ResulF){if(!EP.StateManager("List")){EP.StateManager("List",{},true)}if(EP.StateManager("List")[EP.Localization.Culture]){if(p_ResulF){p_ResulF()}}else{EP.DataManager.GetData({Method:GeneralService+"/LocalizationRun",Data:'{"p_RQ": {"Culture": "'+EP.Localization.Culture+'"} }',Type:"POST",Success:function(p_Data){EP.Localization.SubFillResxValues(p_Data);if(p_ResulF){p_ResulF()}}})}},SubFillResxValues:function(p_Data){if(!EP.StateManager("List")){EP.StateManager("List",{},true)}if(p_Data&&p_Data.Localizations){EP.Localization.Data=p_Data;for(var i=0;i<p_Data.Localizations.length;i++){for(var key in p_Data.Localizations[i]){EP.Localization.Set(key,p_Data.Localizations[i][key])}}}},WrapValue:function(Key,LocalizeValue){if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1){EP.StateManager("PageLocalizeKeys")[Key]=LocalizeValue}return LocalizeValue},WrapNotFoundValue:function(LocalizeValue){if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1){if(EP.StateManager("NotFoundList").indexOf(LocalizeValue)==-1){EP.StateManager("NotFoundList").push(LocalizeValue)}}return LocalizeValue},SaveLocalizationChanges:function(){var ChangedTextBoxes=$("#fn_PageLocalizations input[Changed=true]");if(ChangedTextBoxes.length==0){return}var NewLocalizations=new Object();NewLocalizations.LocalizeList=new Array();for(var i=0;i<ChangedTextBoxes.length;i++){NewLocalizations.LocalizeList.push({Key:$(ChangedTextBoxes[i]).attr("LocalizeKey"),Value:$(ChangedTextBoxes[i]).val()});EP.Localization.Set($(ChangedTextBoxes[i]).attr("LocalizeKey"),$(ChangedTextBoxes[i]).val())}EP.DataManager.GetData({Method:GeneralService+"/LocalizationUpdateRun",Data:'{"p_RQ":'+JSON.stringify(NewLocalizations)+"}",Type:"POST",Success:function(p_Data){if(p_Data.Succeded){for(var i=0;i<ChangedTextBoxes.length;i++){EP.Localization.Set($(ChangedTextBoxes[i]).attr("LocalizeKey"),$(ChangedTextBoxes[i]).val())}EP.Layout.initPage();$().toastmessage("showToast",{text:ChangedTextBoxes.length+" Localization Change(s) Saved!",sticky:false,type:"success",position:"middle-center"})}}})}};function OverrideValidatorMessages(){$.validator.messages.required=$.validator.format(EP.Localization.Get("'{0}' field is required."));$.validator.messages.date=$.validator.format(EP.Localization.Get("Please enter a valid date."));$.validator.messages.email=$.validator.format(EP.Localization.Get("AWCRegularExpressionValidator.Mismatched EMail Format.ErrorMessage","Mismatched EMail Format"));$.validator.messages.number=$.validator.format(EP.Localization.Get("Please enter a valid number."));$.validator.messages.maxlength=$.validator.format(EP.Localization.Get("Please enter no more than {0} characters."));$.validator.messages.minlength=$.validator.format(EP.Localization.Get("Please enter at least {0} characters."));$.validator.messages.rangelength=$.validator.format(EP.Localization.Get("Please enter a value between {0} and {1} characters long."));$.validator.messages.range=$.validator.format(EP.Localization.Get("Please enter a value between {0} and {1}."));$.validator.messages.max=$.validator.format(EP.Localization.Get("Please enter a value less than or equal to {0}."));$.validator.messages.min=$.validator.format(EP.Localization.Get("Please enter a value greater than or equal to {0}."));$.validator.messages.digits=$.validator.format(EP.Localization.Get("Please enter only digits."));$.validator.messages.creditcard=$.validator.format(EP.Localization.Get("Please enter a valid credit card number."));$.validator.messages.equalTo=$.validator.format(EP.Localization.Get("Please enter the same value again."));$.validator.messages.letterswithbasicpunc=$.validator.format(EP.Localization.Get("Letters or punctuation only please."));$.validator.messages.alphanumeric=$.validator.format(EP.Localization.Get("Letters, numbers, spaces or underscores only please"));$.validator.messages.nonnumeric=$.validator.format(EP.Localization.Get("Please do not enter any digit."));$.validator.messages.remote=$.validator.format(EP.Localization.Get("'{0}' is already in use."));$.validator.messages.mustSelectOneIf=$.validator.format(EP.Localization.Get("You must select at least one element."));$.validator.addMethod("MultiMail",function(value){var emails=value.split(/[;,]+/);var regex=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;for(var i=0;emails.length>i;i++){value=emails[i];if(!regex.test(value)){return regex.test(value)}}return true},EP.Localization.Get("AWCRegularExpressionValidator.Mismatched EMail Format.ErrorMessage","Mismatched EMail Format"));var message="Original Message";var messageFunc=function(){return message};$.validator.addMethod("orOtherItem",function(value,element,params){var elementName=$(element).attr("name");if(elementName=="CityCode"&&$(element).val()&&$(EP.Hotel.ContainerClass+" input[name='"+params+"']").val()){message=EP.Localization.Get("City or Landmark field must be filled only");return false}else{if(elementName=="CityCode"&&$(element).val()==""&&$(EP.Hotel.ContainerClass+" input[name='"+params+"']").val()==""){message=EP.Localization.Get("City or Landmark field must be filled");return false}else{if((elementName!="CityCode"&&$(element).val()==""&&$(EP.Hotel.ContainerClass+" input[name='"+params+"']").val()!="")){if($(EP.Hotel.ContainerClass+" select[name='AmadeusDistanceMeasureUnit']").val()==""){message=EP.Localization.Get("Distance measure unit must be filled");return false}else{if($(EP.Hotel.ContainerClass+" select[name='AmadeusMeasureUnit']").val()==""){message=EP.Localization.Get("Distance unit must be filled");return false}}}}}return true},messageFunc);$.validator.addMethod("requiredWithText",function(value,element,param){if(!this.depend(param,element)){return"dependency-mismatch"}switch(element.nodeName.toLowerCase()){case"select":var val=$(element).val();return val&&val.length>0;case"input":if(this.checkable(element)){return this.getLength(value,element)>0}default:return $.trim(value).length>0}},$.validator.format("{0}"));$.validator.addMethod("valueNotEquals_PhoneNumberSampleText",function(value,element,arg){var phoneType=$(element).closest("div[class^=fn_GSMPhone]").find("select[name=CommunicationMediaCode]").val(),sampleText="";switch(phoneType){case"GSM":sampleText=EP.Localization.Get("EPower.MobilePhoneNoSample","e.g. 023456789");break;case"HOMEPHONE":sampleText=EP.Localization.Get("EPower.HomePhoneNoSample","e.g. 023456789");break;case"WORKPHONE":sampleText=EP.Localization.Get("EPower.BusinessPhoneNoSample","e.g. 023456789");break;case"DOMICILEPHONE":sampleText=EP.Localization.Get("EPower.DomicilePhoneNoSample","e.g. 023456789");break}return value!=sampleText},EP.Localization.Get("EPowerValidation.PhoneNumberIsRequired","'Phone Number' field is required."))}$.formatString=$.validator.format;function fdate(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getFullYear()+"-"+fdate(this.getMonth()+1)+"-"+fdate(this.getDate())+"T"+fdate(this.getHours())+":"+fdate(this.getMinutes())+":"+fdate(this.getSeconds())+".000":null};var JSON_reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)$/;JSON.parseWithDate=function(json){try{var res=JSON.parse(json,function(key,value){if(typeof value==="string"){var a=JSON_reISO.exec(value);if(a){return new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6])}}return value});return res}catch(e){throw new Error("JSON content could not be parsed");return null}};$.validator.methods.date=function(value,element){return this.optional(element)||EP.Glob.StringToDate(value)};$.validator.methods.remote=function(value,element,param){if(this.optional(element)){return"dependency-mismatch"}var previous=this.previousValue(element);if(!this.settings.messages[element.name]){this.settings.messages[element.name]={}}previous.originalMessage=this.settings.messages[element.name].remote;this.settings.messages[element.name].remote=previous.message;param=typeof param=="string"&&{url:param}||param;if(this.pending[element.name]){return"pending"}if(previous.old===value){return previous.valid}previous.old=value;var validator=this;this.startRequest(element);var data={};data[element.name]=value;EP.DataManager.GetData({Type:"POST",Data:'{"p_RQ":'+JSON.stringify(data)+"}",Port:"validate"+element.name,Mode:"abort",Method:AppUrl+param.url,Success:function(response){validator.settings.messages[element.name].remote=previous.originalMessage;var valid=response.Succeded===true;if(valid){var submitted=validator.formSubmitted;validator.prepareElement(element);validator.formSubmitted=submitted;validator.successList.push(element);validator.showErrors()}else{var errors={};var message=response.Succeded||validator.defaultMessage(element,"remote");errors[element.name]=previous.message=$.isFunction(message)?message("input[name="+element.name+"]").replace("input[name=","").replace("]",""):message;validator.showErrors(errors)}previous.valid=valid;validator.stopRequest(element,valid)}});return"pending"};$.validator.format=function(source,params){if(arguments.length==1){return function(){var args=$.makeArray(arguments);args.unshift(source);return $.validator.format.apply(this,args)}}if(arguments.length>2&&params.constructor!=Array){params=$.makeArray(arguments).slice(1)}if(params.constructor!=Array){params=[params]}$.each(params,function(i,n){var fieldtext=$(params[params.length-1]).rules()["text"];if(fieldtext){if(n==true){n=fieldtext}else{if(params[params.length-1]!=fieldtext){params.splice(params.length-1,0,fieldtext)}}source=source.replace(new RegExp("\\{"+i+"\\}","g"),n)}else{source=source.replace(new RegExp("\\{"+i+"\\}","g"),n)}});return source};$.ui.autocomplete.prototype._renderItem=function(ul,item){return $("<li></li>").addClass(item.cssClass).data("item.autocomplete",item).append($("<a></a>").text(item.label)).appendTo(ul)};$.ui.autocomplete.prototype._suggest=function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(ul,items);this.menu.deactivate();this.menu.refresh();ul.show();this._resizeMenu();var PosElement=this.element;if($("body").attr("dir")=="rtl"&&$(this.element).hasClass("ui-combobox-input")){PosElement=$(this.element).next("a")}ul.position($.extend({of:PosElement},this.options.position));if(this.options.autoFocus){this.menu.next(new $.Event("mouseover"))}if(!$(this.element).hasClass("ui-combobox-input")&&!this.element.is(":focus")){this.close()}};$.fn.delegate=function(selector,types,data,fn){if($(selector).is("button")){if($(selector).attr("button-type")){if($(selector).attr("button-type")=="image-button"){var isTextVisible=($(selector).attr("text")==="true");var isSecondaryVisible=($(selector).attr("icons-secondary")==="false");if(!isSecondaryVisible){isSecondaryVisible=$(selector).attr("icons-secondary")}else{isSecondaryVisible=false}var isPrimaryVisible=($(selector).attr("icons-primary")==="false");if(!isPrimaryVisible){isPrimaryVisible=$(selector).attr("icons-primary")}else{isPrimaryVisible=false}$(selector).button({icons:{primary:isPrimaryVisible,secondary:isSecondaryVisible},text:isTextVisible})}}$(selector).button()}return this.on(types,selector,data,fn)};$.CustomEach=function(p_Selector,p_function){var objList=$(p_Selector).get();for(var i=objList.length;i--;){p_function($(objList[i]),i)}};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj,start){for(var i=(start||0),j=this.length;i<j;i++){if(this[i]===obj){return i}}return -1}}function realWidth(obj){var clone=obj.clone();clone.css("visibility","hidden");$("body").append(clone);var width=clone.outerWidth();clone.remove();return width}function GetAutoCompleteCssClass(selectObj,optionObj){if($(selectObj).hasClass("AllowedCityCodes")){var objVaue=optionObj.value;if(objVaue.substring(objVaue.length-2,objVaue.length)===";C"){return"CityRow"}else{if(objVaue.substring(objVaue.length-2,objVaue.length)===";A"){return"AirportRow"}}}return""}$.datepicker.parseDate=function(format,value,settings){return EP.Glob.StringToDate(value)};$.datepicker.formatDate=function(format,date,settings){if(!date){return""}var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort;var dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames;var monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort;var monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames;var lookAhead=function(match){var matches=(iFormat+1<format.length&&format.charAt(iFormat+1)==match);if(matches){iFormat++}return matches};var formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match)){while(num.length<len){num="0"+num}}return num};var formatName=function(match,value,shortNames,longNames){return(lookAhead(match)?longNames[value]:shortNames[value])};return date.toShortString()};$.widget("ui.combobox",{_create:function(){if($.browser.mobile){this.element.height($($(".txtText")[0]).outerHeight());return}var input,self=this,select=this.element,selected=select.children(":selected"),theWidth=select.outerWidth(),value=selected.val()?selected.text():"",wrapper=this.wrapper=$("<span>").addClass("ui-combobox").insertAfter(select);if(!this.element.is(":visible")){$(this.element).appear(function(){wrapper.show();select.hide()});wrapper.hide();theWidth=realWidth(select)}else{select.hide()}if(select.attr("PanelWidth")&&select.attr("PanelWidth")!=""){select.width(select.attr("PanelWidth"));theWidth=select.outerWidth()}input=$("<input>").appendTo(wrapper).val(value);$("<a>").attr("tabIndex",-1).attr("title",EP.Localization.Get("Show All Items")).appendTo(wrapper).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-combobox-toggle").addClass($(select).attr("name")+"_CL").click(function(e){EP.EventManager.trigger("onComboBoxClick",{TriggerElement:e.target});if(!select.is(":enabled")){return}if(input.autocomplete("widget").is(":visible")){input.autocomplete("close");return}$(this).blur();input.autocomplete("search","");input.focus()}).outerHeight();input.addClass("ui-state-default ui-combobox-input").autocomplete({delay:0,minLength:0,position:{my:"left top",at:"left bottom"},source:function(request,response){try{if(event&&event.keyCode==40){request.term=""}}catch(e){}var matcher=new RegExp($.ui.autocomplete.escapeRegex(request.term),"i");response(select.children("option").map(function(){var text=$.text($(this));if((!request.term||matcher.test(text))){return{label:text.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+$.ui.autocomplete.escapeRegex(request.term)+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:text,option:this,cssClass:GetAutoCompleteCssClass(select,this)}}}))},select:function(event,ui){ui.item.option.selected=true;select.val(ui.item.option.value);self._trigger("selected",event,{item:ui.item.option});select.change();if(event.keyCode==13){event.stopPropagation()}},change:function(event,ui){if(!ui.item){var matcher=new RegExp("^"+$.ui.autocomplete.escapeRegex($(this).val())+"$","i"),valid=false;select.children("option").each(function(){if($.text($(this)).match(matcher)){this.selected=valid=true;return false}});return true;if(!valid){$(this).val("");select.val("");input.data("autocomplete").term="";return false}}},open:function(e){var PanelWidth=theWidth+1;if(select.attr("PanelWidth")){PanelWidth=select.attr("PanelWidth")*1}if(!$(select).hasClass("AllowedCityCodes")){input.data("autocomplete").menu.element.outerWidth(PanelWidth)}}}).addClass("ui-widget ui-widget-content ui-corner-left");if(!$(select).hasClass("AllowedCityCodes")){input.data("autocomplete").menu.element.addClass("AutocompleteCombo")}input.data("autocomplete")._renderItem=function(ul,item){var liObj=$("<li />").addClass(item.cssClass);if($(item.option).val().indexOf("HEADER_")>-1){$(input).attr("HASHEADERCLASS","True");return liObj.data("item.autocomplete",item).append($("<div class='headerSelectOption'><a></a></div>").append(item.label).addClass($(select).attr("name")+"_Li_"+item.value.replace(new RegExp("\\ ","gi"),""))).appendTo(ul)}else{if($(input).attr("HASHEADERCLASS")){return liObj.data("item.autocomplete",item).append($("<a class='headerInnerSelectOption'></a>").append(item.label).addClass($(select).attr("name")+"_Li_"+item.value.replace(new RegExp("\\ ","gi"),""))).appendTo(ul)}else{return liObj.data("item.autocomplete",item).append($("<a></a>").append(item.label).addClass($(select).attr("name")+"_Li_"+item.value.replace(new RegExp("\\ ","gi"),""))).appendTo(ul)}}};$(input).bind("focus",function(e){$(input).select()});$(input).bind("blur",function(e){if($(input).val()==""){select.val("")}input.val($("option:selected",select).text())});input.val($("option:selected",select).text());var inputwidth=theWidth-$("a",wrapper).width()-10;if(inputwidth<0){inputwidth+=5}input.width(inputwidth+"px")},destroy:function(){this.wrapper.remove();this.element.show();$.Widget.prototype.destroy.call(this)},disable:function(){var wrapper=this.element.next("span");this.element.attr("disabled","disabled");wrapper.find("input").attr("disabled","disabled");wrapper.addClass("ui-state-disabled")},enable:function(){var wrapper=this.element.next("span");this.element.removeAttr("disabled");wrapper.find("input").removeAttr("disabled");wrapper.removeClass("ui-state-disabled")}});EP.Less={ParamValues:null,SetParamValues:function(argParamValues){this.ParamValues=argParamValues;this.ApplyLess()},ApplyLess:function(){less.modifyVars(ParamValues)}};String.prototype.Left=function(n){if(n<=0){return""}else{if(n>String(this).length){return str}else{return String(this).substring(0,n)}}};String.prototype.Right=function(n){if(n<=0){return""}else{if(n>String(this).length){return str}else{var iLen=String(this).length;return String(this).substring(iLen,iLen-n)}}};String.format=function(){var s=arguments[0];for(var i=0;i<arguments.length-1;i++){var reg=new RegExp("\\{"+i+"\\}","gm");s=s.replace(reg,arguments[i+1])}return s};window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console&&location.hostname.toLowerCase()=="localhost"){console.log(Array.prototype.slice.call(arguments))}};$.extend($.tmpl.tag,{"var":{open:"var $1;"}});$.extend($.tmpl.tag,{"eval":{open:"$1;"}});$.extend($.tmpl.tag,{log:{open:"window.log($1);"}});if($.browser.msie&&$.browser.version=="8.0"){HTMLAnchorElement.prototype.blur=function(){}}(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);jQuery.fn.center=function(parent){if(parent){parent=this.parent()}else{parent=window}this.css({top:((($(parent).height()-this.outerHeight())/2)+"px"),left:((($(parent).width()-this.outerWidth())/2)+"px")});return this};$.fn.exists=function(){return this.length!==0};function Hash(){for(var i=0;i<arguments.length;i++){for(n in arguments[i]){if(arguments[i].hasOwnProperty(n)){this[n]=arguments[i][n]}}}}Hash.prototype=new Object();Hash.prototype.keys=function(){var rv=[];for(var n in this){if(this.hasOwnProperty(n)){rv.push(n)}}return rv};Hash.prototype.length=function(){return this.keys().length};Hash.prototype.values=function(){var rv=[];for(var n in this){if(this.hasOwnProperty(n)){rv.push(this[n])}}return rv};Hash.prototype.slice=function(){var rv=[];for(var i=0;i<arguments.length;i++){rv.push((this.hasOwnProperty(arguments[i]))?this[arguments[i]]:undefined)}return rv};Hash.prototype.concat=function(){for(var i=0;i<arguments.length;i++){for(var n in arguments[i]){if(arguments[i].hasOwnProperty(n)){this[n]=arguments[i][n]}}}return this};$(window).resize(function(){if(EP.IPStart){$(".ipLoaderIFrameContainer.ui-dialog-content").dialog("option","position","center")}});var _carrefoureRuleValue=null;function StringBuilder(value){this.strings=new Array("");this.append(value)}String.prototype.stringFormat=function(o){return this.replace(/{([^{}]*)}/g,function(a,b){var r=o[b];return typeof r==="string"?r:a})};String.prototype.endsWith=function(suffix){return this.indexOf(suffix,this.length-suffix.length)!==-1};StringBuilder.prototype.append=function(){for(argumentsCounter=0;argumentsCounter<arguments.length;argumentsCounter++){this.strings.push(arguments[argumentsCounter])}};StringBuilder.prototype.clear=function(){this.strings.length=1};StringBuilder.prototype.toString=function(){return this.strings.join("")};StringBuilder.prototype.appendFormat=function(input,arr){for(i=0;i<arr.length;i++){while(input.indexOf("{"+i+"}")!=-1){input=input.replace("{"+i+"}",arr[i])}}return input};var elementPrototype=typeof HTMLElement!=="undefined"?HTMLElement.prototype:Element.prototype;elementPrototype.getBoundingClientRect=(function(){var oldGetBoundingClientRect=elementPrototype.getBoundingClientRect;return function(){try{return oldGetBoundingClientRect.apply(this,arguments)}catch(e){return{left:"",right:"",top:"",bottom:""}}}})();var DecimalSeperator=",";var GroupSeperator=".";var DecimalCount=2;var CurrencySymbol="$";var CurrencyPattern=["($n)","$n"];var FirstDay=1;var AMDesignator=["AM","am","AM"];var PMDesignator=["PM","pm","PM"];var CalendarValues={"en-US":{DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],DayNamesMiddle:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],DayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],MonthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],AMDesignator:["AM","am","AM"],PMDesignator:["PM","pm","PM"]},"tr-TR":{DayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],DayNamesMiddle:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"],DayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],MonthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],MonthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""]},"fr-FR":{DayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],DayNamesMiddle:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],DayNamesShort:["di","lu","ma","me","je","ve","sa"],MonthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],MonthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""]},"es-ES":{DayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],DayNamesMiddle:["dom","lun","mar","mié","jue","vie","sáb"],DayNamesShort:["do","lu","ma","mi","ju","vi","sá"],MonthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],MonthNamesShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic",""]},"fi-FI":{DayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],DayNamesMiddle:["sun","maa","tii","kes","tor","per","lau"],DayNamesShort:["su","ma","ti","ke","to","pe","la"],MonthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],MonthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""]},"nl-BE":{DayNames:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],DayNamesMiddle:["Zon","Maa","Din","Woe","Don","Vri","Zat"],DayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],MonthNames:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December",""],MonthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec",""]},"ro-RO":{DayNames:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],DayNamesMiddle:["Dum","Lun","Mar","Mie","Joi","Vin","Sam"],DayNamesShort:["Du","Lu","Ma","Mi","Jo","Vi","Sa"],MonthNames:["Ianuerie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie",""],MonthNamesShort:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec",""],},"pl-PL":{DayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],DayNamesMiddle:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"],DayNamesShort:["Ni","Po","Wt","Śr","Cz","Pi","So"],MonthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień",""],MonthNamesShort:["Stycz","Luty","Mar","Kwiec","Maj","Czerw","Lip","Sierp","Wrzes","Paźdz","Listop","Grudz",""],},"lt-LT":{DayNames:["Sekmadienį","Pirmadienis","Antradienis","Trečiadienis","Ketvirtadienis","Penktadienis","Šeštadienį"],DayNamesMiddle:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"],DayNamesShort:["Sk","Pr","An","Tr","Kt","Pn","Št"],MonthNames:["Sausis","Vasaris","Kovas","Balandis","Gegužė","Birželis","Liepa","Rugpjūtis","Rugsėjis","Spalis","Lapkritis","Gruodis",""],MonthNamesShort:["Saus.","Vas","Kov.","Bal.","Geg.","Bir.","Liep.","Rugp.","Rugs.","Spal.","Lapkr.","Gruod.",""],},"ru-RU":{DayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],DayNamesMiddle:["вос","пон","вто","сре","чет","пят","суб"],DayNamesShort:["вс","пн","вт","ср","чт","пт","сб"],MonthNames:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря",""],MonthNamesShort:["янв.","февр.","марта","апр.","мая","июня","июля","авг.","сент.","окт.","нояб.","дек.",""],},"sr-Latn-CS":{DayNames:["Nedelja","Ponedeljak","Utorak","Sreda","Četvrtak","Petak","Subota"],DayNamesMiddle:["Ned","Pon","Uto","Sre","Čet","Pet","Sub"],DayNamesShort:["Ne","Po","Ut","Sr","Če","Pe","Su"],MonthNames:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar",""],MonthNamesShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec",""],},"zh-CN":{DayNames:["周日","周一","周二","周三","周四","周五","周六"],DayNamesMiddle:["周日","周一","周二","周三","周四","周五","周六"],DayNamesShort:["日","一","二","三","四","五","六"],MonthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],MonthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],AMDesignator:["上午","上午","上午"],PMDesignator:["下午","下午","下午"]},"zh-TW":{DayNames:["周日","周一","周二","周三","周四","周五","周六"],DayNamesMiddle:["周日","周一","周二","周三","周四","周五","周六"],DayNamesShort:["日","一","二","三","四","五","六"],MonthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],MonthNamesShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],AMDesignator:["上午","上午","上午"],PMDesignator:["下午","下午","下午"]},"pt-PT":{DayNames:["Domingo","Segunda-Feira","Terça-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","Sábado"],DayNamesMiddle:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],DayNamesShort:["Do","Sg","Tc","Qt","Qu","Sx","Sá"],MonthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro",""],MonthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez",""],AMDesignator:["AM","am","AM"],PMDesignator:["PM","pm","PM"]},};var DateFormat="d/M/yyyy";var DateLongFormat="dddd, MMMM dd, yyyy";var TimeFormat="h:mm tt";var TimeLongFormat="h:mm:ss tt";var DateWithTimeFormat=DateLongFormat+" "+TimeFormat;var DateWithTimeLongFormat=DateLongFormat+" "+TimeLongFormat;TimeFormat="H:mm";TimeLongFormat="H:mm:ss";CurrencySymbol="TL";CurrencyPattern=["(n $)","n $"];function PrepareGlobalization(p_Culture){$.cultures["default"].isRTL=false;if(p_Culture=="ar-SA"||p_Culture=="fa-IR"){$.cultures["default"].isRTL=true}if(!CalendarValues[p_Culture]){p_Culture="en-US"}var DateTimeFormats=EP.Localization.CultureFormatDetails;if(DateTimeFormats.ShortDateFormat){DateFormat=DateTimeFormats.ShortDateFormat}else{DateFormat="d/M/yyyy"}if(DateTimeFormats.LongDateFormats){DateLongFormat=DateTimeFormats.LongDateFormats}else{DateLongFormat="dddd, MMMM dd, yyyy"}if(DateTimeFormats.ShortTimeFormats){TimeFormat=DateTimeFormats.ShortTimeFormats}else{TimeFormat="H:mm"}if(DateTimeFormats.DigitCount){DecimalCount=DateTimeFormats.DigitCount}else{DecimalCount=2}if(DateTimeFormats.DigitCount){DecimalCount=DateTimeFormats.DigitCount}else{DecimalCount=2}if(DateTimeFormats.DecimalSeperator){DecimalSeperator=DateTimeFormats.DecimalSeperator}else{DecimalSeperator=","}if(DateTimeFormats.GroupSeperator){GroupSeperator=DateTimeFormats.GroupSeperator}else{GroupSeperator="."}if(CalendarValues[p_Culture].AMDesignator){AMDesignator=CalendarValues[p_Culture].AMDesignator}else{AMDesignator=["AM","am","AM"]}if(CalendarValues[p_Culture].PMDesignator){PMDesignator=CalendarValues[p_Culture].PMDesignator}else{PMDesignator=["PM","pm","PM"]}TimeLongFormat=TimeFormat;DateWithTimeFormat=DateFormat+" "+TimeFormat;DateWithTimeLongFormat=DateLongFormat+" "+TimeFormat;var DayNames=CalendarValues[p_Culture].DayNames;var DayNamesMiddle=CalendarValues[p_Culture].DayNamesMiddle;var DayNamesShort=CalendarValues[p_Culture].DayNamesShort;var MonthNames=CalendarValues[p_Culture].MonthNames;var MonthNamesShort=CalendarValues[p_Culture].MonthNamesShort;$.cultures["default"].numberFormat={pattern:["-n"],decimals:DecimalCount,",":GroupSeperator,".":DecimalSeperator,groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:DecimalCount,groupSizes:[3],",":GroupSeperator,".":DecimalSeperator,symbol:"%"},currency:{pattern:CurrencyPattern,decimals:DecimalCount,groupSizes:[3],",":GroupSeperator,".":DecimalSeperator,symbol:CurrencySymbol}};$.cultures["default"].calendars.standard=$.cultures["default"].calendar={name:"default","/":"/",":":":",firstDay:FirstDay,days:{names:DayNames,namesAbbr:DayNamesMiddle,namesShort:DayNamesShort},months:{names:MonthNames,namesAbbr:MonthNamesShort},AM:AMDesignator,PM:PMDesignator,eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:DateFormat,D:DateLongFormat,t:TimeFormat,T:TimeLongFormat,f:DateWithTimeFormat,F:DateWithTimeLongFormat,M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}};$.datepicker.regional["default"]={closeText:"close",prevText:"&#x3c;prev",nextText:"next&#x3e",currentText:"today",monthNames:MonthNames,monthNamesShort:MonthNamesShort,dayNames:DayNames,dayNamesShort:DayNamesMiddle,dayNamesMin:DayNamesShort,weekHeader:"Hf",dateFormat:DateFormat,firstDay:FirstDay,isRTL:$.cultures["default"].isRTL,showMonthAfterYear:false,yearSuffix:""};$.datepicker.setDefaults($.datepicker.regional["default"])}Date.prototype.toShortString=function(){return $.format(this,"d")};Date.prototype.toLongString=function(){return $.format(this,"D")};Date.prototype.toShortMonthDayString=function(){return $.format(this,"ddd d MMM")};Date.prototype.toDateString=function(){return $.format(this,"ddd MM dd yyyy")};Date.prototype.toFormattedDate=function(format){if(format!=undefined&&format.length>0){return $.format(this,format)}return this};Date.prototype.toTimeString=function(){return $.format(this,"t")};Date.prototype.toLongTimeString=function(){return $.format(this,"T")};Number.prototype.toNumberString=function(){return $.format(this*1,"n")};Number.prototype.toIntString=function(){return $.format(this*1,"n").split(DecimalSeperator)[0]};Number.prototype.toCurrencyString=function(){return $.format(this*1,"c")};String.prototype.toNumberString=function(){return this};EP.Glob={NumberToString:function(value){return(value*1).toNumberString()},NumberToCurrencyString:function(value){return(value*1).toCurrencyString()},StringToNumber:function(value){if(value==undefined||value.length==0){return null}return $.parseFloat(value,"n")},StringToCurrency:function(value){if(value==undefined||value.length==0){return null}return $.parseFloat(value,"c")},DateToString:function(value){return value.toString()},DateToLongString:function(value){return value.toString()},StringToDate:function(value){if(value==undefined||value.length==0){return null}return $.parseDate(value,"d")},CurrencyReplacer:function(currency){if(EP.BaseFunctions.IsUndefined(currency)){return""}if(currency=="EUR"){return"€"}else{if(currency=="USD"){return"$"}else{if(currency=="JPY"){return"¥"}else{if(currency=="GBP"){return"£"}else{return currency}}}}}};EP.Less={ParamValues:null,SetParamValues:function(argParamValues){this.ParamValues=argParamValues;this.ApplyLess()},ApplyLess:function(){less.modifyVars(ParamValues)}};function AfterPageReady(){if(EP.Layout.CurrentPage=="Home"){var lastTab=$("#MainPageTabs li").last().index();$("#MainPageTabs").tabs({selected:lastTab})}else{$("#MainPageTabs").tabs({select:function(event,ui){EP.EventManager.trigger("TabSelected_"+ui.panel.id,{Event:event,Ui:ui})}})}if(EP.EventManager.getState("ActiveTab")){var ActiveTab=EP.EventManager.getState("ActiveTab");if(ActiveTab.indexOf("Zone")==-1){ActiveTab+="Zone"}$("#MainPageTabs").tabs("select","#"+ActiveTab)}$(".menulinks:first-child").addClass("ui-state-active");$("#HomeMenuLink").attr("href","#");if(EP.DataManager.GetRuleValue("EnableRailModule")=="True"){$("#TrainMenuLink").attr("href","#Page=Train")}else{$("#TrainMenuLink").hide();$("#TrainZoneText").hide()}var NeedFlightSubMenu=false;if(EP.DataManager.GetRuleValue("Modules_AllowFlightScheduleDriven")=="True"){NeedFlightSubMenu=true;if(EP.StateManager("ScheduleSearchRequest")&&EP.StateManager("ScheduleSearchResults")&&EP.StateManager("ScheduleSearchResults")[EP.StateManager("ScheduleSearchRequest").SearchKey]){$("#FlightScheduleMenuLink").attr("href","#Page=ResultSchedule")}else{$("#FlightScheduleMenuLink").attr("href","#Page=FlightSchedule")}}else{$("#FlightScheduleMenuLink").hide()}if(EP.DataManager.GetRuleValue("Modules_AllowFlightTimeTableDriven")=="True"){NeedFlightSubMenu=true;if(EP.StateManager("TimeTableSearchRequest")&&EP.StateManager("TimeTableSearchResults")&&EP.StateManager("TimeTableSearchResults")[EP.StateManager("TimeTableSearchRequest").SearchKey]){$("#FlightTimeTableMenuLink").attr("href","#Page=ResultTimeTable")}else{$("#FlightTimeTableMenuLink").attr("href","#Page=FlightTimeTable")}}else{$("#FlightTimeTableMenuLink").hide()}var FlightMenuLinkId="#FlightMenuLink";if(NeedFlightSubMenu){EP.EventManager.bindEvent("#FlightMenuOpenLink","mouseenter",function(){$("#FlightMenuSubLinks").show()})}else{FlightMenuLinkId="#FlightMenuOpenLink"}if(EP.Flight){if(EP.StateManager("SearchRequest")&&EP.StateManager("SearchResults")&&EP.StateManager("SearchResults")[EP.StateManager("SearchRequest").SearchKey]){$(FlightMenuLinkId).attr("href","#Page=Result")}else{$(FlightMenuLinkId).attr("href","#Page=Flight")}}if(EP.DataManager.GetRuleValue("EnableRailModule")=="True"){if(EP.Train){if(EP.StateManager("TrainSearchRequest")&&EP.StateManager("TrainSearchResults")&&EP.StateManager("TrainSearchResults")[EP.StateManager("TrainSearchRequest").SearchKey]){$("#TrainMenuLink").attr("href","#Page=TrainResult")}else{$("#TrainMenuLink").attr("href","#Page=Train")}}}else{$("#TrainMenuLink").hide()}EP.EventManager.bindEvent("#HomeMenuLink, #HotelMenuLink, #headertop","mouseenter",function(){$("#FlightMenuSubLinks").hide()});EP.EventManager.bindEvent("#FlightMenuSubLinks","mouseleave",function(){$("#FlightMenuSubLinks").hide()});if(EP.DataManager.GetRuleValue("AllowHotel")&&EP.DataManager.GetRuleValue("AllowHotel").toLowerCase()=="true"){if(EP.Hotel){if(EP.StateManager("HotelSearchRequest")&&EP.StateManager("HotelSearchResults")&&EP.StateManager("HotelSearchResults")[EP.StateManager("HotelSearchRequest").SearchKey]){$("#HotelMenuLink").attr("href","#Page=HotelResult")}else{$("#HotelMenuLink").attr("href","#Page=Hotel")}}}else{$("#HotelMenuLink").hide();$("#HotelZoneText").hide()}if(EP.DataManager.GetRuleValue("AllowCar")&&EP.DataManager.GetRuleValue("AllowCar").toLowerCase()=="true"){if(EP.Car){if(EP.StateManager("CarSearchRequest")&&EP.StateManager("CarSearchResults")&&EP.StateManager("CarSearchResults")[EP.StateManager("CarSearchRequest").SearchKey]){$("#CarMenuLink").attr("href","#Page=CarSearchResult")}else{$("#CarMenuLink").attr("href","#Page=Car")}}}else{$("#CarMenuLink").hide();$("#CarZoneText").hide()}if(EP.DataManager.GetRuleValue("Modules_AllowPackage")&&EP.DataManager.GetRuleValue("Modules_AllowPackage").toLowerCase()=="true"){if(EP.Package){if(EP.StateManager("PackageResultObject")&&EP.StateManager("PackageResultObject").DefaultPackage){$("#PackageMenuLink").attr("href","#Page=PackageResult")}else{$("#PackageMenuLink").attr("href","#Page=Package")}}}else{if(!$("#PackageMenuLink").hasClass("FrenchPackageLink")){$("#PackageMenuLink").hide()}if(!$("#PackageZoneText").hasClass("FrenchPackageLink")){$("#PackageZoneText").hide()}}$(".menuselected").removeClass("menuselected");var CurrentPage=EP.Layout.CurrentPage.replace("SearchResults","").replace("Results","");if(EP.Layout.CurrentPage=="Results"){CurrentPage="Flight"}if(CurrentPage=="Flight"){$(FlightMenuLinkId).addClass("menuselected")}else{$("#"+CurrentPage+"MenuLink").addClass("menuselected")}EP.EventManager.bindEvent(".CultureChangeLink","click",function(e){var CultureCode=$(e.target).attr("id");EP.EventManager.pushState({Name:"Culture",Value:CultureCode,ForURL:true})});EP.EventManager.bindEvent(".fn_PackageProfile","click",function(){EP.EventManager.pushState({Name:"Page",Value:"PackageProfile",ForURL:true})});EP.EventManager.bindEvent(".fn_GotoBasket","click",function(){if(EP.Layout.CurrentPage=="Home"||EP.Layout.CurrentPage=="Flight"){if(EP.Layout.settings.Mode!="Edit"){EP.Flight.FromObj2URL(false);EP.Flight.AdvancedRefIndex=true}}EP.EventManager.pushState({Name:"Page",Value:"Basket",ForURL:true})});EP.EventManager.bindEvent(".fn_GoToMyTask","click",function(){EP.EventManager.pushState({Name:"Page",Value:"MyTrip",ForURL:true})});EP.EventManager.bindEvent(".fn_GoToSupportCenter","click",function(){var officeID="";var userName="";if(EP.StateManager("GeneralInformation")){officeID=EP.StateManager("GeneralInformation").OfficeID}if(EP.StateManager("CurrentUserName")){userName=EP.StateManager("CurrentUserName")}window.open("https://mye-supportcentre.amadeus.com/eTass/tass/launchetass.do?officeId="+officeID+"&sign="+userName)});EP.EventManager.bindEvent(".fn_Weather","click",function(){if($(".WeatherFrame").length==0){$("body").append($("<div/>",{"class":"WeatherFrame"}));$(".WeatherFrame").html("<iframe src='http://info-clickandsell.traveltainment.eu/' width='680px' height='680px' scrolling='no'></iframe>")}$(".WeatherFrame").dialog({modal:true,width:720,height:750})});if($("select[name=CultureList]").length>0){$("select[name=CultureList]").combobox();EP.EventManager.bindEvent("select[name=CultureList]","change",function(){EP.EventManager.pushState({Name:"Culture",Value:$("select[name=CultureList]").val(),ForURL:true})});EP.BaseFunctions.SetComboBoxValue("","CultureList",EP.Localization.Culture)}EP.EventManager.bindEvent(".fn_AgencyRulesPopup","click",function(){EP.BaseFunctions.ShowAgencyRules()});EP.EventManager.bind("ModulesArePlaced",{Run:function(){if(EP.Layout.settings.Mode!="Edit"){if(EP.Layout.CurrentPage=="Home"){if($("#RightZone").length>0&&$("#RightZone").html().trim().length==0){$("#RightZone").html("&nbsp;")}}if(EP.Layout.CurrentLayout.PageOptions.ContentLayout=="ResultPage"){if($("#RightZone").length>0&&$("#RightZone").html().trim().length==0){$("#RightZone").hide()}if($("#LeftZone").length>0&&$("#LeftZone").html().trim().length==0){$("#LeftZone").hide()}}}}})}EP.HtmlModule={TemplateNameForContainer:"Default",TemplateName:"HtmlModule",ContainerClass:".HtmlModule",Mode:"Edit",EditorObject:null,EditSaveButtonsVisibility:false,_Init:function(){EP.EventManager.bind("HtmlModuleSaveContent",{Run:this.SaveContent});EP.EventManager.bind("HtmlModuleModeChange",{Run:this.ModeChange});var ParentObj=this;EP.BaseFunctions.AppendTemplate({ContainerTemplateName:this.TemplateNameForContainer,Data:{},Target:this.ContainerClass,SuccessF:function(){EP.HtmlModule.FillModule(ParentObj)}})},Init:function(ParentObj){ParentObj._Init()},Get:function(){return this.Mode},FillModule:function(ParentObj){ParentObj._FillModule()},_FillModule:function(){EP.BaseFunctions.AppendTemplate({TemplateName:this.TemplateName,Data:{EditSaveButtonsVisibility:this.GetEditSaveButtonsVisibility()},Target:this.ContainerClass+" .Content"});this.ModuleReady()},GetEditSaveButtonsVisibility:function(){var EditSaveButtonsVisibility=false;if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1){EditSaveButtonsVisibility=true}if(this.ContainerClass.indexOf("AgencyRules")!=-1&&EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsAgencyRules")!=-1||EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHeaderFooterAdmin")!=-1)){EditSaveButtonsVisibility=true}if(this.ContainerClass.indexOf("StaticHeaderPanel")!=-1||this.ContainerClass.indexOf("StaticFooterPanel")!=-1){$(this.ContainerClass+" .Content").removeClass("ui-widget-content");if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHeaderFooterAdmin")!=-1){EditSaveButtonsVisibility=true}else{EditSaveButtonsVisibility=false}}return EditSaveButtonsVisibility},ModuleReady:function(){var LayoutID=this.IsStaticModule?EP.Layout.CurrentStaticLayoutID:EP.Layout.CurrentLayoutID;if(this.LayoutID){LayoutID=this.LayoutID}var htmlObject={LayoutID:LayoutID,UniqKey:this.ModuleID,AlternateUniqKey:this.AlternateUniqKey};var Layout=htmlObject.LayoutID;if(this.ContainerClass.indexOf("AgencyRules")!=-1||this.ContainerClass.indexOf("StaticHeaderPanel")!=-1||this.ContainerClass.indexOf("StaticFooterPanel")!=-1){if(EP.StateManager("GeneralInformation").IsB2B2C){htmlObject.IsSubAgencyHtmlModule=true;Layout="SubAgencyHtmlModule"}else{htmlObject.IsPortalHeaderFooter=true;Layout="PortalHeaderFooter"}}if(this.IsSpanishResidentPopup){htmlObject.IsSpanishResidentPopup=true;Layout="SpanishResidentPopup"}var ModuleObj=this;var CacheKey=Layout+"-"+htmlObject.UniqKey+"-"+htmlObject.AlternateUniqKey+"-"+this.ContainerClass+"-"+EP.Localization.Culture;CacheKey=EP.BaseFunctions.ReplaceAll(CacheKey,"-","");var CacheHTML=EP.StateManager("CacheHTML_"+CacheKey);if(!EP.BaseFunctions.IsUndefined(CacheHTML)&&!this.GetEditSaveButtonsVisibility()){$(ModuleObj.ContainerClass+" #CustomHTML").html(CacheHTML)}else{EP.DataManager.GetData({Method:InitializeService+"/GetLayoutHtmlContent",Data:'{"p_RQ":'+JSON.stringify(htmlObject)+"}",Type:"POST",self:this,Success:function(p_Data){$(this.self.ContainerClass+" #CustomHTML").html(p_Data.HtmlContent);if(EP.BaseFunctions.IsUndefined(p_Data.HtmlContent)){p_Data.HtmlContent=""}EP.StateManager("CacheHTML_"+CacheKey,p_Data.HtmlContent,true)}})}EP.EventManager.bindEvent(this.ContainerClass+" button[name=Save]","click",function(){EP.EventManager.trigger("HtmlModuleSaveContent",ModuleObj)});EP.EventManager.bindEvent(this.ContainerClass+" button[name=Edit]","click",function(){EP.EventManager.trigger("HtmlModuleModeChange",ModuleObj)});EP.EventManager.trigger("HtmlModuleModeChange",ModuleObj);$(this.ContainerClass+" .tinymce").hide();$(this.ContainerClass+" button[name=Save]").hide()},_ShowEditorFunc:function(){this.EditorObject=$(this.ContainerClass+" .tinymce").tinymce();this.EditorObject.show();this.EditorObject.setContent($(this.ContainerClass+" #CustomHTML").html())},ShowEditorFunc:function(ParentObj){ParentObj._ShowEditorFunc()},OpenEditor:function(){if(this.EditorObject){this.ShowEditorFunc(this)}else{var ModuleObj=this;var DSNPath="scripts/DSN/";if(EP.StateManager("GeneralInformation").IsB2B2CHostAdmin){DSNPath="../scripts/DSN/"}EP.Layout.GetScriptEx(DSNPath+"tiny_mce/jquery.tinymce.js",function(){$(ModuleObj.ContainerClass+" .tinymce").tinymce({script_url:DSNPath+"tiny_mce/tiny_mce_src.js",theme:"advanced",plugins:"autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,advlist",theme_advanced_buttons1:"bold,italic,underline,strikethrough,|,bullist,numlist,|,outdent,indent,blockquote,|,justifyleft,justifycenter,justifyright,justifyfull,styleselect,formatselect,fontselect,fontsizeselect",theme_advanced_buttons2:"cut,copy,paste,pastetext,pasteword,|,search,replace,|,undo,redo,|,link,unlink,anchor,image,cleanup,code,|,insertdate,inserttime,preview,|,insertlayer,moveforward,movebackward,absolute,|,styleprops,|,attribs,|,visualchars,nonbreaking,pagebreak",theme_advanced_buttons3:"forecolor,backcolor,|,tablecontrols,|,hr,removeformat,visualaid,|,sub,sup,|,charmap,media,advhr,|,print,|,ltr,rtl,|,fullscreen",theme_advanced_toolbar_location:"top",theme_advanced_toolbar_align:"left",theme_advanced_statusbar_location:"bottom",theme_advanced_resizing:false,oninit:function(){ModuleObj.ShowEditorFunc(ModuleObj)},force_hex_style_colors:true})},true)}},_SaveContent:function(){if(this.EditorObject){this.EditorObject.save();EP.EventManager.trigger("HtmlModuleModeChange",this);var htmlObject=new Object();var LayoutID=this.IsStaticModule?EP.Layout.CurrentStaticLayoutID:EP.Layout.CurrentLayoutID;if(this.LayoutID){LayoutID=this.LayoutID}htmlObject.LayoutID=LayoutID;htmlObject.UniqKey=this.ModuleID;htmlObject.PageLayoutHtmlContent=this.EditorObject.getContent();htmlObject.IsAgencyRulesPage=this.ContainerClass.indexOf("AgencyRules")!=-1;if(this.ContainerClass.indexOf("AgencyRules")!=-1||this.ContainerClass.indexOf("StaticHeaderPanel")!=-1||this.ContainerClass.indexOf("StaticFooterPanel")!=-1){if(EP.StateManager("GeneralInformation").IsB2B2C){htmlObject.IsSubAgencyHtmlModule=EP.StateManager("GeneralInformation").IsB2B2CHostAdmin}else{htmlObject.IsPortalHeaderFooter=true}}if(this.IsSpanishResidentPopup){htmlObject.IsSpanishResidentPopup=true}EP.DataManager.GetData({Method:GeneralService+"/SaveLayoutHtmlContent",Data:'{"p_RQ":'+JSON.stringify(htmlObject)+"}",Type:"POST"})}},SaveContent:function(ParentObj){ParentObj._SaveContent()},_ModeChange:function(){if(this.Mode=="Show"){this.Mode="Edit";this.OpenEditor();$(this.ContainerClass+" #CustomHTML").hide();$(this.ContainerClass+" button[name=Save]").show()}else{this.Mode="Show";$(this.ContainerClass+" #CustomHTML").show();if(this.EditorObject){$(this.ContainerClass+" #CustomHTML").html(this.EditorObject.getContent());this.EditorObject.hide()}$(this.ContainerClass+" button[name=Save]").hide()}},ModeChange:function(ParentObj){ParentObj._ModeChange()}};EP.IFrameModule={TemplateData:null,TemplateNameForContainer:"Default",TemplateName:"IFrameModule",FormData:null,ContainerClass:".IFrameModule",CaptionText:"",ExternalModuleParameters:{IFrameTitle:{Text:"Title",Value:"IFrame Title"},IFrameURL:{Text:"URL (usable parameters : {UserName}, {OfficeID}, {Culture}, {UserID}, {SessionID}, {Url})",Value:""},IFrameWidth:{Text:"Width",Value:"100%"},IFrameHeight:{Text:"Height",Value:"200px"},IFrameScrolling:{Text:"Scrolling",Value:"auto",ControlType:"ComboBox",Items:[{Text:"Auto",Value:"auto"},{Text:"Yes",Value:"yes"},{Text:"No",Value:"no"}]},UsePost:{Text:"Use Post Method",Value:false,ControlType:"CheckBox"},PostParametersNames:{Text:"Post Parameters Names",Value:""}},_Init:function(){var ParentObj=this;EP.BaseFunctions.AppendTemplate({ContainerTemplateName:this.TemplateNameForContainer,Data:{},Target:this.ContainerClass,SuccessF:function(){EP.IFrameModule.FillModule(ParentObj)}})},Init:function(ParentObj){ParentObj._Init()},FillModule:function(ParentObj){ParentObj._FillModule()},_FillModule:function(){this.CaptionText=EP.Layout.getModuleParam(this,"IFrameTitle");this.ModuleReady();$(this.ContainerClass+" .Caption").html(EP.Layout.getModuleParam(this,"IFrameTitle"))},ModuleReady:function(){EP.BaseFunctions.AppendTemplate({TemplateName:this.TemplateName,Data:{},Target:this.ContainerClass+" .Content",SuccessF:null});var UserName="";var UserID="";var SiteUrl=EP.BaseFunctions.GetSiteURL();if(EP.StateManager("LoggedInUser")){if(EP.StateManager("LoggedInUser").User){UserID=EP.StateManager("LoggedInUser").User.UserInformation.CustomerUserID}UserName=EP.StateManager("CurrentUserName")}var IframeURL=EP.Layout.getModuleParam(this,"IFrameURL");if(location.href.indexOf("https://")!=-1){IframeURL=EP.BaseFunctions.ReplaceAll(IframeURL,"http://","https://")}if(EP.Layout.getModuleParam(this,"UsePost")&&EP.Layout.getModuleParam(this,"PostParametersNames")){var params=EP.Layout.getModuleParam(this,"PostParametersNames");params=params.split(",");var formhtml="<div style='display:none'><form method='post' action='"+IframeURL+"'>";var formparamname="";var formparamvalue="";for(var i=0;i<params.length;i++){formparamname=$.trim(params[i].split("=")[0]);formparamvalue=$.trim(params[i].split("=")[1]);if(formparamvalue=="{UserName}"){formparamvalue=UserName}else{if(formparamvalue=="{OfficeID}"&&EP.StateManager("GeneralInformation")){formparamvalue=EP.StateManager("GeneralInformation").OfficeID}else{if(formparamvalue=="{Culture}"){formparamvalue=EP.Localization.Culture}else{if(formparamvalue=="{SessionID}"&&EP.StateManager("GeneralInformation")){formparamvalue=EP.StateManager("GeneralInformation").SessionID}else{if(formparamvalue=="{UserID}"){formparamvalue=UserID}else{if(formparamvalue=="{Url}"){formparamvalue=SiteUrl}}}}}}formhtml+="<input name='"+formparamname+"' value='"+formparamvalue+"'>"}formhtml+="</form></div>";var IFrameID=this.ContainerClass.replace("#","")+"_IFrame";var tmpIframe=$("<iframe/>",{id:IFrameID,width:EP.Layout.getModuleParam(this,"IFrameWidth"),Height:EP.Layout.getModuleParam(this,"IFrameHeight"),Scrolling:EP.Layout.getModuleParam(this,"IFrameScrolling")});$(this.ContainerClass+" .IFrameModules").append(tmpIframe);$.browser.chrome=/chrome/.test(navigator.userAgent.toLowerCase());if($.browser.chrome){tmpIframe.contents().find("body").append(formhtml);tmpIframe.contents().find("body form").submit()}else{tmpIframe.load(function(){tmpIframe.unbind("load");tmpIframe.contents().find("body").append(formhtml);tmpIframe.contents().find("body form").submit()})}}else{if(EP.StateManager("GeneralInformation")){IframeURL=IframeURL.replace("{OfficeID}",EP.StateManager("GeneralInformation").OfficeID);IframeURL=IframeURL.replace("{SessionID}",EP.StateManager("GeneralInformation").SessionID)}IframeURL=IframeURL.replace("{UserName}",UserName);IframeURL=IframeURL.replace("{Culture}",EP.Localization.Culture);IframeURL=IframeURL.replace("{UserID}",UserID);IframeURL=IframeURL.replace("{Url}",SiteUrl);$(this.ContainerClass+" .IFrameModules").append($("<iframe/>",{src:IframeURL,width:EP.Layout.getModuleParam(this,"IFrameWidth"),Height:EP.Layout.getModuleParam(this,"IFrameHeight"),Scrolling:EP.Layout.getModuleParam(this,"IFrameScrolling"),frameBorder:"0"}))}}};EP.Login={LoginRequest:null,TemplateData:null,TemplateNameForContainer:"Default",TemplateName:"Login",FormData:null,ContainerClass:".Login",Init:function(){EP.BaseFunctions.AppendTemplate({ContainerTemplateName:EP.Login.TemplateNameForContainer,Data:{},Target:EP.Login.ContainerClass,SuccessF:EP.Login.FillModule});EP.EventManager.bind("Login",{Run:EP.Login.UserLogin})},FillModule:function(){$(EP.Login.ContainerClass+" .Caption").html(EP.Localization.Get("TemplatedWrapper.Login.Caption","Login)"));EP.DataManager.GetData({Method:InitializeService+"/LoginInit",Data:"{}",Type:"GET",Success:function(p_Data){EP.Login.FormData=p_Data;EP.Login.TemplateData=p_Data.User.LoginInformation;EP.BaseFunctions.AppendTemplate({TemplateName:EP.Login.TemplateName,Data:EP.Login.TemplateData,Target:EP.Login.ContainerClass+" .Content",SuccessF:EP.Login.ModuleReady})}})},ModuleReady:function(){EP.BaseFunctions.ApplyTemplateEditor(EP.Login);EP.BaseFunctions.ValidateFormPrepare(EP.Login.ContainerClass,EP.Login.FormData.Rules);$(EP.Login.ContainerClass+" input[name=UserName]").focus();EP.EventManager.bindEvent(EP.Login.ContainerClass+" button[name=Login]","click",function(){EP.EventManager.trigger("Login")});EP.EventManager.bindEvent(EP.Login.ContainerClass+" .fn_PasswordRecoverLink","click",EP.Login.PassRecoverEvent);EP.EventManager.bindEvent(EP.Login.ContainerClass+" .fn_RegisterSubAgency","click",function(){EP.EventManager.clearUrlStates();EP.EventManager.pushState({Name:"Page",Value:"SubAgencyRegistration",ForURL:true})});if(EP.StateManager("ShowMustLoginMessage")){EP.StateManager.Remove("ShowMustLoginMessage");$().toastmessage("showToast",{text:EP.Localization.Get("Please log-in to continue"),sticky:false,type:"warning",position:"middle-center"})}},UserLogin:function(LoginOptions){var credentials=null;if(!LoginOptions||!LoginOptions.CreatedUserName){if(EP.EventManager.trigger("SearchValidation",{ContainerClass:EP.Login.ContainerClass})){credentials='{"p_UserLoginInformation":'+JSON.stringify(EP.Login.FromUI2Obj())+"}"}else{return}}else{credentials=JSON.stringify({UserName:LoginOptions.CreatedUserName,Password:LoginOptions.CreatedUserPassword,CorporateID:LoginOptions.CorporateID})}EP.BaseFunctions.ShowLoading();EP.DataManager.GetData({Method:GeneralService+"/LoginRun",Data:credentials,Type:"POST",ContainerClass:EP.Login.ContainerClass,Success:function(p_Data){if(p_Data.Succeded){if(LoginOptions&&LoginOptions.LoginUserSuccessCallback){LoginOptions.LoginUserSuccessCallback(p_Data)}else{EP.Login.SuccessLogin(p_Data)}}else{if(p_Data.HasCorporateOptions){if($("body .CorporateOptionsDialog").length==0){$("body").append($("<div/>",{"class":"CorporateOptionsDialog"}))}EP.BaseFunctions.AppendTemplate({TemplateName:"CorporateListSelection",Data:p_Data,Target:"body .CorporateOptionsDialog"});$(".CorporateOptionsDialog").dialog({modal:true,title:"",width:430,height:175,buttons:[{text:EP.Localization.Get("AWCButton.Ok.Text","Ok"),click:function(){if(EP.Layout.CurrentPage!="Login"){LoginOptions.CorporateID=EP.BaseFunctions.GetFormControlValue(".CorporateOptionsDialog","DropCorporate");EP.Login.UserLogin(LoginOptions)}else{EP.EventManager.trigger("Login")}$(this).dialog("close")}},{text:EP.Localization.Get("AWCButton.Cancel.Text","Cancel"),click:function(){$(this).dialog("close")}}],close:function(){$("body .CorporateOptionsDialog").remove()}})}}}})},SuccessLogin:function(LoginRunResult){EP.BaseFunctions.FillGeneralInformation(function(){EP.LoginStatus.InitLoginInformation(LoginRunResult);if(EP.StateManager("GoAfterLoginThisPage")){EP.EventManager.clearUrlStates();EP.EventManager.pushState({Name:"Page",Value:EP.StateManager("GoAfterLoginThisPage"),ForURL:true});EP.StateManager.Remove("GoAfterLoginThisPage")}else{EP.EventManager.clearUrlStates();var defaultCulture=LoginRunResult.DefaultCulture;if(EP.BaseFunctions.IsUndefined(defaultCulture)){defaultCulture=""}else{defaultCulture="&Culture="+defaultCulture}if(!EP.EventManager.LastStates.PreviousPage&&!EP.BaseFunctions.IsUndefined(EP.DataManager.GetRuleValue("OpenAdvancedSearchForInitialPage"))&&EP.DataManager.GetRuleValue("OpenAdvancedSearchForInitialPage").toLowerCase()=="true"){EP.EventManager.pushState({Name:"Page",Value:"Flight",ForURL:true});EP.EventManager.pushState({Name:"SwitchAdvancedSearch",Value:true,ForURL:true})}else{if(EP.EventManager.LastStates.PreviousPage&&!(EP.EventManager.LastStates.PreviousPage=="Login"||EP.EventManager.LastStates.PreviousPage=="OfferSummary")){EP.EventManager.pushState({Name:"Page",Value:EP.EventManager.LastStates.PreviousPage+defaultCulture,ForURL:true})}else{EP.EventManager.pushState({Name:"Page",Value:"Home"+defaultCulture,ForURL:true})}}}},true)},SuccessLogout:function(){EP.BaseFunctions.FillGeneralInformation(function(){var defaultCulture="";if(!EP.BaseFunctions.IsUndefined(EP.StateManager("GeneralInformation").DefaultCulture)){var defaultCulture=EP.StateManager("GeneralInformation").DefaultCulture;if(EP.BaseFunctions.IsUndefined(defaultCulture)){defaultCulture=""}else{defaultCulture="&Culture="+defaultCulture}}var LoginRunResult={User:null};EP.LoginStatus.InitLoginInformation(LoginRunResult);$().toastmessage("showToast",{text:EP.Localization.Get("Logout succeeded"),sticky:false,type:"warning",position:"middle-center"});if(EP.StateManager("GeneralInformation").IsB2B2C){EP.Layout.HideUnloadMessage=true;location.href=""}else{EP.EventManager.clearUrlStates();if(EP.StateManager("GeneralInformation").LoginRequired){EP.EventManager.pushState({Name:"Page",Value:"Login"+defaultCulture,ForURL:true})}else{EP.EventManager.pushState({Name:"Page",Value:"Home",ForURL:true})}}},true)},FromUI2Obj:function(){EP.Login.LoginRequest=new Object();EP.Login.LoginRequest.UserName=EP.BaseFunctions.GetFormControlValue(EP.Login.ContainerClass,"UserName");EP.Login.LoginRequest.Password=EP.BaseFunctions.GetFormControlValue(EP.Login.ContainerClass,"Password");EP.Login.LoginRequest.CorporateID=EP.BaseFunctions.GetFormControlValue(".CorporateOptionsDialog","DropCorporate");EP.StateManager("CurrentUserName",EP.Login.LoginRequest.UserName);return EP.Login.LoginRequest},PassRecoverEvent:function(){EP.EventManager.clearUrlStates();EP.EventManager.pushState({Name:"Page",Value:"RecoverPassword",ForURL:true})},ShowConfirmWhenQuit:function(){return(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True"||EP.DataManager.GetRuleValue("Modules_Corporate")=="True")&&EP.DataManager.GetRuleValue("PopupConfirmWhenQuit")=="True"}};EP.LoginStatus={TemplateName:"LoginStatus",TemplateNameForContainer:"Blank",FormData:null,ContainerClass:".LoginStatus",Init:function(){var LoggedInUser=EP.StateManager("LoggedInUser");if(EP.BaseFunctions.IsUndefined(LoggedInUser)){LoggedInUser={}}if(!EP.StateManager("ChangesDebtodCode")){EP.StateManager("ChangesDebtodCode",false)}LoggedInUser.ShowRegisterLink=!(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True"||EP.DataManager.GetRuleValue("Modules_Corporate")=="True");LoggedInUser.ShowAgencyRegisterLink=(EP.DataManager.GetRuleValue("UseAgencyMembershipSystem")!="False"&&EP.DataManager.GetRuleValue("EM_RegisteryUrl"));if(!EP.BaseFunctions.IsUndefined(EP.DataManager.GetRuleValue("InitialUserAuthorization"))&&"REQUIRED_SERVERSIDELOGIN,CLOSEDGROUP_SERVERSIDELOGIN,CLOSEDGROUP_SELFLOGIN".indexOf(EP.DataManager.GetRuleValue("InitialUserAuthorization"))>-1){LoggedInUser.ShowRegisterLink=LoggedInUser.ShowAgencyRegisterLink}EP.BaseFunctions.AppendTemplate({TemplateName:EP.LoginStatus.TemplateName,Data:LoggedInUser,Target:EP.LoginStatus.ContainerClass,SuccessF:EP.LoginStatus.FillModule})},InitLoginInformation:function(p_Data){EP.StateManager("LoggedInUser",p_Data);EP.BaseFunctions.AppendTemplate({TemplateName:EP.LoginStatus.TemplateName,Data:p_Data,Target:EP.LoginStatus.ContainerClass,SuccessF:EP.LoginStatus.FillModule});if($(" select[name='CorporateListOfAgency']").val()=="Select"&&EP.StateManager("OrganizationID")=="Select"){EP.EventManager.trigger("LoginInfo",{})}},FillModule:function(){if($(" select[name='CorporateListOfAgency']").val()!=null){EP.StateManager("OrganizationID",$(" select[name='CorporateListOfAgency']").val());if(EP.StateManager("ChangesDebtodCode")=="false"){EP.LoginStatus.SetCorporateOrganizationID()}}else{$(" select[name='CorporateListOfAgency']").next(".ui-combobox").css({visibility:"hidden"})}EP.EventManager.bindEvent(EP.LoginStatus.ContainerClass+" .fn_Logout","click",EP.LoginStatus.LogOutProccess);EP.EventManager.bindEvent(EP.LoginStatus.ContainerClass+" .fn_Login","click",EP.LoginStatus.LogEvent);EP.EventManager.bindEvent(EP.LoginStatus.ContainerClass+" select[name='CorporateListOfAgency']","change",function(){dialogButtons={};dialogButtons[EP.Localization.Get("Yes")]=function(){if($(" select[name='CorporateListOfAgency']").val()!="Select"){EP.StateManager("OrganizationID",$(" select[name='CorporateListOfAgency']").val());EP.LoginStatus.SetCorporateOrganizationID(function(){EP.DataManager.GetData({Method:GeneralService+"/ClearCorporateHistory",Data:'{"p_RQ":'+JSON.stringify(EP.StateManager("OrganizationID"))+"}",Type:"POST",Success:function(p_Data){EP.StateManager("ChangesDebtodCode",true);EP.EventManager.trigger("ClearSearchAndBookData",{})}})})}else{EP.BaseFunctions.SetComboBoxValue(EP.LoginStatus.ContainerClass,"CorporateListOfAgency",EP.StateManager("OrganizationID"))}$(this).dialog("close")};dialogButtons[EP.Localization.Get("No")]=function(){EP.BaseFunctions.SetComboBoxValue(EP.LoginStatus.ContainerClass,"CorporateListOfAgency",EP.StateManager("OrganizationID"));$(this).dialog("close")};if(EP.StateManager("OrganizationID")!=$(" select[name='CorporateListOfAgency']").val()){if(EP.StateManager("OrganizationID")=="Select"){EP.StateManager("OrganizationID",$(" select[name='CorporateListOfAgency']").val());EP.LoginStatus.SetCorporateOrganizationID(function(){EP.DataManager.GetData({Method:GeneralService+"/ClearCorporateHistory",Data:'{"p_RQ":'+JSON.stringify(EP.StateManager("OrganizationID"))+"}",Type:"POST",Success:function(p_Data){EP.EventManager.trigger("ClearSearchAndBookData",{})}})})}else{$("<div></div>").appendTo("body").html(EP.Localization.Get("AWCWarningMessage change corporate","You changed Corporate Name and will delete chosen data. Are you sure?")).dialog({modal:true,title:"",zIndex:10000,autoOpen:true,width:"auto",resizable:false,buttons:dialogButtons,close:function(event,ui){$(this).remove()}})}}});var re=/^(\{){0,1}[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}(\}){0,1}$/;if(EP.StateManager("OrganizationID")!=null&&re.test(EP.StateManager("OrganizationID"))==false){EP.DataManager.GetData({Method:InitializeService+"/getCorporateOrganization",Data:"{}",Type:"GET",Success:function(p_data){if(p_data.CorporateOrganizationID!=null){EP.BaseFunctions.SetComboBoxValue(EP.LoginStatus.ContainerClass,"CorporateListOfAgency",p_data.CorporateOrganizationID);EP.StateManager("OrganizationID",p_data.CorporateOrganizationID)}}})}EP.EventManager.bindEvent(EP.LoginStatus.ContainerClass+" .fn_Register","click",function(){EP.LoginStatus.RegisterEvent();EP.EventManager.pushState({Name:"Method",Value:"RegisterProcess",ForURL:true})});EP.EventManager.bindEvent(EP.LoginStatus.ContainerClass+" .fn_EditProfile","click",EP.LoginStatus.EditProfileEvent)},RegisterEvent:function(){if(!EP.Layout.PageIsReady){EP.EventManager.bind("PageIsReady",{Run:EP.LoginStatus.RegisterEvent});var PageName="Home";if(EP.EventManager.getState("Page")){PageName=EP.EventManager.getState("Page")}EP.EventManager.trigger("PageChange",{Page:PageName});return}EP.EventManager.remove("PageIsReady");if($("body .Register").length==0){$("<div />").addClass("Register").appendTo("body").dialog({title:EP.Localization.Get("Register"),width:810,height:525,modal:true,resizable:true,buttons:{Cancel:{text:EP.Localization.Get("Register.Cancel.Text","Cancel"),"class":"negative",click:function(){$(this).dialog("close")}},SaveProfile:{text:EP.Localization.Get("TableButton.Save Passenger.Text","Save Profile"),"class":"positive",click:function(){EP.Register.CreateProfile()}}},open:function(){EP.Register.Init()}})}else{$("div.Register").dialog("open")}},SetCorporateOrganizationID:function(callback){EP.DataManager.GetData({Method:GeneralService+"/SetCorporateOrganization",Data:'{"p_RQ":'+JSON.stringify(EP.StateManager("OrganizationID"))+',"DebtorCode":'+JSON.stringify($(" select[name='CorporateListOfAgency'] option:selected").text())+"}",Type:"POST",Success:function(p_Data){EP.BaseFunctions.HideLoading();if(callback!=undefined){callback()}}})},LogEvent:function(){EP.EventManager.pushState({Name:"Page",Value:"Login",ForURL:true})},LogOutProccess:function(){if(EP.Login.ShowConfirmWhenQuit()){if($("#LogOutAlertDialog").length==0){$("body").append($("<div/>",{id:"LogOutAlertDialog"}))}$("#LogOutAlertDialog").dialog({modal:true,width:500,height:"auto",title:EP.Localization.Get("AWCLabel.Sign Out.Text","Sign Out"),buttons:[{text:EP.Localization.Get("AWCLabel.Sign Out Yes.Text","Yes"),click:function(){EP.LoginStatus.LogOutEvent();$(this).dialog("close")},"class":"logoutYes"},{text:EP.Localization.Get("AWCLabel.Sign Out No.Text","No"),click:function(){$(this).dialog("close")},"class":"logoutNo"}]});$("#LogOutAlertDialog").append("p").text(EP.Localization.Get("AWCLabel.OnUnloadMessage.Text","You requested to leave the application. If you proceed without saving your changes, data might be lost. Do you want to leave the application now ?"))}else{EP.LoginStatus.LogOutEvent()}},LogOutEvent:function(){EP.DataManager.GetData({Method:GeneralService+"/LogoutRun",Data:"{}",Type:"GET",Success:function(p_Data){if(p_Data.Succeded){EP.DataManager.GetData({Method:BookingService+"/ClearSearchedResults",Data:"{}",Type:"GET",Success:function(){EP.BaseFunctions.ClearResults();EP.BaseFunctions.ClearBookingData();EP.StateManager("OrganizationID",null);EP.Login.SuccessLogout()}})}}})},EditProfileEvent:function(){EP.EventManager.pushState({Name:"Page",Value:"EditProfile",ForURL:true})},HasCorporateListOfAgency:function(){if(EP.BaseFunctions.IsUndefined(EP.StateManager("GeneralInformation").DataSource)){return false}for(var i=0;i<EP.StateManager("GeneralInformation").DataSource.length;i++){if(EP.StateManager("GeneralInformation").DataSource[i].Name=="CorporateListOfAgency"){return true}}return false}};EP.ValidationPanel={TemplateName:"ValidationPanel",Init:function(){EP.EventManager.bind("ShowValidations",{Run:EP.ValidationPanel.ShowValidations})},ShowValidations:function(Parameters){var Messages=new Object();var MessageCode="";for(var i=Parameters.validator.errorList.length-1;i>=0;i--){MessageCode="";if(Parameters.validator.errorList[i].element){MessageCode+=Parameters.validator.errorList[i].element.name}MessageCode+=Parameters.validator.errorList[i].message;if(!Messages[MessageCode]){Messages[MessageCode]=true}else{Parameters.validator.errorList.splice(i,1)}}var objform=$(Parameters.Target).parents(".DropZone").find("form");if(objform.length>0){EP.EventManager.bindEvent("#"+objform.attr("id"),"keydown",function(){EP.EventManager.unbindEvent("#"+objform.attr("id"),"keydown");$(".ErrorMessagesPanel",$(Parameters.Target).parents(".DropZone")).remove()})}EP.BaseFunctions.AppendTemplate({TemplateName:EP.ValidationPanel.TemplateName,Data:Parameters,Target:Parameters.Target,OnlyFirst:true})}};EP.ValidationPanel.Init();EP.DeepLink={DeepLinkRequest:null,TemplateNameForContainer:"Default",TemplateName:"DeepLink",FormData:null,CaptionText:"",ContainerClass:".DeepLink",ExternalModuleParameters:{ContainerTitle:{Text:"Container Title",Value:"Deep Links"},ColumnCount:{Text:"Number of columns in this container",Value:1,ControlType:"ComboBox",Items:[{Text:"1",Value:1},{Text:"2",Value:2},{Text:"3",Value:3}]},TemplateType:{Text:"Structure of the deep links",Value:"DeepLinkItemText",ControlType:"ComboBox",Items:[{Text:"Description only",Value:"DeepLinkItemTextOnly"},{Text:"Description and price",Value:"DeepLinkItemText"},{Text:"Image, Description and price",Value:"DeepLinkItemTextImg"},{Text:"Image Description",Value:"DeepLinkItemImg"},{Text:"Image Only",Value:"DeepLinkImageOnly"}]},ImageMaxWidth:{Text:"Maximum width of images in this container(in pixels)",ControlType:"Number",Value:"96"},ImageMaxHeight:{Text:"Maximum height of images in this container(in pixels)",ControlType:"Number",Value:"96"},ColumnTitle0:{Text:"Title of the column 1 (optional)",Value:""},ColumnTitle1:{Text:"Title of the column 2 (optional)",Value:""},ColumnTitle2:{Text:"Title of the column 3 (optional)",Value:""},GroupsOfColumn0:{Text:"Groups of deep links to display in column 1 (indicate the group codes separated with semicolons ';')",Value:""},GroupsOfColumn1:{Text:"Groups of deep links to display in column 2 (indicate the group codes separated with semicolons ';')",Value:""},GroupsOfColumn2:{Text:"Groups of deep links to display in column 3 (indicate the group codes separated with semicolons ';')",Value:""},},Init:function(ParentObj){ParentObj._Init()},_Init:function(){var ParentObj=this;EP.DeepLink.FillModule(ParentObj)},FillModule:function(ParentObj){ParentObj._FillModule()},_FillModule:function(){var DeepLinkObj=this;EP.DataManager.GetData({Method:InitializeService+"/DeepLinkInit",Data:'{"p_RQ":'+JSON.stringify(DeepLinkObj.FromUI2Obj())+"}",Type:"POST",Success:function(p_Data){DeepLinkObj.FormData=p_Data;DeepLinkObj.FormData.TemplateType="#"+EP.Layout.getModuleParam(DeepLinkObj,"TemplateType");DeepLinkObj.FormData.ColumnCount=parseInt(EP.Layout.getModuleParam(DeepLinkObj,"ColumnCount"));DeepLinkObj.FormData.ColumnTitles=new Array();DeepLinkObj.FormData.ColumnTitles[0]=EP.Layout.getModuleParam(DeepLinkObj,"ColumnTitle0");DeepLinkObj.FormData.ColumnTitles[1]=EP.Layout.getModuleParam(DeepLinkObj,"ColumnTitle1");DeepLinkObj.FormData.ColumnTitles[2]=EP.Layout.getModuleParam(DeepLinkObj,"ColumnTitle2");if(EP.StateManager("LoggedInUser")&&EP.StateManager("LoggedInUser").User&&EP.StateManager("LoggedInUser").User.UICustomizationRights&&EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1){DeepLinkObj.FormData.IsHostAdmin=true}else{if(EP.BaseFunctions.IsUndefined(p_Data.DeepLinksColumns)){return}}EP.BaseFunctions.AppendTemplate({ContainerTemplateName:DeepLinkObj.TemplateNameForContainer,Data:{},Target:DeepLinkObj.ContainerClass});EP.BaseFunctions.AppendTemplate({TemplateName:DeepLinkObj.TemplateName,Data:DeepLinkObj.FormData,Target:DeepLinkObj.ContainerClass+" .Content",SuccessF:function(){DeepLinkObj.ModuleReady(DeepLinkObj)}})}})},FromUI2Obj:function(){this.DeepLinkRequest=new Object();this.DeepLinkRequest.GroupsOfColumn0=EP.Layout.getModuleParam(this,"GroupsOfColumn0");this.DeepLinkRequest.GroupsOfColumn1=EP.Layout.getModuleParam(this,"GroupsOfColumn1");this.DeepLinkRequest.GroupsOfColumn2=EP.Layout.getModuleParam(this,"GroupsOfColumn2");return this.DeepLinkRequest},ModuleReady:function(){EP.DeepLink.CaptionText=EP.Layout.getModuleParam(this,"ContainerTitle");var DeepLinkModuleObj=this;if(this.FormData.IsHostAdmin){$(this.ContainerClass+" .ImageUploadPanel").each(function(){var DeepLinkID=$(this).attr("DeepLinkID");EP.Layout.AddImageUploadButton(DeepLinkModuleObj.ContainerClass+" .ImageUpload_"+DeepLinkID,false,{Run:function(params){var RQ=new Object();RQ.ImageUrl=params.File;RQ.DeepLinkID=params.BindParams.LinkID;EP.DataManager.GetData({Method:InitializeService+"/DeepLinkImageURLUpdate",Data:'{"p_RQ":'+JSON.stringify(RQ)+"}",Type:"POST",Success:function(p_Data){DeepLinkModuleObj._FillModule()}})},BindParams:{LinkID:DeepLinkID}})})}else{$(this.ContainerClass+" .ImageUploadPanel").replaceWith('<img src="Images/modules/noimage.jpg"  style="max-height: 100px; max-width: 100px"/>')}$(this.ContainerClass+" .DeepLinkImageContainer").each(function(){if(parseInt(EP.Layout.getModuleParam(DeepLinkModuleObj,"ImageMaxWidth"))<$(this).width()){$(this).width(parseInt(EP.Layout.getModuleParam(DeepLinkModuleObj,"ImageMaxWidth")))}if(parseInt(EP.Layout.getModuleParam(DeepLinkModuleObj,"ImageMaxHeight"))<$(this).height()){$(this).height(parseInt(EP.Layout.getModuleParam(DeepLinkModuleObj,"ImageMaxHeight")))}})}};EP.TopLocations={TemplateData:{},TemplateNameForContainer:"Default",TemplateName:"TopLocations",ContainerClass:".TopLocations",Products:["Flight","Hotel","Car","Train","Package"],InvisibleProducts:["Train","Package"],CaptionText:"",ProductAppearList:{Flight:false,Hotel:false,Car:false,Train:false,Package:false},ExternalModuleParameters:{ProductType:{Text:"Override Product Type",Value:"Smart",ControlType:"ComboBox",Items:[{Text:"Smart",Value:"Smart"},{Text:"Flight",Value:"Flight"},{Text:"Hotel",Value:"Hotel"},{Text:"Car",Value:"Car"}]},Scope:{Text:"Scope",Value:"Portal",ControlType:"ComboBox",Items:[{Text:"Market",Value:"Market"},{Text:"Portal",Value:"Portal"}]}},Init:function(){EP.TopLocations.ProductAppearList={Flight:false,Hotel:false,Car:false,Train:false,Package:false};EP.TopLocations.RegisterProducts()},FillModule:function(productName){var moduleLoadedForPage=EP.Layout.IsPageHasModule("TopLocations");if(!moduleLoadedForPage){return}if(EP.Layout.getModuleParam(EP.TopLocations,"ProductType")!=="Smart"){productName=EP.Layout.getModuleParam(EP.TopLocations,"ProductType")}var title="TemplatedWrapper.Top Locations.Caption";switch(productName){case"Flight":title="TemplatedWrapper.Top Locations.Flight.Caption";break;case"Hotel":title="TemplatedWrapper.Top Locations.Hotel.Caption";break;case"Car":title="TemplatedWrapper.Top Locations.Car.Caption";break;default:}EP.TopLocations.CaptionText=EP.Localization.Get(title,"Top Locations");var requestData={UseMarketId:true,UsePortalId:EP.Layout.getModuleParam(EP.TopLocations,"Scope")==="Portal",ProductType:productName};EP.DataManager.GetData({Method:GeneralService+"/GetTopLocations",Data:JSON.stringify(requestData),Type:"POST",Success:function(p_Data){EP.TopLocations.TemplateData.hasData=p_Data.length>0;EP.TopLocations.TemplateData.items=EP.TopLocations.Shuffle(p_Data);EP.BaseFunctions.AppendTemplate({TemplateName:EP.TopLocations.TemplateName,Data:EP.TopLocations.TemplateData,Target:EP.TopLocations.ContainerClass+" .Content",SuccessF:EP.TopLocations.ModuleReady})}})},Shuffle:function(p_Arr){var shuffledArray=p_Arr.slice(0);for(var i=shuffledArray.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=shuffledArray[i];shuffledArray[i]=shuffledArray[j];shuffledArray[j]=temp}return shuffledArray},RegisterProduct:function(product){EP.EventManager.bind("Init_"+product,{Run:function(e){var obj=$(e.ContainerClass);obj.appear(function(){if(EP.TopLocations.InvisibleProducts.indexOf(product)!==-1){$(".TopLocations.widget").hide();return}else{$(".TopLocations.widget").show()}var $element=$(this);for(var i=0;i<EP.TopLocations.Products.length;i++){var lookupProduct=EP.TopLocations.Products[i];if($element.hasClass(lookupProduct)){EP.TopLocations.ApprearProduct(lookupProduct);break}}},{one:false})}})},RegisterProducts:function(){for(var product in EP.TopLocations.ProductAppearList){EP.TopLocations.RegisterProduct(product)}},ApprearProduct:function(productName){EP.BaseFunctions.AppendTemplate({ContainerTemplateName:EP.TopLocations.TemplateNameForContainer,Data:{},Target:EP.TopLocations.ContainerClass,SuccessF:function(){EP.TopLocations.FillModule(productName)}})},ModuleReady:function(){EP.EventManager.bindEvent(EP.TopLocations.ContainerClass+" .link","click",function(e){var linkValues=$.tmplItem(e.target).data.Value;EP.TopLocations.SetSearchForm(linkValues)})},SetSearchForm:function(linkValues){var $toInput;var $toInputHidden;if(linkValues.Type===1){$toInput=$("input[name='To'");$toInputHidden=$("input[name='To_Value'")}else{if(linkValues.Type===2){$toInput=$("input[name='CityCode'");$toInputHidden=$("input[name='CityCode_Value'")}else{if(linkValues.Type===3){$toInput=$("input[name='PickUpLocation'");$toInputHidden=$("input[name='PickUpLocation_Value'");linkValues.ToValue+=" ("+linkValues.Loc2+") (All Locations)"}else{return}}}$toInputHidden.val(linkValues.Loc2+";C");$toInput.val(linkValues.ToValue)}};EP.CurrencySelect={TemplateData:null,TemplateNameForContainer:"Blank",TemplateName:"CurrencySelect",PopupTemplateName:"CurrencySelectPopup",PopupMaxRows:15,ContainerClass:".CurrencySelect",Currencies:null,CurrencyDataSource:null,ExternalModuleParameters:{CurrencySelectTitle:{Text:"Title",Value:"Currency Selector"},CurrencySelectOptions:{Text:"Select a design",Value:"DropDownCode",ControlType:"ComboBox",Items:[{Text:"Dropdown code",Value:"DropDownCode"},{Text:"Dropdown code name",Value:"DropDownCodeName"},{Text:"Popup",Value:"Popup"},]}},Init:function(parentObj){EP.CurrencySelect.Currencies=EP.StateManager("GeneralInformation").Currencies;parentObj._Init()},FillModule:function(parentObj){parentObj._FillModule()},ModuleReady:function(){$(EP.CurrencySelect.ContainerClass+" .Caption").html(EP.Layout.getModuleParam(EP.CurrencySelect,"CurrencySelectTitle"));var self=this;var selectedDesign=self.TemplateData.SelectedDesign;if(!selectedDesign){selectedDesign="DropDownCode"}switch(self.TemplateData.SelectedDesign){case"DropDownCode":EP.CurrencySelect.PrepareDropdownCode.call(self);break;case"DropDownCodeName":EP.CurrencySelect.PrepareDropdownCodeName.call(self);break;case"Popup":EP.CurrencySelect.PrepareCurrencyPopup.call(self);break}},PrepareDropdownCode:function(){var containerClass=EP.CurrencySelect.ContainerClass;EP.EventManager.bindEvent(containerClass+" select[name=CurrencyDropDown]","change",function(){var context=$(containerClass);var toCurrency=$("select[name=CurrencyDropDown]",context).val();EP.CurrencySelect.ConvertCurrency(toCurrency)})},PrepareDropdownCodeName:function(){var containerClass=EP.CurrencySelect.ContainerClass;EP.EventManager.bindEvent(containerClass+" select[name=CurrencyDropDownCodeName]","change",function(){var context=$(containerClass);var toCurrency=$("select[name=CurrencyDropDownCodeName]",context).val();EP.CurrencySelect.ConvertCurrency(toCurrency)})},PrepareCurrencyPopup:function(){var self=this;var wrapper=$("<div />").attr("data-related-module",self.ContainerClass);var currencyDataSource=EP.CurrencySelect.CurrencyDataSource;var popupDataSource=[];var maxRows=EP.CurrencySelect.PopupMaxRows;var columnIndex=0;for(var rowIndex=0;rowIndex<currencyDataSource.length;rowIndex+=maxRows){var currentRows=currencyDataSource.slice(rowIndex,rowIndex+maxRows);popupDataSource[columnIndex]=currentRows;columnIndex=columnIndex+1}EP.BaseFunctions.AppendTemplate({TemplateName:EP.CurrencySelect.PopupTemplateName,Data:{PopupDataSource:popupDataSource},Target:wrapper,SuccessF:function(){wrapper.appendTo("body")}});EP.CurrencySelect.PrepareLinks();EP.EventManager.bindEvent(self.ContainerClass+" .fn_OpenCurrencySelectPopup","click",function(e){var target=$(e.target);EP.CurrencySelect.StopBubbledEvent(e.Event);EP.CurrencySelect.ToggleCurrencyPopup.call(self,target)});$(document).click(function(){EP.CurrencySelect.CloseCurrencyPopup()})},PrepareLinks:function(){EP.EventManager.bindEvent(".fn_ChangeCurrency","click",function(e){var target=$(e.target);var currency=target.data("currency-key");EP.CurrencySelect.ConvertCurrency(currency)})},StopBubbledEvent:function(event){if(event&&event.stopPropagation){event.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}else{if(window.$.Event.prototype){window.$.Event.prototype.stopPropagation()}}}},GetActualWidthOfHiddenElement:function(popupInstance){var actualWidth=0;if(popupInstance){popupInstance.css({visibility:"hidden",display:"block"});actualWidth=popupInstance.outerWidth();popupInstance.css({visibility:"",display:"none"})}return actualWidth},GetRoundedOffset:function(e){var offset={left:0,top:0};if(e){offset.left=Math.round(e.offset().left);offset.top=Math.round(e.offset().top)}return offset},GetRightSpaceByWindow:function(leftValue,sizeOfElement){return Math.round(($(window).width()-(leftValue+sizeOfElement)))},ToggleCurrencyPopup:function(target){var self=this;var context=$("[data-related-module="+self.ContainerClass+"]");var currencyPopupInstance=$(".CurrencyPopup",context);if(!currencyPopupInstance.is(":visible")){var offsetObj=null;var actualWidthOfCurrencyPopup=EP.CurrencySelect.GetActualWidthOfHiddenElement(currencyPopupInstance);var rightSpace=EP.CurrencySelect.GetRightSpaceByWindow(target.offset().left,actualWidthOfCurrencyPopup);target.addClass("CurrencyPopupLinkActive");if(rightSpace>=0){offsetObj={top:(target.offset().top-1+target.outerHeight()),left:target.offset().left}}else{offsetObj={top:(target.offset().top-1+target.outerHeight()),left:(target.offset().left-(actualWidthOfCurrencyPopup-target.outerWidth()))}}currencyPopupInstance.offset(offsetObj).show()}else{EP.CurrencySelect.CloseCurrencyPopup(context,target)}},CloseCurrencyPopup:function(container,target){var context=null;var targetSelector=target||".fn_OpenCurrencySelectPopup";if(container){context=$(container)}$(".CurrencyPopup",context).css({left:0,top:0}).hide();$(targetSelector).removeClass("CurrencyPopupLinkActive")},_Init:function(){var ParentObj=this;EP.BaseFunctions.AppendTemplate({ContainerTemplateName:this.TemplateNameForContainer,Data:{},Target:this.ContainerClass,SuccessF:function(){EP.CurrencySelect.FillModule(ParentObj)}})},FilterArrayByKey:function(array,value){for(var i=0;i<array.length;i++){if(array[i].Key==value){return array[i]}}},_FillModule:function(){var self=this;var selectedCurrency=EP.DataManager.GetRuleValue("SiteCurrency");if(EP.StateManager("SelectedCurrency")!=null){selectedCurrency=EP.StateManager("SelectedCurrency")}selectedCurrencyValue=EP.CurrencySelect.FilterArrayByKey(EP.CurrencySelect.Currencies.code,selectedCurrency).Value;var selectedDesign=EP.Layout.getModuleParam(self,"CurrencySelectOptions");if(!selectedDesign){selectedDesign="DropDownCode"}switch(selectedDesign){case"DropDownCode":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.code;break;case"DropDownCodeName":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.codeDescription;break;case"Popup":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.codeDescription;break}self.TemplateData={CurrencyDataSource:EP.CurrencySelect.CurrencyDataSource,SelectedCurrency:selectedCurrency,SelectedCurrencyValue:selectedCurrencyValue,SelectedDesign:selectedDesign};EP.BaseFunctions.AppendTemplate({TemplateName:this.TemplateName,Data:self.TemplateData,Target:self.ContainerClass+" .Content",SuccessF:function(){EP.CurrencySelect.ModuleReady.call(self)}})},ConvertCurrency:function(toCurrency){setTimeout(function(){EP.StateManager("SelectedCurrency",toCurrency);EP.EventManager.trigger("PageChange",{Page:EP.Layout.CurrentPage})},50);EP.BaseFunctions.ShowLoading()}};EP.Money={Format:function(){return formats={AmountCodeHtml:"amountcodehtml",AmountHtml:"amounthtml",ReplacedHtml:"replacedhtml",ReplacedCode:"replacedcode",AmountNumeric:"amountnumeric",AmountString:"amountstring"}},UserCurrency:function(currency,format){var selected=EP.StateManager("SelectedCurrency");if(selected!=null){currency=selected}if(format!=null&&(format.toLowerCase()=="replacedcode")){currency=EP.Glob.CurrencyReplacer(currency)}return currency},Raw:function(amount,from,format){return EP.Money._Convert(amount,{from:from,format:format})},Unconverted:function(amount,format){var from=EP.StateManager("SelectedCurrency");var to=EP.DataManager.GetRuleValue("SiteCurrency");return EP.Money._Convert(amount,{from:from,to:to,format:format})},ConvertedFromSite:function(amount,format){var from=EP.DataManager.GetRuleValue("SiteCurrency");return EP.Money.Converted(amount,from,format)},Converted:function(amount,from,format){var to=EP.StateManager("SelectedCurrency");var result=EP.Money._Convert(amount,{from:from,to:to,format:format});if(to==EP.DataManager.GetRuleValue("SiteCurrency")){EP.StateManager("SelectedCurrency",null)}return result},ConvertedHotel:function(amount,from,to,format){var primaryMoney=EP.Money.Converted(amount,from,format);var ruleDisabled=false;var sameCurrency=(from==to);if(ruleDisabled||sameCurrency||to==null){return primaryMoney}var localMoney=EP.Money._Convert(amount,{from:from,to:to,format:format});return String.format("{0} ({1})",primaryMoney,localMoney)},GetConversion:function(from,to){var conversions=EP.StateManager("CurrencyConversions");var rateDate=new Date().getTime();if(conversions!=null){var conversion=$.grep(conversions,function(e){return e.From==from&&e.To==to&&e.ExpireDate>rateDate})[0]}if(conversions==null||conversions.length==0||conversion==null){EP.Money._NewConversion(from,to);conversion=$.grep(EP.StateManager("CurrencyConversions"),function(e){return e.From==from&&e.To==to&&e.ExpireDate>rateDate})[0]}return conversion},_Convert:function(amount,args){if(typeof(amount)==="string"){amount=EP.Glob.StringToNumber(amount)}var from=EP.DataManager.GetRuleValue("SiteCurrency");if(args.from&&args.from.length>0){from=args.from}var to=null;if(args.to){to=args.to}var format="amountcodehtml";if(args.format){format=args.format}var result=null;var currency=from;if(to!=null&&to!=from){var conversion=EP.Money.GetConversion(from,to);if(conversion!=null){var originalAmount=amount;var originalCurrency=conversion.FromCode;var rate=conversion.Rate;amount=(amount*100*rate)/100;currency=conversion.To}}if(format.toLowerCase()=="amountnumeric"){result=amount}else{if(format.toLowerCase()=="amountstring"){result=amount.toNumberString()}else{var moneyHtml=EP.Money._Html(amount,currency,format,originalAmount,originalCurrency);result=moneyHtml}}return result},_Html:function(amount,currency,format,originalAmount,originalCurrency){amount=amount.toNumberString();var title="";var titleHtml="";var separator="&nbsp;";if(originalAmount!=null&&originalCurrency!=null){originalAmount=originalAmount.toNumberString();title=originalAmount+" "+originalCurrency;titleHtml='title="{0}"'.stringFormat([title])}var amountHtml="";if(format.toLowerCase()=="amounthtml"){amountHtml=amount}else{if(format.toLowerCase()=="amountcodehtml"){amountHtml=amount+separator+currency}else{if(format.toLowerCase()=="replacedhtml"){amountHtml=amount+separator+EP.Glob.CurrencyReplacer(currency)}else{amountHtml=amount+separator+currency}}}var result='<span class="money" {0}>{1}</span>'.stringFormat([titleHtml,amountHtml]);return result},_NewConversion:function(fromCurrency,toCurrency){var conversion=null;var data={fromCurrency:fromCurrency,toCurrency:toCurrency};EP.DataManager.GetData({Method:InitializeService+"/ConvertCurrency",Data:JSON.stringify(data),Type:"POST",async:false,Success:function(data){EP.StateManager("CurrencyConversions",data)},Error:function(xhr,status){}});EP.BaseFunctions.HideLoading();return conversion}};EP.CurrencySelect={TemplateData:null,TemplateNameForContainer:"Blank",TemplateName:"CurrencySelect",PopupTemplateName:"CurrencySelectPopup",PopupMaxRows:15,ContainerClass:".CurrencySelect",Currencies:null,CurrencyDataSource:null,ExternalModuleParameters:{CurrencySelectTitle:{Text:"Title",Value:"Currency Selector"},CurrencySelectOptions:{Text:"Select a design",Value:"DropDownCode",ControlType:"ComboBox",Items:[{Text:"Dropdown code",Value:"DropDownCode"},{Text:"Dropdown code name",Value:"DropDownCodeName"},{Text:"Popup",Value:"Popup"},]}},Init:function(parentObj){EP.CurrencySelect.Currencies=EP.StateManager("GeneralInformation").Currencies;parentObj._Init()},FillModule:function(parentObj){parentObj._FillModule()},ModuleReady:function(){$(EP.CurrencySelect.ContainerClass+" .Caption").html(EP.Layout.getModuleParam(EP.CurrencySelect,"CurrencySelectTitle"));var self=this;var selectedDesign=self.TemplateData.SelectedDesign;if(!selectedDesign){selectedDesign="DropDownCode"}switch(self.TemplateData.SelectedDesign){case"DropDownCode":EP.CurrencySelect.PrepareDropdownCode.call(self);break;case"DropDownCodeName":EP.CurrencySelect.PrepareDropdownCodeName.call(self);break;case"Popup":EP.CurrencySelect.PrepareCurrencyPopup.call(self);break}},PrepareDropdownCode:function(){var containerClass=EP.CurrencySelect.ContainerClass;EP.EventManager.bindEvent(containerClass+" select[name=CurrencyDropDown]","change",function(){var context=$(containerClass);var toCurrency=$("select[name=CurrencyDropDown]",context).val();EP.CurrencySelect.ConvertCurrency(toCurrency)})},PrepareDropdownCodeName:function(){var containerClass=EP.CurrencySelect.ContainerClass;EP.EventManager.bindEvent(containerClass+" select[name=CurrencyDropDownCodeName]","change",function(){var context=$(containerClass);var toCurrency=$("select[name=CurrencyDropDownCodeName]",context).val();EP.CurrencySelect.ConvertCurrency(toCurrency)})},PrepareCurrencyPopup:function(){var self=this;var wrapper=$("<div />").attr("data-related-module",self.ContainerClass);var currencyDataSource=EP.CurrencySelect.CurrencyDataSource;var popupDataSource=[];var maxRows=EP.CurrencySelect.PopupMaxRows;var columnIndex=0;for(var rowIndex=0;rowIndex<currencyDataSource.length;rowIndex+=maxRows){var currentRows=currencyDataSource.slice(rowIndex,rowIndex+maxRows);popupDataSource[columnIndex]=currentRows;columnIndex=columnIndex+1}EP.BaseFunctions.AppendTemplate({TemplateName:EP.CurrencySelect.PopupTemplateName,Data:{PopupDataSource:popupDataSource},Target:wrapper,SuccessF:function(){wrapper.appendTo("body")}});EP.CurrencySelect.PrepareLinks();EP.EventManager.bindEvent(self.ContainerClass+" .fn_OpenCurrencySelectPopup","click",function(e){var target=$(e.target);EP.CurrencySelect.StopBubbledEvent(e.Event);EP.CurrencySelect.ToggleCurrencyPopup.call(self,target)});$(document).click(function(){EP.CurrencySelect.CloseCurrencyPopup()})},PrepareLinks:function(){EP.EventManager.bindEvent(".fn_ChangeCurrency","click",function(e){var target=$(e.target);var currency=target.data("currency-key");EP.CurrencySelect.ConvertCurrency(currency)})},StopBubbledEvent:function(event){if(event&&event.stopPropagation){event.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}else{if(window.$.Event.prototype){window.$.Event.prototype.stopPropagation()}}}},GetActualWidthOfHiddenElement:function(popupInstance){var actualWidth=0;if(popupInstance){popupInstance.css({visibility:"hidden",display:"block"});actualWidth=popupInstance.outerWidth();popupInstance.css({visibility:"",display:"none"})}return actualWidth},GetRoundedOffset:function(e){var offset={left:0,top:0};if(e){offset.left=Math.round(e.offset().left);offset.top=Math.round(e.offset().top)}return offset},GetRightSpaceByWindow:function(leftValue,sizeOfElement){return Math.round(($(window).width()-(leftValue+sizeOfElement)))},ToggleCurrencyPopup:function(target){var self=this;var context=$("[data-related-module="+self.ContainerClass+"]");var currencyPopupInstance=$(".CurrencyPopup",context);if(!currencyPopupInstance.is(":visible")){var offsetObj=null;var actualWidthOfCurrencyPopup=EP.CurrencySelect.GetActualWidthOfHiddenElement(currencyPopupInstance);var rightSpace=EP.CurrencySelect.GetRightSpaceByWindow(target.offset().left,actualWidthOfCurrencyPopup);target.addClass("CurrencyPopupLinkActive");if(rightSpace>=0){offsetObj={top:(target.offset().top-1+target.outerHeight()),left:target.offset().left}}else{offsetObj={top:(target.offset().top-1+target.outerHeight()),left:(target.offset().left-(actualWidthOfCurrencyPopup-target.outerWidth()))}}currencyPopupInstance.offset(offsetObj).show()}else{EP.CurrencySelect.CloseCurrencyPopup(context,target)}},CloseCurrencyPopup:function(container,target){var context=null;var targetSelector=target||".fn_OpenCurrencySelectPopup";if(container){context=$(container)}$(".CurrencyPopup",context).css({left:0,top:0}).hide();$(targetSelector).removeClass("CurrencyPopupLinkActive")},_Init:function(){var ParentObj=this;EP.BaseFunctions.AppendTemplate({ContainerTemplateName:this.TemplateNameForContainer,Data:{},Target:this.ContainerClass,SuccessF:function(){EP.CurrencySelect.FillModule(ParentObj)}})},FilterArrayByKey:function(array,value){for(var i=0;i<array.length;i++){if(array[i].Key==value){return array[i]}}},_FillModule:function(){var self=this;var selectedCurrency=EP.DataManager.GetRuleValue("SiteCurrency");if(EP.StateManager("SelectedCurrency")!=null){selectedCurrency=EP.StateManager("SelectedCurrency")}selectedCurrencyValue=EP.CurrencySelect.FilterArrayByKey(EP.CurrencySelect.Currencies.code,selectedCurrency).Value;var selectedDesign=EP.Layout.getModuleParam(self,"CurrencySelectOptions");if(!selectedDesign){selectedDesign="DropDownCode"}switch(selectedDesign){case"DropDownCode":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.code;break;case"DropDownCodeName":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.codeDescription;break;case"Popup":EP.CurrencySelect.CurrencyDataSource=EP.CurrencySelect.Currencies.codeDescription;break}self.TemplateData={CurrencyDataSource:EP.CurrencySelect.CurrencyDataSource,SelectedCurrency:selectedCurrency,SelectedCurrencyValue:selectedCurrencyValue,SelectedDesign:selectedDesign};EP.BaseFunctions.AppendTemplate({TemplateName:this.TemplateName,Data:self.TemplateData,Target:self.ContainerClass+" .Content",SuccessF:function(){EP.CurrencySelect.ModuleReady.call(self)}})},ConvertCurrency:function(toCurrency){setTimeout(function(){EP.StateManager("SelectedCurrency",toCurrency);EP.EventManager.trigger("PageChange",{Page:EP.Layout.CurrentPage})},50);EP.BaseFunctions.ShowLoading()}};EP.Money={Format:function(){return formats={AmountCodeHtml:"amountcodehtml",AmountHtml:"amounthtml",ReplacedHtml:"replacedhtml",ReplacedCode:"replacedcode",AmountNumeric:"amountnumeric",AmountString:"amountstring"}},UserCurrency:function(currency,format){var selected=EP.StateManager("SelectedCurrency");if(selected!=null){currency=selected}if(format!=null&&(format.toLowerCase()=="replacedcode")){currency=EP.Glob.CurrencyReplacer(currency)}return currency},Raw:function(amount,from,format){return EP.Money._Convert(amount,{from:from,format:format})},Unconverted:function(amount,format){var from=EP.StateManager("SelectedCurrency");var to=EP.DataManager.GetRuleValue("SiteCurrency");return EP.Money._Convert(amount,{from:from,to:to,format:format})},ConvertedFromSite:function(amount,format){var from=EP.DataManager.GetRuleValue("SiteCurrency");return EP.Money.Converted(amount,from,format)},Converted:function(amount,from,format){var to=EP.StateManager("SelectedCurrency");var result=EP.Money._Convert(amount,{from:from,to:to,format:format});if(to==EP.DataManager.GetRuleValue("SiteCurrency")){EP.StateManager("SelectedCurrency",null)}return result},ConvertedHotel:function(amount,from,to,format){var primaryMoney=EP.Money.Converted(amount,from,format);var ruleDisabled=false;var sameCurrency=(from==to);if(ruleDisabled||sameCurrency||to==null){return primaryMoney}var localMoney=EP.Money._Convert(amount,{from:from,to:to,format:format});return String.format("{0} ({1})",primaryMoney,localMoney)},GetConversion:function(from,to){var conversions=EP.StateManager("CurrencyConversions");var rateDate=new Date().getTime();if(conversions!=null){var conversion=$.grep(conversions,function(e){return e.From==from&&e.To==to&&e.ExpireDate>rateDate})[0]}if(conversions==null||conversions.length==0||conversion==null){EP.Money._NewConversion(from,to);conversion=$.grep(EP.StateManager("CurrencyConversions"),function(e){return e.From==from&&e.To==to&&e.ExpireDate>rateDate})[0]}return conversion},_Convert:function(amount,args){if(typeof(amount)==="string"){amount=EP.Glob.StringToNumber(amount)}var from=EP.DataManager.GetRuleValue("SiteCurrency");if(args.from&&args.from.length>0){from=args.from}var to=null;if(args.to){to=args.to}var format="amountcodehtml";if(args.format){format=args.format}var result=null;var currency=from;if(to!=null&&to!=from){var conversion=EP.Money.GetConversion(from,to);if(conversion!=null){var originalAmount=amount;var originalCurrency=conversion.FromCode;var rate=conversion.Rate;amount=(amount*100*rate)/100;currency=conversion.To}}if(format.toLowerCase()=="amountnumeric"){result=amount}else{if(format.toLowerCase()=="amountstring"){result=amount.toNumberString()}else{var moneyHtml=EP.Money._Html(amount,currency,format,originalAmount,originalCurrency);result=moneyHtml}}return result},_Html:function(amount,currency,format,originalAmount,originalCurrency){amount=amount.toNumberString();var title="";var titleHtml="";var separator="&nbsp;";if(originalAmount!=null&&originalCurrency!=null){originalAmount=originalAmount.toNumberString();title=originalAmount+" "+originalCurrency;titleHtml='title="{0}"'.stringFormat([title])}var amountHtml="";if(format.toLowerCase()=="amounthtml"){amountHtml=amount}else{if(format.toLowerCase()=="amountcodehtml"){amountHtml=amount+separator+currency}else{if(format.toLowerCase()=="replacedhtml"){amountHtml=amount+separator+EP.Glob.CurrencyReplacer(currency)}else{amountHtml=amount+separator+currency}}}var result='<span class="money" {0}>{1}</span>'.stringFormat([titleHtml,amountHtml]);return result},_NewConversion:function(fromCurrency,toCurrency){var conversion=null;var data={fromCurrency:fromCurrency,toCurrency:toCurrency};EP.DataManager.GetData({Method:InitializeService+"/ConvertCurrency",Data:JSON.stringify(data),Type:"POST",async:false,Success:function(data){EP.StateManager("CurrencyConversions",data)},Error:function(xhr,status){}});EP.BaseFunctions.HideLoading();return conversion}};EP.LanguageSelect={TemplateData:null,TemplateNameForContainer:"Blank",TemplateName:"LanguageSelect",PopupTemplateName:"LanguageSelectPopup",ContainerClass:".LanguageSelect",ExternalModuleParameters:{LanguageSelectTitle:{Text:"Title",Value:"Language Selector"},LanguageSelectOptions:{Text:"Select a design",Value:"DropDown",ControlType:"ComboBox",Items:[{Text:"Drop down without flag",Value:"DropDown"},{Text:"Drop down with flag",Value:"DropDownFlag"},{Text:"Link with flag (Code)",Value:"LinkFlag"},{Text:"Link with flag (Name)",Value:"LinkFlagName"},{Text:"Link without flag",Value:"Link"},{Text:"Pop-up box",Value:"PopupBox"},{Text:"Flags Only",Value:"Flag"}]}},CultureAndRegionLookupTableByContinent:{AMERICA:[{Region:"United States",Culture:"en-US"},{Region:"Spanish - Argentina",Culture:"es-AR"},{Region:"Spanish - Bolivia",Culture:"es-BO"},{Region:"Spanish - Chile",Culture:"es-CL"},{Region:"Spanish - Bolivia",Culture:"es-BO"},{Region:"Spanish - Colombia",Culture:"es-CO"},{Region:"Spanish - Ecuador",Culture:"es-EC"},{Region:"Spanish - Mexico",Culture:"es-MX"},{Region:"Spanish - Paraguay",Culture:"es-PY"},{Region:"Spanish - Peru",Culture:"es-PE"},{Region:"Spanish - Uruguay",Culture:"es-UY"},{Region:"Spanish - Venezuela",Culture:"es-VE"}],ASIA:[{Region:"Saudi Arabia",Culture:"ar-SA"},{Region:"Chinese - Hong Kong SAR",Culture:"zh-HK"},{Region:"Chinese - China",Culture:"zh-CN"},{Region:"Chineseg - Taiwan",Culture:"zh-TW"},{Region:"Japanese - Japan",Culture:"ja-JP"},{Region:"Kazakh - Kazakhstan",Culture:"kk-KZ"},{Region:"Korean - Korea",Culture:"ko-KR"},{Region:"Russian - Russia",Culture:"ru-RU"},{Region:"Thai - Thailand",Culture:"th-TH"},{Region:"Turkish - Turkey",Culture:"tr-TR"},{Region:"Uzbek (Cyrillic) - Uzbekistan",Culture:"Cy-uz-UZ"},{Region:"Uzbek (Latin) - Uzbekistan",Culture:"Lt-uz-UZ"},{Region:"Vietnamese - Vietnam",Culture:"vi-VN"}],EUROPE:[{Region:"Albania",Culture:"sq-AL"},{Region:"Armenia",Culture:"hy-AM"},{Region:"Bulgaria",Culture:"bg-BG"},{Region:"Croatian - Croatia",Culture:"hr-HR"},{Region:"Czech - Czech Republic",Culture:"cs-CZ"},{Region:"Dutch - Belgium",Culture:"nl-BE"},{Region:"United Kingdom",Culture:"en-UK"},{Region:"Estonian - Estonia",Culture:"et-EE"},{Region:"Finnish - Finland",Culture:"fi-FI"},{Region:"French - France",Culture:"fr-FR"},{Region:"German - Germany",Culture:"de-DE"},{Region:"Greek - Greece",Culture:"el-GR"},{Region:"Hungarian - Hungary",Culture:"hu-HU"},{Region:"Italian - Italy",Culture:"it-IT"},{Region:"Latvian - Latvia",Culture:"lv-LV"},{Region:"Lithuanian - Lithuania",Culture:"lt-LT"},{Region:"Macedonian (FYROM)",Culture:"mk-MK"},{Region:"Polish - Poland",Culture:"pl-PL"},{Region:"Portuguese - Portugal",Culture:"pt-PT"},{Region:"Romanian - Romania",Culture:"ro-RO"},{Region:"Slovak - Slovakia",Culture:"sk-SK"},{Region:"Slovenian - Slovenia",Culture:"sl-SI"},{Region:"Spanish - Spain",Culture:"es-ES"},{Region:"Swedish - Sweden",Culture:"sv-SE"}],AFRICA:[{Region:"South Africa",Culture:"af-ZA"},{Region:"English - Zimbabwe",Culture:"en-ZW"}]},Init:function(parentObj){parentObj._Init()},FillModule:function(parentObj){parentObj._FillModule()},ModuleReady:function(){var self=this;switch(self.TemplateData.SelectedDesign){case"Link":case"Flag":case"LinkFlag":case"LinkFlagName":EP.LanguageSelect.PrepareLinks();break;case"DropDown":EP.LanguageSelect.PrepareDropdown.call(self);break;case"DropDownFlag":EP.LanguageSelect.PrepareDropdownWithFlags.call(self);break;case"PopupBox":EP.LanguageSelect.PrepareCulturePopup.call(self);break;default:EP.LanguageSelect.PrepareDropdown.call(self);break}},PrepareLinks:function(){EP.EventManager.bindEvent(".fn_ChangeCulture","click",function(e){var target=$(e.target);var culture=target.data("culture-key");EP.LanguageSelect.ChangeCulture(culture)})},PrepareCulturePopup:function(){var self=this;var wrapper=$("<div />").attr("data-related-module",self.ContainerClass);var cultureDataSource=EP.LanguageSelect.FilterCultureAndRegionLookupTableByPortalCultures();EP.BaseFunctions.AppendTemplate({TemplateName:EP.LanguageSelect.PopupTemplateName,Data:{CultureDataSource:cultureDataSource},Target:wrapper,SuccessF:function(){wrapper.appendTo("body")}});EP.LanguageSelect.PrepareLinks();EP.EventManager.bindEvent(self.ContainerClass+" .fn_OpenLanguageSelectPopup","click",function(e){var target=$(e.target);EP.LanguageSelect.StopBubbledEvent(e.Event);EP.LanguageSelect.ToggleCulturePopup.call(self,target)});$(document).click(function(){EP.LanguageSelect.CloseCulturePopup()})},PrepareDropdown:function(){var self=this;EP.EventManager.bindEvent(self.ContainerClass+" select[name=CultureDropDown]","change",function(){var context=$(self.ContainerClass);var culture=$("select[name=CultureDropDown]",context).val();EP.LanguageSelect.ChangeCulture(culture)})},PrepareDropdownWithFlags:function(){var self=this;$(self.ContainerClass+" .LanguageSelectDropdownWithFlagsContainer input").data("autocomplete")._renderItem=function(ul,item){var culture=$(item.option).val();var image=EP.LanguageSelect.GetFlagImage(culture);return $("<li />").data("item.autocomplete",item).append($("<a />").append(image+item.label).addClass("noWrap").addClass("CultureDropDownWithFlag_Li_"+item.value.trim())).click(function(){EP.LanguageSelect.ChangeCulture(culture)}).appendTo(ul)}},ToggleCulturePopup:function(target){var self=this;var context=$("[data-related-module="+self.ContainerClass+"]");var culturePopupInstance=$(".CulturePopup",context);if(!culturePopupInstance.is(":visible")){var offsetObj=null;var actualWidthOfCulturePopup=EP.LanguageSelect.GetActualWidthOfHiddenElement(culturePopupInstance);var rightSpace=EP.LanguageSelect.GetRightSpaceByWindow(target.offset().left,actualWidthOfCulturePopup);target.addClass("LanguagePopupLinkActive");if(rightSpace>=actualWidthOfCulturePopup){offsetObj={top:(target.offset().top+6+target.outerHeight()),left:target.offset().left+7}}else{offsetObj={top:(target.offset().top+6+target.outerHeight()),left:(target.offset().left+7-(actualWidthOfCulturePopup-target.outerWidth()))}}culturePopupInstance.offset(offsetObj).show()}else{EP.LanguageSelect.CloseCulturePopup(context,target)}},CloseCulturePopup:function(container,target){var context=null;var targetSelector=target||".fn_OpenLanguageSelectPopup";if(container){context=$(container)}$(".CulturePopup",context).css({left:0,top:0}).hide();$(targetSelector).removeClass("LanguagePopupLinkActive")},GetCultureName:function(cultureKey){var foundedCulture=null;var cultures=EP.StateManager("GeneralInformation").Cultures;for(var i=0;i<cultures.length;i++){if(cultures[i].Key==cultureKey){foundedCulture=cultures[i].Value.trim();break}}return foundedCulture},GetFlagImage:function(culture){return"<span class='flag _"+culture+"' ></span> "},ChangeCulture:function(culture){EP.EventManager.pushState({Name:"Culture",Value:culture,ForURL:true})},GetActualWidthOfHiddenElement:function(popupInstance){var actualWidth=0;if(popupInstance){popupInstance.css({visibility:"hidden",display:"block"});actualWidth=popupInstance.outerWidth();popupInstance.css({visibility:"",display:"none"})}return actualWidth},GetRoundedOffset:function(e){var offset={left:0,top:0};if(e){offset.left=Math.round(e.offset().left);offset.top=Math.round(e.offset().top)}return offset},GetRightSpaceByWindow:function(leftValue,sizeOfElement){return Math.round(($(window).width()-(leftValue+sizeOfElement)))},FilterCultureAndRegionLookupTableByPortalCultures:function(){var filteredResult={};var cultures=EP.StateManager("GeneralInformation").Cultures;for(var i=0;i<cultures.length;i++){var cultureKey=cultures[i].Key;for(var continentKey in EP.LanguageSelect.CultureAndRegionLookupTableByContinent){var mappings=EP.LanguageSelect.CultureAndRegionLookupTableByContinent[continentKey];for(var j=0;j<mappings.length;j++){if(mappings[j].Culture==cultureKey){if(!filteredResult[continentKey]){filteredResult[continentKey]=[]}filteredResult[continentKey].push({Key:cultureKey,Region:mappings[j].Region,Language:cultures[i].Value.trim()})}}}}return filteredResult},StopBubbledEvent:function(event){if(event&&event.stopPropagation){event.stopPropagation()}else{if(window.event){window.event.cancelBubble=true}else{if(window.$.Event.prototype){window.$.Event.prototype.stopPropagation()}}}},_Init:function(){var ParentObj=this;EP.BaseFunctions.AppendTemplate({ContainerTemplateName:this.TemplateNameForContainer,Data:{},Target:this.ContainerClass,SuccessF:function(){EP.LanguageSelect.FillModule(ParentObj)}})},_FillModule:function(){var self=this;self.TemplateData={CultureDataSource:EP.StateManager("GeneralInformation").Cultures,SelectedDesign:EP.Layout.getModuleParam(self,"LanguageSelectOptions")};EP.BaseFunctions.AppendTemplate({TemplateName:this.TemplateName,Data:self.TemplateData,Target:self.ContainerClass+" .Content",SuccessF:function(){EP.LanguageSelect.ModuleReady.call(self)}})}};EP.BannerCookies={TemplateName:"BannerCookies",TemplateNameForContainer:"Blank",TemplateData:null,InitData:null,ContainerClass:".InformationCookies",Init:function(){if(EP.BaseFunctions.IsDomStorageEnable()&&localStorage.getItem("CookiesPolicyViewed")&&localStorage.getItem("CookiesPolicyViewed")=="true"){$(" .InformationCookies").hide()}else{$("<div />").addClass("InformationCookies").prependTo("body");EP.BaseFunctions.AppendTemplate({TemplateName:"BannerCookies",Target:".InformationCookies",SuccessF:EP.BannerCookies.ModuleReady})}},ModuleReady:function(){EP.EventManager.bindEvent(EP.BannerCookies.ContainerClass+" .fn_closeCookies","click",function(e){EP.BannerCookies.CloseBannerCookies()});EP.EventManager.bindEvent(EP.BannerCookies.ContainerClass+" .fn_cookiesPolicy","click",function(e){EP.BannerCookies.CookiesPolicyContent()})},CloseBannerCookies:function(){if(EP.BaseFunctions.IsDomStorageEnable()){localStorage.setItem("CookiesPolicyViewed","true")}$(" .InformationCookies").hide()},CookiesPolicyContent:function(){if($("#CookiesPolicyDialog").length==0){$("body").append($("<div/>",{id:"CookiesPolicyDialog"}))}$("#CookiesPolicyDialog").dialog({modal:true,width:750,height:"auto",buttons:[{text:EP.Localization.Get("AWCButton.Close.Text","Close"),click:function(){$(this).dialog("close")},"class":"CookiesPolicyClose"}],title:EP.Localization.Get("Cookies policy for Epower")});EP.BaseFunctions.AppendTemplate({TemplateName:"CookiesPolicy",Data:{},Target:"#CookiesPolicyDialog",SuccessF:EP.BaseFunctions.HideLoading})},};EP.ManualCost={Type:function(){var activateRule=EP.DataManager.GetRuleValue("ActivateSubAgencyManualServiceFee");var isConsolidator=EP.DataManager.GetRuleValue("AllowConsolidatorModule").toLowerCase();var badRuleValue=!(activateRule=="SecondaryLevelServiceFeeSearch"||activateRule=="SecondaryLevelMarkupSearch");if(!activateRule||isConsolidator=="false"||badRuleValue){return"none"}else{return activateRule}},DecimalSeparator:function(){return $.format(1000,"n").substring(5,6)},ThousandSeparator:function(){return $.format(1000,"n").substring(1,2)},ControlOnKeyup:function(){return String.format("this.value=this.value.replace(/[^\\d+\\{0}?\\d]/,'')",EP.ManualCost.DecimalSeparator())},FixDecimalSeparator:function(value){return value.replace(",",".").replace(".",EP.ManualCost.DecimalSeparator())},AmountValueDisplay:function(amount){if(typeof amount!="undefined"&&amount!=null){return EP.ManualCost.FixDecimalSeparator(amount.toString())}else{return""}}};function tmp_TextBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" maxlength="');if(typeof(MaxLength)!=="undefined"&&(MaxLength)!=null){__.push($.encode((typeof(MaxLength)==="function"?(MaxLength).call($item):(MaxLength))))}__.push('" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#TextBoxTemplate",tmp_TextBoxTemplate);function tmp_TextBoxOSITemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" maxlength="60"  class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#TextBoxOSITemplate",tmp_TextBoxOSITemplate);function tmp_PasswordTextBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if((typeof(!Remember)!=="undefined"&&(!Remember)!=null)&&(typeof(!Remember)==="function"?(!Remember).call($item):(!Remember))){__.push('         <!-- fake fields are a workaround for chrome and IE 11 autofill getting the wrong fields -->         <input style="display:none" type="text" name="fakeusernameremembered"/>         <input style="display:none" autocomplete="off" type="password" name="fakepasswordremembered" />     ')}__.push('     <input type="password" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" id="');if(typeof(Id)!=="undefined"&&(Id)!=null){__.push($.encode((typeof(Id)==="function"?(Id).call($item):(Id))))}__.push('" autocomplete="off" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#PasswordTextBoxTemplate",tmp_PasswordTextBoxTemplate);function tmp_CCTextBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="16" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" onkeyup="this.value=this.value.replace(/[^\\d]/,\'\');" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#CCTextBoxTemplate",tmp_CCTextBoxTemplate);function tmp_DateTextBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="2" class="txtText DayOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderDD.Text","DD"))}__.push('" style="width: 25px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Day" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(EP.BaseFunctions.makeTwoDigit)!=="undefined"&&(EP.BaseFunctions.makeTwoDigit)!=null){__.push($.encode(EP.BaseFunctions.makeTwoDigit(Value.getDate())))}__.push("")}__.push('" withoutstar="true" />      <input type="text" maxlength="2" class="txtText MonthOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderMM.Text","MM"))}__.push('" style="width: 25px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Month" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(EP.BaseFunctions.makeTwoDigit)!=="undefined"&&(EP.BaseFunctions.makeTwoDigit)!=null){__.push($.encode(EP.BaseFunctions.makeTwoDigit(Value.getMonth()+1)))}__.push("")}__.push('" withoutstar="true" />      <input type="text" maxlength="4" class="txtText YearOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderYYYY.Text","YYYY"))}__.push('" style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Year" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(Value.getFullYear)!=="undefined"&&(Value.getFullYear)!=null){__.push($.encode(Value.getFullYear()))}__.push("")}__.push('" />')}return __}jQuery.template("#DateTextBoxTemplate",tmp_DateTextBoxTemplate);function tmp_DateTextBoxTemplateMMDD(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="2" class="txtText MonthOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderMM.Text","MM"))}__.push('" style="width: 25px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Month" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(EP.BaseFunctions.makeTwoDigit)!=="undefined"&&(EP.BaseFunctions.makeTwoDigit)!=null){__.push($.encode(EP.BaseFunctions.makeTwoDigit(Value.getMonth()+1)))}__.push("")}__.push('" withoutstar="true" />      <input type="text" maxlength="2" class="txtText DayOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderDD.Text","DD"))}__.push('" style="width: 25px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Day" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(EP.BaseFunctions.makeTwoDigit)!=="undefined"&&(EP.BaseFunctions.makeTwoDigit)!=null){__.push($.encode(EP.BaseFunctions.makeTwoDigit(Value.getDate())))}__.push("")}__.push('" withoutstar="true" />      <input type="text" maxlength="4" class="txtText YearOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderYYYY.Text","YYYY"))}__.push('" style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Year" value="');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push("");if(typeof(Value.getFullYear)!=="undefined"&&(Value.getFullYear)!=null){__.push($.encode(Value.getFullYear()))}__.push("")}__.push('" />')}return __}jQuery.template("#DateTextBoxTemplateMMDD",tmp_DateTextBoxTemplateMMDD);function tmp_TxtCVV(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<!-- fake fields are a workaround for chrome and IE 11 autofill getting the wrong fields -->     <input style="display:none" type="text" name="fakeusernameremembered"/>     <input style="display:none" type="password" name="fakepasswordremembered"/>     <input type="password" maxlength="3" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" style="width: 30px" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#TxtCVV",tmp_TxtCVV);function tmp_TxtDayOfDate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="2" class="txtText DayOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderDD.Text","DD"))}__.push('" style="width: 20px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#TxtDayOfDate",tmp_TxtDayOfDate);function tmp_txtAreaTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<textarea rows="4" cols="50" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" maxlength="');if(typeof(MaxLength)!=="undefined"&&(MaxLength)!=null){__.push($.encode((typeof(MaxLength)==="function"?(MaxLength).call($item):(MaxLength))))}__.push('">');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push("</textarea>")}return __}jQuery.template("#txtAreaTemplate",tmp_txtAreaTemplate);function tmp_txtAreaTemplateRII(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<textarea rows="2" cols="75" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" maxlength="');if(typeof(MaxLength)!=="undefined"&&(MaxLength)!=null){__.push($.encode((typeof(MaxLength)==="function"?(MaxLength).call($item):(MaxLength))))}__.push('">');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push("</textarea>")}return __}jQuery.template("#txtAreaTemplateRII",tmp_txtAreaTemplateRII);function tmp_CheckBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="checkbox" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" class="');if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push('" withoutstar="true" ');if((typeof(Disable)!=="undefined"&&(Disable)!=null)&&(typeof(Disable)==="function"?(Disable).call($item):(Disable))){__.push(' disabled="disabled" ')}__.push(" ");if((typeof(Checked)!=="undefined"&&(Checked)!=null)&&(typeof(Checked)==="function"?(Checked).call($item):(Checked))){__.push(' checked="checked" ')}__.push("/>")}return __}jQuery.template("#CheckBoxTemplate",tmp_CheckBoxTemplate);function tmp_TxtMonthOfDate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="2" class="txtText MonthOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderMM.Text","MM"))}__.push('" style="width: 20px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#TxtMonthOfDate",tmp_TxtMonthOfDate);function tmp_TxtYearOfDate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="4" class="txtText YearOfDate" placeholder="');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.PlaceHolderYYYY.Text","YYYY"))}__.push('" style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" />')}return __}jQuery.template("#TxtYearOfDate",tmp_TxtYearOfDate);function tmp_txtPhoneNumberArea(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="3" class="txtText PhoneNumberArea"  onkeydown="EP.BaseFunctions.AllowOnlyNumbers(event)" style="width: 43px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push("");if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#txtPhoneNumberArea",tmp_txtPhoneNumberArea);function tmp_txtFlightNumber(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="4" class="txtText FlightNumber" style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#txtFlightNumber",tmp_txtFlightNumber);function tmp_txtPhoneNumberCountyCode(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="');if((typeof(MaxLength)!=="undefined"&&(MaxLength)!=null)&&(typeof(MaxLength)==="function"?(MaxLength).call($item):(MaxLength))){__.push("");if(typeof(MaxLength)!=="undefined"&&(MaxLength)!=null){__.push($.encode((typeof(MaxLength)==="function"?(MaxLength).call($item):(MaxLength))))}__.push("")}else{if((true)&&true){__.push("");if(typeof(3)!=="undefined"&&(3)!=null){__.push($.encode((typeof(3)==="function"?(3).call($item):(3))))}__.push("")}}__.push('" class="txtText PhoneNumberCountyCode" onkeydown="EP.BaseFunctions.AllowOnlyNumbers(event)" style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#txtPhoneNumberCountyCode",tmp_txtPhoneNumberCountyCode);function tmp_txtPhoneNumber(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="11" class="txtText PhoneNumber" style="width: 100px" onkeydown="EP.BaseFunctions.AllowOnlyNumbers(event)" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push("");if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" />')}return __}jQuery.template("#txtPhoneNumber",tmp_txtPhoneNumber);function tmp_txtPhoneNumberExt(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="3" class="txtText PhoneNumberExt" onkeydown="EP.BaseFunctions.AllowOnlyNumbers(event)"  style="width: 40px" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push("");if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" />')}return __}jQuery.template("#txtPhoneNumberExt",tmp_txtPhoneNumberExt);function tmp_txtDecimalTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="8" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" placeholder="0.00" onkeyup="');if((typeof(DecimalType=="Positive")!=="undefined"&&(DecimalType=="Positive")!=null)&&(typeof(DecimalType=="Positive")==="function"?(DecimalType=="Positive").call($item):(DecimalType=="Positive"))){__.push("this.value=this.value.replace(/[^?\\d]/,'')")}else{if((true)&&true){__.push("this.value=this.value.replace(/[^-?\\d]/,'')")}}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#txtDecimalTemplate",tmp_txtDecimalTemplate);function tmp_AutoComplete(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Value" type="hidden" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('"/><input type="text" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push('" class="txtText');if((typeof(CssClass)!=="undefined"&&(CssClass)!=null)&&(typeof(CssClass)==="function"?(CssClass).call($item):(CssClass))){__.push(" ");if(typeof(CssClass)!=="undefined"&&(CssClass)!=null){__.push($.encode((typeof(CssClass)==="function"?(CssClass).call($item):(CssClass))))}__.push("")}__.push('" />')}return __}jQuery.template("#AutoComplete",tmp_AutoComplete);function tmp_AutoCompleteAirline(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Value" type="hidden" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('"/><input type="text" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" value="');if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push('" class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#AutoCompleteAirline",tmp_AutoCompleteAirline);function tmp_DateTimeTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="10" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(Value)!=="undefined"&&(Value)!=null)&&(typeof(Value)==="function"?(Value).call($item):(Value))){__.push(' value="');if(typeof(Value.toShortString)!=="undefined"&&(Value.toShortString)!=null){__.push($.encode(Value.toShortString()))}__.push('"')}__.push(" ");if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(' Class="');if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push('"')}__.push(" />")}return __}jQuery.template("#DateTimeTemplate",tmp_DateTimeTemplate);function tmp_CategoryDropDownListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<select name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push("");if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push('" class="selectText ');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push("");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" ');if((typeof(typeof(Index)!="undefined")!=="undefined"&&(typeof(Index)!="undefined")!=null)&&(typeof(typeof(Index)!="undefined")==="function"?(typeof(Index)!="undefined").call($item):(typeof(Index)!="undefined"))){__.push(' Index="');if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push('" ')}__.push(" ");if((typeof(typeof(IndexOfField)!="undefined")!=="undefined"&&(typeof(IndexOfField)!="undefined")!=null)&&(typeof(typeof(IndexOfField)!="undefined")==="function"?(typeof(IndexOfField)!="undefined").call($item):(typeof(IndexOfField)!="undefined"))){__.push(' data-index="');if(typeof(IndexOfField)!=="undefined"&&(IndexOfField)!=null){__.push($.encode((typeof(IndexOfField)==="function"?(IndexOfField).call($item):(IndexOfField))))}__.push('" ')}__.push(" ");if((typeof(PanelWidth)!=="undefined"&&(PanelWidth)!=null)&&(typeof(PanelWidth)==="function"?(PanelWidth).call($item):(PanelWidth))){__.push(' PanelWidth="');if(typeof(PanelWidth)!=="undefined"&&(PanelWidth)!=null){__.push($.encode((typeof(PanelWidth)==="function"?(PanelWidth).call($item):(PanelWidth))))}__.push('" ')}__.push(">   ");if(typeof(EP.DataManager.GetCategoryDetails)!=="undefined"&&(EP.DataManager.GetCategoryDetails)!=null){$.each(EP.DataManager.GetCategoryDetails(DataSource,CategoryName),function(k,l){with(this){__.push("     <option ");if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(k==SelectedValue||k==SelectedValue+" ")!=="undefined"&&(k==SelectedValue||k==SelectedValue+" ")!=null)&&(typeof(k==SelectedValue||k==SelectedValue+" ")==="function"?(k==SelectedValue||k==SelectedValue+" ").call($item):(k==SelectedValue||k==SelectedValue+" "))){__.push(' selected="selected" ')}__.push("")}__.push('value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('">');if(typeof(l)!=="undefined"&&(l)!=null){__.push($.encode((typeof(l)==="function"?(l).call($item):(l))))}__.push("</option>   ")}})}__.push(" </select>")}return __}jQuery.template("#CategoryDropDownListTemplate",tmp_CategoryDropDownListTemplate);function tmp_DropDownListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<select name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" class="selectText ');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push("");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('">   ');if(typeof(DataSource)!=="undefined"&&(DataSource)!=null){$.each((typeof(DataSource)==="function"?(DataSource).call($item):(DataSource)),function(k,l){with(this){__.push("     <option ");if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(l.Key==SelectedValue||l.Key==SelectedValue+" ")!=="undefined"&&(l.Key==SelectedValue||l.Key==SelectedValue+" ")!=null)&&(typeof(l.Key==SelectedValue||l.Key==SelectedValue+" ")==="function"?(l.Key==SelectedValue||l.Key==SelectedValue+" ").call($item):(l.Key==SelectedValue||l.Key==SelectedValue+" "))){__.push(' selected="selected" ')}__.push("")}__.push(' value="');if(typeof(l.Key)!=="undefined"&&(l.Key)!=null){__.push($.encode((typeof(l.Key)==="function"?(l.Key).call($item):(l.Key))))}__.push('">');if(typeof(l.Value)!=="undefined"&&(l.Value)!=null){__.push($.encode((typeof(l.Value)==="function"?(l.Value).call($item):(l.Value))))}__.push("</option>   ")}})}__.push(" </select>")}return __}jQuery.template("#DropDownListTemplate",tmp_DropDownListTemplate);function tmp_CategoryRadioListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if(typeof(EP.DataManager.GetCategoryDetails)!=="undefined"&&(EP.DataManager.GetCategoryDetails)!=null){$.each(EP.DataManager.GetCategoryDetails(DataSource,CategoryName),function(k,l){with(this){__.push("         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("<div>")}__.push('         <input type="radio" id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(k==SelectedValue||k==SelectedValue+" ")!=="undefined"&&(k==SelectedValue||k==SelectedValue+" ")!=null)&&(typeof(k==SelectedValue||k==SelectedValue+" ")==="function"?(k==SelectedValue||k==SelectedValue+" ").call($item):(k==SelectedValue||k==SelectedValue+" "))){__.push(' checked="checked" ')}__.push("")}__.push(' value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" />             <label for="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" data-fld="NoLocalize">');if(typeof(l)!=="undefined"&&(l)!=null){__.push((typeof(l)==="function"?(l).call($item):(l)))}__.push('</label>             <div data-subtext-id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" style="display:none"></div>         ');if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("</div>")}__.push("   ")}})}__.push("")}return __}jQuery.template("#CategoryRadioListTemplate",tmp_CategoryRadioListTemplate);function tmp_RadioListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if(typeof(DataSource)!=="undefined"&&(DataSource)!=null){$.each((typeof(DataSource)==="function"?(DataSource).call($item):(DataSource)),function(k,l){with(this){__.push("         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("<div>")}__.push('         <input type="radio" id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(k==SelectedValue)!=="undefined"&&(k==SelectedValue)!=null)&&(typeof(k==SelectedValue)==="function"?(k==SelectedValue).call($item):(k==SelectedValue))){__.push(' checked="checked" ')}__.push("")}__.push(' value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" />             <label for="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" data-fld="NoLocalize">');if(typeof(l)!=="undefined"&&(l)!=null){__.push((typeof(l)==="function"?(l).call($item):(l)))}__.push("</label>     <br />         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("</div>")}__.push("   ")}})}__.push("")}return __}jQuery.template("#RadioListTemplate",tmp_RadioListTemplate);function tmp_CategoryCheckListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Main">       ');if(typeof(EP.DataManager.GetCategoryDetails)!=="undefined"&&(EP.DataManager.GetCategoryDetails)!=null){$.each(EP.DataManager.GetCategoryDetails(DataSource,CategoryName),function(k,l){with(this){__.push("         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("<div>")}__.push('                 <input type="checkbox" id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" name="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(SelectedValue.indexOf(k)!=-1)!=="undefined"&&(SelectedValue.indexOf(k)!=-1)!=null)&&(typeof(SelectedValue.indexOf(k)!=-1)==="function"?(SelectedValue.indexOf(k)!=-1).call($item):(SelectedValue.indexOf(k)!=-1))){__.push(' checked="checked" ')}__.push("")}__.push(' value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" />                 <label name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_innerLabel" for="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" data-fld="NoLocalize">');if(typeof(l)!=="undefined"&&(l)!=null){__.push((typeof(l)==="function"?(l).call($item):(l)))}__.push("</label>         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("</div>")}__.push("     ")}})}__.push("         </div>")}return __}jQuery.template("#CategoryCheckListTemplate",tmp_CategoryCheckListTemplate);function tmp_CategoryMultiSelectCheckList(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<!-- bu formatta name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_Day"-->     <div name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_outerDiv">         <div class="CategoryMultiSelectCheckList txtText">         <a name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_outerA" href="javascript:void(0)">             <!--todo localize-->                 <span name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_outerSpan" >Select</span>                  <p class="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_outerP" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_outerP"></p>         </a>             </div>     </div>     <div class="CategoryMultiSelectCheckListMenu txtText" id="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_CategoryMultiSelectCheckListMenu">       ');if(typeof(EP.DataManager.GetCategoryDetails)!=="undefined"&&(EP.DataManager.GetCategoryDetails)!=null){$.each(EP.DataManager.GetCategoryDetails(DataSource,CategoryName),function(k,l){with(this){__.push("             ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push('<div id="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_innerDivID" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_innerDiv">')}__.push('             <input type="checkbox" id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(SelectedValue.indexOf(k)!=-1)!=="undefined"&&(SelectedValue.indexOf(k)!=-1)!=null)&&(typeof(SelectedValue.indexOf(k)!=-1)==="function"?(SelectedValue.indexOf(k)!=-1).call($item):(SelectedValue.indexOf(k)!=-1))){__.push(' checked="checked" ')}__.push("")}__.push(' value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" />                 <label name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('_innerLabel" for="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" data-fld="NoLocalize">');if(typeof(l)!=="undefined"&&(l)!=null){__.push((typeof(l)==="function"?(l).call($item):(l)))}__.push("</label>             ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("</div>")}__.push("       ")}})}__.push("     </div>")}return __}jQuery.template("#CategoryMultiSelectCheckList",tmp_CategoryMultiSelectCheckList);function tmp_RadioListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if(typeof(DataSource)!=="undefined"&&(DataSource)!=null){$.each((typeof(DataSource)==="function"?(DataSource).call($item):(DataSource)),function(k,l){with(this){__.push("         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("<div>")}__.push('         <input type="radio" id="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(k==SelectedValue)!=="undefined"&&(k==SelectedValue)!=null)&&(typeof(k==SelectedValue)==="function"?(k==SelectedValue).call($item):(k==SelectedValue))){__.push(' checked="checked" ')}__.push("")}__.push(' value="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" />             <label for="');if(typeof(Name+k)!=="undefined"&&(Name+k)!=null){__.push($.encode((typeof(Name+k)==="function"?(Name+k).call($item):(Name+k))))}__.push('" data-fld="NoLocalize">');if(typeof(l)!=="undefined"&&(l)!=null){__.push((typeof(l)==="function"?(l).call($item):(l)))}__.push("</label>         ");if((typeof(Vertical)!=="undefined"&&(Vertical)!=null)&&(typeof(Vertical)==="function"?(Vertical).call($item):(Vertical))){__.push("</div>")}__.push("   ")}})}__.push("")}return __}jQuery.template("#RadioListTemplate",tmp_RadioListTemplate);function tmp_CountableDropDownListTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<select name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" class="selectText">   ');if(typeof(EP.BaseFunctions.GetArr)!=="undefined"&&(EP.BaseFunctions.GetArr)!=null){$.each(EP.BaseFunctions.GetArr(ListCount+1,StartedFrom),function(k,l){with(this){__.push('        <option value="');if(typeof(val)!=="undefined"&&(val)!=null){__.push($.encode((typeof(val)==="function"?(val).call($item):(val))))}__.push('" ');if((typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null)&&(typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))){__.push("");if((typeof(val==SelectedValue)!=="undefined"&&(val==SelectedValue)!=null)&&(typeof(val==SelectedValue)==="function"?(val==SelectedValue).call($item):(val==SelectedValue))){__.push(' selected="selected" ')}__.push("")}__.push(">");if(typeof(val)!=="undefined"&&(val)!=null){__.push($.encode((typeof(val)==="function"?(val).call($item):(val))))}__.push("</option>   ")}})}__.push(" </select>")}return __}jQuery.template("#CountableDropDownListTemplate",tmp_CountableDropDownListTemplate);function tmp_ButtonTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<button type="button" ');if((typeof($item.data.Enable==false)!=="undefined"&&($item.data.Enable==false)!=null)&&(typeof($item.data.Enable==false)==="function"?($item.data.Enable==false).call($item):($item.data.Enable==false))){__.push("disabled")}__.push(" ");if((typeof($item.data.Title)!=="undefined"&&($item.data.Title)!=null)&&(typeof($item.data.Title)==="function"?($item.data.Title).call($item):($item.data.Title))){__.push('title="');if(typeof(Title)!=="undefined"&&(Title)!=null){__.push($.encode((typeof(Title)==="function"?(Title).call($item):(Title))))}__.push('"')}__.push(' name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" class="');if((typeof(!$item.data.Class||($item.data.Class&&$item.data.Class.indexOf("negative")==-1&&$item.data.Class.indexOf("positive")==-1))!=="undefined"&&(!$item.data.Class||($item.data.Class&&$item.data.Class.indexOf("negative")==-1&&$item.data.Class.indexOf("positive")==-1))!=null)&&(typeof(!$item.data.Class||($item.data.Class&&$item.data.Class.indexOf("negative")==-1&&$item.data.Class.indexOf("positive")==-1))==="function"?(!$item.data.Class||($item.data.Class&&$item.data.Class.indexOf("negative")==-1&&$item.data.Class.indexOf("positive")==-1)).call($item):(!$item.data.Class||($item.data.Class&&$item.data.Class.indexOf("negative")==-1&&$item.data.Class.indexOf("positive")==-1)))){__.push(" negative ")}__.push("");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("\"><span><label data-fld='");if((typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null)&&(typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))){__.push("");if(typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null){__.push($.encode((typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))))}__.push("")}else{if((true)&&true){__.push("");if(typeof("TableButton."+Text+".Text")!=="undefined"&&("TableButton."+Text+".Text")!=null){__.push($.encode((typeof("TableButton."+Text+".Text")==="function"?("TableButton."+Text+".Text").call($item):("TableButton."+Text+".Text"))))}__.push("")}}__.push("'>");if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push("</label></span></button>")}return __}jQuery.template("#ButtonTemplate",tmp_ButtonTemplate);function tmp_SubmitButtonTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<button type="submit" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" class="');if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push('"><span><label data-fld="');if((typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null)&&(typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))){__.push("");if(typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null){__.push($.encode((typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))))}__.push("")}else{if((true)&&true){__.push("");if(typeof("TableButton."+Text+".Text")!=="undefined"&&("TableButton."+Text+".Text")!=null){__.push($.encode((typeof("TableButton."+Text+".Text")==="function"?("TableButton."+Text+".Text").call($item):("TableButton."+Text+".Text"))))}__.push("")}}__.push('">');if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push("</label></span></button>")}return __}jQuery.template("#SubmitButtonTemplate",tmp_SubmitButtonTemplate);function tmp_ImageButtonTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<button type="button" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" class="');if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push('" icons-primary="');if(typeof(IconsPrimary)!=="undefined"&&(IconsPrimary)!=null){__.push($.encode((typeof(IconsPrimary)==="function"?(IconsPrimary).call($item):(IconsPrimary))))}__.push('" icons-secondary="');if(typeof(IconsSecondary)!=="undefined"&&(IconsSecondary)!=null){__.push($.encode((typeof(IconsSecondary)==="function"?(IconsSecondary).call($item):(IconsSecondary))))}__.push('" text="');if(typeof(TextVisible)!=="undefined"&&(TextVisible)!=null){__.push($.encode((typeof(TextVisible)==="function"?(TextVisible).call($item):(TextVisible))))}__.push('" button-type="image-button"><span><label data-fld="');if((typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null)&&(typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))){__.push("");if(typeof(LocalizeKey)!=="undefined"&&(LocalizeKey)!=null){__.push($.encode((typeof(LocalizeKey)==="function"?(LocalizeKey).call($item):(LocalizeKey))))}__.push("")}else{if((true)&&true){__.push("");if(typeof("TableButton."+Text+".Text")!=="undefined"&&("TableButton."+Text+".Text")!=null){__.push($.encode((typeof("TableButton."+Text+".Text")==="function"?("TableButton."+Text+".Text").call($item):("TableButton."+Text+".Text"))))}__.push("")}}__.push('">');if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push("</label></span></button>")}return __}jQuery.template("#ImageButtonTemplate",tmp_ImageButtonTemplate);function tmp_TextTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push($.encode(EP.Localization.Get(Text,Key?Key:"")))}__.push("")}return __}jQuery.template("#TextTemplate",tmp_TextTemplate);function tmp_AgentSignatureTextTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" class="txtText" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('" ');if((typeof(EP.StateManager)!=="undefined"&&(EP.StateManager)!=null)&&EP.StateManager("LoggedInUser")){__.push(' value="');if(typeof(EP.StateManager("LoggedInUser").User.UserInformation.UserName)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UserInformation.UserName)!=null){__.push($.encode((typeof(EP.StateManager("LoggedInUser").User.UserInformation.UserName)==="function"?(EP.StateManager("LoggedInUser").User.UserInformation.UserName).call($item):(EP.StateManager("LoggedInUser").User.UserInformation.UserName))))}__.push('" ')}else{if((true)&&true){__.push(' value="" ')}}__.push(" />")}return __}jQuery.template("#AgentSignatureTextTemplate",tmp_AgentSignatureTextTemplate);function tmp_txtSecondayLevelMarkupField(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<input type="text" maxlength="8" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('"  placeholder="0.000" onkeyup="this.value=this.value.replace(/[^\\d+\\.?\\d]/,\'\')" value="');if(typeof(Value.toNumberString)!=="undefined"&&(Value.toNumberString)!=null){__.push($.encode(Value.toNumberString()))}__.push('" withoutstar="true"  class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#txtSecondayLevelMarkupField",tmp_txtSecondayLevelMarkupField);function tmp_ManualCostAmount(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<!-- 09226158 --->     <input type="text" maxlength="8" name="');if(typeof(Name)!=="undefined"&&(Name)!=null){__.push($.encode((typeof(Name)==="function"?(Name).call($item):(Name))))}__.push('"  placeholder="');if(typeof($.format)!=="undefined"&&($.format)!=null){__.push($.encode($.format(0*1,"n")))}__.push('" onkeyup="');if(typeof(ControlOnKeyup)!=="undefined"&&(ControlOnKeyup)!=null){__.push($.encode((typeof(ControlOnKeyup)==="function"?(ControlOnKeyup).call($item):(ControlOnKeyup))))}__.push('" value="');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push('" withoutstar="true"  class="txtText');if((typeof(Class)!=="undefined"&&(Class)!=null)&&(typeof(Class)==="function"?(Class).call($item):(Class))){__.push(" ");if(typeof(Class)!=="undefined"&&(Class)!=null){__.push($.encode((typeof(Class)==="function"?(Class).call($item):(Class))))}__.push("")}__.push('" />')}return __}jQuery.template("#ManualCostAmount",tmp_ManualCostAmount);function tmp_NullCheckBoxTemplate(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<img name="NullCheckBoxImg" align="absmiddle" src="');if(typeof(ImageSrc)!=="undefined"&&(ImageSrc)!=null){__.push($.encode((typeof(ImageSrc)==="function"?(ImageSrc).call($item):(ImageSrc))))}__.push('"/>     <span name="NullCheckBoxSpan">');if(typeof(Text)!=="undefined"&&(Text)!=null){__.push($.encode((typeof(Text)==="function"?(Text).call($item):(Text))))}__.push('</span>     <input name="NullCheckBoxInput" type=\'hidden\' value="');if(typeof(SelectedValue)!=="undefined"&&(SelectedValue)!=null){__.push($.encode((typeof(SelectedValue)==="function"?(SelectedValue).call($item):(SelectedValue))))}__.push('"/>')}return __}jQuery.template("#NullCheckBoxTemplate",tmp_NullCheckBoxTemplate);function tmp_HostAdminPanel(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="HostAdminPanelContainer forceLTR">     <a href="javascript:void(0);" id="HostAdminPanelTrigger" class="trigger right">         <span class="HostAdminOpen">             Show Host Admin         </span>         <span class="HostAdminClose" style="display: none;">             Close Host Admin         </span>     </a>     <div id="HostAdminEditPanel" class="HostAdmin right" style="display:none">         <div id="HostAdminTabs">             <ul>                 ');if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1))){__.push('                 <li><a href="#HostAdminTab" style="color:#2e6e9e;">Settings</a></li>                 ')}__.push("                 ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1))){__.push('                 <li><a href="#ThemeRollerTab" style="color:#2e6e9e;">Theme Roller</a></li>                 ')}__.push("                                  ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1))){__.push('                 <li><a href="#ThemeWizardTab" style="color:#2e6e9e;">Theme Wizard</a></li>                 ')}__.push("                                  ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsFileMang")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsFileMang")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsFileMang")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsFileMang")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsFileMang")!=-1))){__.push('                   <li><a href="javascript:void();" id="lnkFileManager" style="color:#2e6e9e;">File Manager</a></li>                 ')}__.push("                </ul>              ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsHostAdmin")!=-1))){__.push('             <div id="HostAdminTab">                 <div id="HostAdminSettings">                     <h3 style="color:#2e6e9e;">Manage Modules</h3>                     <div class="tablecontainer">                         <div class="trrow">                             <div class="tdcell label">                                 <input id="IsEditMode" type="checkbox" /><label for="IsEditMode" data-fld="NoLocalize">Edit                                 Mode</label>                             </div>                             <div class="tdcell">                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Module                             </div>                             <div class="tdcell EditableProperties">                                 <select id="cmbModule">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Place                             </div>                             <div class="tdcell EditableProperties">                                 <select id="cmbPlaces">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Show all page<br />                                 (Template based)                             </div>                             <div class="tdcell EditableProperties">                                 <input id="IsStaticModule" type="checkbox" />                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell">                             </div>                             <div class="tdcell EditableProperties">                                 ');if(typeof("#ButtonTemplate")!=="undefined"&&("#ButtonTemplate")!=null){__=__.concat($item.nest("#ButtonTemplate",{Text:"Add Module",Name:"AddModule",LocalizeKey:"NoLocalize"}))}__.push('                             </div>                         </div>                     </div>                     <h3 style="color:#2e6e9e;">Page Settings</h3>                     <div class="tablecontainer">                         <div class="trrow">                             <div class="tdcell label">                                 Shell                             </div>                             <div class="tdcell">                                 <select id="cmbPageOuterLayout">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Content Layout                             </div>                             <div class="tdcell">                                 <select id="cmbPageTemplate">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Page Theme                             </div>                             <div class="tdcell">                                 <select id="cmbPageTheme">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Page Title<br />                                 (Only for this page)                             </div>                             <div class="tdcell">                                 <input id="txtPageTitle" type="text" />                             </div>                         </div>                         <div class="trrow PagelocalizationsRow">                             <div class="tdcell">                             </div>                             <div class="tdcell">                                 ');if(typeof("#ButtonTemplate")!=="undefined"&&("#ButtonTemplate")!=null){__=__.concat($item.nest("#ButtonTemplate",{Text:"Page Localization",Name:"Pagelocalizations",LocalizeKey:"NoLocalize"}))}__.push('                             </div>                         </div>                     </div>                     <h3 style="color:#2e6e9e;">Site Settings</h3>                     <div class="tablecontainer">                         <div class="trrow">                             <div class="tdcell label">                                 Version                             </div>                             <div class="tdcell">                                 <select id="cmbThemeVersion">                                 </select>                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Title (Default title)                             </div>                             <div class="tdcell">                                 <input id="txtSiteTitle" type="text" />                             </div>                         </div>                         <div class="trrow">                             <div class="tdcell label">                                 Default Theme                             </div>                             <div class="tdcell">                                 <select id="cmbDefaultTheme">                                 </select>                             </div>                         </div>                     </div>                 </div>             </div>             ')}__.push("              ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeRoller")!=-1))){__.push('             <div id="ThemeRollerTab">                 <div class="LessEditor">                 </div>             </div>             ')}__.push("                          ");if((typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)!=="undefined"&&(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)!=null)&&(typeof(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1)==="function"?(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1).call($item):(EP.StateManager("LoggedInUser").User.UICustomizationRights.indexOf("IsThemeWizard")!=-1))){__.push('                <div id="ThemeWizardTab">                    <div class="ThemeWizard">                    </div>                </div>             ')}__.push("                    </div>     </div> </div>")}return __}jQuery.template("#HostAdminPanel",tmp_HostAdminPanel);function tmp_AncillaryEticket(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="ETicketMail">     <div class="fn_Mail PrintLink" style="display: none">         <label data-fld="AWCHyperLink.Mail.Text" class="MailLinkWithImage link">E-mail</label>     </div> </div> <div class="fn_Print PrintLink">     <label data-fld="AWCHyperLink.Print.Text" class="PrintLinkWithImage link">Print</label> </div> <div class="tablecontainer">     <div class="trrow">         <div class="tdcell">             <div class="tablecontainer AncillaryDetailsContainer">                 <div class="trrow">                     <div class="tdcell bold anycolumn">                         <label data-fld="Document Number"></label>                     </div>                     <div class="tdcell anycolumn">');if(typeof(DocumentNumber)!=="undefined"&&(DocumentNumber)!=null){__.push($.encode((typeof(DocumentNumber)==="function"?(DocumentNumber).call($item):(DocumentNumber))))}__.push('</div>                     <div class="tdcell bold anycolumn">                         <label data-fld="Frequent Flyer"></label>                     </div>                     <div class="tdcell anycolumn">');if(typeof(FrequentFlyerCards)!=="undefined"&&(FrequentFlyerCards)!=null){__.push($.encode((typeof(FrequentFlyerCards)==="function"?(FrequentFlyerCards).call($item):(FrequentFlyerCards))))}__.push('</div>                 </div>                 <div class="trrow">                     <div class="tdcell bold anycolumn">                         <label data-fld="Name Surname"></label>                     </div>                     <div class="tdcell anycolumn">');if(typeof(PassengerFullName)!=="undefined"&&(PassengerFullName)!=null){__.push($.encode((typeof(PassengerFullName)==="function"?(PassengerFullName).call($item):(PassengerFullName))))}__.push('</div>                     <div class="tdcell bold anycolumn">                         <label data-fld="Form Of Identification"></label>                     </div>                     <div class="tdcell anycolumn">');if(typeof(FormOfIdentification)!=="undefined"&&(FormOfIdentification)!=null){__.push($.encode((typeof(FormOfIdentification)==="function"?(FormOfIdentification).call($item):(FormOfIdentification))))}__.push('</div>                 </div>             </div>         </div>     </div>     <div class="trrow">         <div class="tdcell"></div>     </div>     <div class="trrow">         <div class="tdcell">             <div class="tablecontainer">                 <div class="trrow AncillaryHeader">                     <div class="tdcell bold">                         <label data-fld="Reason for Issuance"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="PNR"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Date of issue"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="InterPlace Of Indicator"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="International Indicator"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="IATA Number"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Endorsable"></label>                     </div>                 </div>                 <div class="trrow eticketRecordRow">                     <div class="tdcell anycolumn">');if(typeof(IssuanceType)!=="undefined"&&(IssuanceType)!=null){__.push($.encode((typeof(IssuanceType)==="function"?(IssuanceType).call($item):(IssuanceType))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(PNR)!=="undefined"&&(PNR)!=null){__.push($.encode((typeof(PNR)==="function"?(PNR).call($item):(PNR))))}__.push('</div>                     <div class="tdcell anycolumn">');if((typeof(DateOfIssuance)!=="undefined"&&(DateOfIssuance)!=null)&&(typeof(DateOfIssuance)==="function"?(DateOfIssuance).call($item):(DateOfIssuance))){__.push(" ");if(typeof(DateOfIssuance.toFormattedDate)!=="undefined"&&(DateOfIssuance.toFormattedDate)!=null){__.push($.encode(DateOfIssuance.toFormattedDate("ddMMMyy")))}__.push(" ")}__.push('  </div>                     <div class="tdcell anycolumn">');if(typeof(PlaceOfIssue)!=="undefined"&&(PlaceOfIssue)!=null){__.push($.encode((typeof(PlaceOfIssue)==="function"?(PlaceOfIssue).call($item):(PlaceOfIssue))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(InternationalIndicator)!=="undefined"&&(InternationalIndicator)!=null){__.push($.encode((typeof(InternationalIndicator)==="function"?(InternationalIndicator).call($item):(InternationalIndicator))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(IATANumber)!=="undefined"&&(IATANumber)!=null){__.push($.encode((typeof(IATANumber)==="function"?(IATANumber).call($item):(IATANumber))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(Endorsable)!=="undefined"&&(Endorsable)!=null){__.push($.encode((typeof(Endorsable)==="function"?(Endorsable).call($item):(Endorsable))))}__.push('</div>                 </div>             </div>         </div>     </div>     <div class="trrow">         <div class="tdcell"></div>     </div>     ');if((typeof(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)!=="undefined"&&(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)!=null)&&(typeof(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)==="function"?(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0).call($item):(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0))){__.push('         <div class="trrow">             <div class="tdcell bold">                 <label data-fld="Remarks"></label>             </div>         </div>         <div class="trrow">             <div class="tdcell">                 <div class="tablecontainer AncillaryRemarksContainer">                     ');if(typeof(AncillaryTicketRemarks)!=="undefined"&&(AncillaryTicketRemarks)!=null){$.each((typeof(AncillaryTicketRemarks)==="function"?(AncillaryTicketRemarks).call($item):(AncillaryTicketRemarks)),function(k,l){with(this){__.push('                   <div class="trrow">                       <div class="tdcell anycolumn">');if(typeof(l.Remark)!=="undefined"&&(l.Remark)!=null){__.push($.encode((typeof(l.Remark)==="function"?(l.Remark).call($item):(l.Remark))))}__.push("</div>                   </div>                     ")}})}__.push("                 </div>             </div>         </div>     ")}__.push('     <div class="trrow">         <div class="tdcell"></div>     </div>     <div class="trrow">          <div class="tdcell bold">             <label data-fld="Coupons"></label>          </div>     </div>     <div class="trrow">         <div class="tdcell">             ');if(typeof(AncillaryTicketCoupons)!=="undefined"&&(AncillaryTicketCoupons)!=null){$.each((typeof(AncillaryTicketCoupons)==="function"?(AncillaryTicketCoupons).call($item):(AncillaryTicketCoupons)),function(k,l){with(this){__.push('             <div class="tablecontainer">                 <div class="trrow AncillaryHeader">                     <div class="tdcell bold">                         <label data-fld=""></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="RFISC"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Operating Airline"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Origin Destination"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Status"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Issued in Connection with ticket"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Value"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Details"></label>                     </div>                 </div>                 <div class="trrow">                     <div class="tdcell anycolumn">');if(typeof(l.cpnNumber)!=="undefined"&&(l.cpnNumber)!=null){__.push($.encode((typeof(l.cpnNumber)==="function"?(l.cpnNumber).call($item):(l.cpnNumber))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.IssuanceSubCode)!=="undefined"&&(l.IssuanceSubCode)!=null){__.push($.encode((typeof(l.IssuanceSubCode)==="function"?(l.IssuanceSubCode).call($item):(l.IssuanceSubCode))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.OperatingAirline)!=="undefined"&&(l.OperatingAirline)!=null){__.push($.encode((typeof(l.OperatingAirline)==="function"?(l.OperatingAirline).call($item):(l.OperatingAirline))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.OriginDestination)!=="undefined"&&(l.OriginDestination)!=null){__.push($.encode((typeof(l.OriginDestination)==="function"?(l.OriginDestination).call($item):(l.OriginDestination))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.Status)!=="undefined"&&(l.Status)!=null){__.push($.encode((typeof(l.Status)==="function"?(l.Status).call($item):(l.Status))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.ConnectionWithEticket)!=="undefined"&&(l.ConnectionWithEticket)!=null){__.push($.encode((typeof(l.ConnectionWithEticket)==="function"?(l.ConnectionWithEticket).call($item):(l.ConnectionWithEticket))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponValue)!=="undefined"&&(l.CouponValue)!=null){__.push($.encode((typeof(l.CouponValue)==="function"?(l.CouponValue).call($item):(l.CouponValue))))}__.push('</div>                     <div class="tdcell anycolumn">                         <label class="fn_CouponDetail link" detailindex="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" data-fld="Details +"></label>                     </div>                 </div>             </div>             <div class="tablecontainer AncillaryMoreDetailsContainer" id="coupnDetail');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" style="display: none">                 <div class="trrow AncillaryHeader">                     <div class="tdcell bold">                         <label data-fld="Refundable"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Exchangeable"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Interlinable"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Consummed at issuance"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Excess baggage"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Rate per unit"></label>                     </div>                 </div>                 <div class="trrow">                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.Refundable)!=="undefined"&&(l.CouponDetail.Refundable)!=null){__.push($.encode((typeof(l.CouponDetail.Refundable)==="function"?(l.CouponDetail.Refundable).call($item):(l.CouponDetail.Refundable))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.Exchangeable)!=="undefined"&&(l.CouponDetail.Exchangeable)!=null){__.push($.encode((typeof(l.CouponDetail.Exchangeable)==="function"?(l.CouponDetail.Exchangeable).call($item):(l.CouponDetail.Exchangeable))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.Interlinable)!=="undefined"&&(l.CouponDetail.Interlinable)!=null){__.push($.encode((typeof(l.CouponDetail.Interlinable)==="function"?(l.CouponDetail.Interlinable).call($item):(l.CouponDetail.Interlinable))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.ConsummedIssuance)!=="undefined"&&(l.CouponDetail.ConsummedIssuance)!=null){__.push($.encode((typeof(l.CouponDetail.ConsummedIssuance)==="function"?(l.CouponDetail.ConsummedIssuance).call($item):(l.CouponDetail.ConsummedIssuance))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.ExcessBaggage)!=="undefined"&&(l.CouponDetail.ExcessBaggage)!=null){__.push($.encode((typeof(l.CouponDetail.ExcessBaggage)==="function"?(l.CouponDetail.ExcessBaggage).call($item):(l.CouponDetail.ExcessBaggage))))}__.push('</div>                     <div class="tdcell anycolumn">');if(typeof(l.CouponDetail.RatePerUnit)!=="undefined"&&(l.CouponDetail.RatePerUnit)!=null){__.push($.encode((typeof(l.CouponDetail.RatePerUnit)==="function"?(l.CouponDetail.RatePerUnit).call($item):(l.CouponDetail.RatePerUnit))))}__.push("</div>                 </div>             </div>             <br />             ")}})}__.push('         </div>     </div>     <div class="trrow">         <div class="tdcell"></div>     </div>     <div class="trrow">         <div class="tdcell bold">             <label data-fld="Issuing status: First issue"></label>         </div>     </div>     <div class="trrow">         <div class="tdcell">             <div class="tablecontainer IssuingContainer">                 <div class="trrow AncillaryHeader">                     <div class="tdcell bold">                         <label data-fld="Fare Information"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Currency"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Amount"></label>                     </div>                 </div>                  ');if(typeof(AncillaryTicketFaresInfo)!=="undefined"&&(AncillaryTicketFaresInfo)!=null){$.each((typeof(AncillaryTicketFaresInfo)==="function"?(AncillaryTicketFaresInfo).call($item):(AncillaryTicketFaresInfo)),function(k,l){with(this){__.push('                           <div class="trrow">                               <div class="tdcell anycolumn">');if(typeof(l.FareType)!=="undefined"&&(l.FareType)!=null){__.push($.encode((typeof(l.FareType)==="function"?(l.FareType).call($item):(l.FareType))))}__.push('</div>                               <div class="tdcell anycolumn">');if(typeof(EP.Money.Converted)!=="undefined"&&(EP.Money.Converted)!=null){__.push(EP.Money.Converted(l.Amount,l.Currency,"amountHtml"))}__.push('</div>                               <div class="tdcell anycolumn">');if(typeof(EP.Money.UserCurrency)!=="undefined"&&(EP.Money.UserCurrency)!=null){__.push(EP.Money.UserCurrency(l.Currency))}__.push("</div>                           </div>                 ")}})}__.push('              </div>         </div>     </div>     <div class="trrow">         <div class="tdcell"></div>     </div>     <div class="trrow">         <div class="tdcell bold">             <label data-fld="Form of Payment"></label>         </div>     </div>     <div class="trrow">         <div class="tdcell">             <div class="tablecontainer FormOfPaymentContainer">                 <div class="trrow AncillaryHeader">                     <div class="tdcell bold">                         <label data-fld="Type"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Details"></label>                     </div>                     <div class="tdcell bold">                         <label data-fld="Amount per passenger"></label>                     </div>                 </div>                 <div class="trrow eticketRecordRow">                     <div class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentType)!=="undefined"&&(AncillaryTicketFOP.PaymentType)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentType)==="function"?(AncillaryTicketFOP.PaymentType).call($item):(AncillaryTicketFOP.PaymentType))))}__.push("  ")}__.push(' </div>                     <div class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentDetail)!=="undefined"&&(AncillaryTicketFOP.PaymentDetail)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentDetail)==="function"?(AncillaryTicketFOP.PaymentDetail).call($item):(AncillaryTicketFOP.PaymentDetail))))}__.push(" ")}__.push(' </div>                     <div class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentAmountDetail)!=="undefined"&&(AncillaryTicketFOP.PaymentAmountDetail)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentAmountDetail)==="function"?(AncillaryTicketFOP.PaymentAmountDetail).call($item):(AncillaryTicketFOP.PaymentAmountDetail))))}__.push(" ")}__.push(" </div>                 </div>             </div>         </div>     </div> </div>")}return __}jQuery.template("#AncillaryEticket",tmp_AncillaryEticket);function tmp_MailAncillaryEticketContent(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<style type="text/css" id="AncillaryETicketMailContentStyles">     .tablecontainer {         width: 100%;     }      .tdcell {         height: 28px;     }      .bold {         font-weight: bold;     }      .AncillaryEticketMailContainer {         padding: 30px;     }          .AncillaryEticketMailContainer .PrintLink {             float: right;             font-weight: bold;             padding: 3px;         }          .AncillaryEticketMailContainer .AncillaryHeader .tdcell {             background-color: #F2F2F2;             padding-left: 5px;             border-top: solid 1px #E2E2E2;         }          .AncillaryEticketMailContainer .tablecontainer .tdcell.anycolumn {             padding-left: 5px;             border-right: 1px dotted #CCC;             border-bottom: 1px dotted #CCC;         }          .AncillaryEticketMailContainer .AncillaryDetailsContainer, .AncillaryEticketMailContainer .AncillaryRemarksContainer {             border-top: solid 1px #E2E2E2;         }              .AncillaryEticketMailContainer .AncillaryDetailsContainer .tdcell {                 width: 25%;             }          .AncillaryEticketMailContainer .IssuingContainer .tdcell, .AncillaryEticketMailContainer .FormOfPaymentContainer .tdcell {             width: 33%;         }      .AncillaryMoreDetailsContainer {         margin-top: -3px;         margin-left: 22px;         width: 98%;     } </style> <div class="AncillaryEticketMailContainer"> <div class="fn_Print PrintLink">     <label data-fld="AWCHyperLink.Print.Text" class="PrintLinkWithImage link">Print</label> </div> <table class="tablecontainer">     <tr class="trrow">         <td class="tdcell">             <table class="tablecontainer AncillaryDetailsContainer">                 <tr class="trrow">                     <td class="tdcell bold anycolumn">                         <label data-fld="Document Number"></label>                     </td>                     <td class="tdcell anycolumn">');if(typeof(DocumentNumber)!=="undefined"&&(DocumentNumber)!=null){__.push($.encode((typeof(DocumentNumber)==="function"?(DocumentNumber).call($item):(DocumentNumber))))}__.push('</td>                     <td class="tdcell bold anycolumn">                         <label data-fld="Frequent Flyer"></label>                     </td>                     <td class="tdcell anycolumn">');if(typeof(FrequentFlyerCards)!=="undefined"&&(FrequentFlyerCards)!=null){__.push($.encode((typeof(FrequentFlyerCards)==="function"?(FrequentFlyerCards).call($item):(FrequentFlyerCards))))}__.push('</td>                 </tr>                 <div class="trrow">                     <td class="tdcell bold anycolumn">                         <label data-fld="Name Surname"></label>                     </td>                     <td class="tdcell anycolumn">');if(typeof(PassengerFullName)!=="undefined"&&(PassengerFullName)!=null){__.push($.encode((typeof(PassengerFullName)==="function"?(PassengerFullName).call($item):(PassengerFullName))))}__.push('</td>                     <td class="tdcell bold anycolumn">                         <label data-fld="Form Of Identification"></label>                     </td>                     <div class="tdcell anycolumn">');if(typeof(FormOfIdentification)!=="undefined"&&(FormOfIdentification)!=null){__.push($.encode((typeof(FormOfIdentification)==="function"?(FormOfIdentification).call($item):(FormOfIdentification))))}__.push('</div>                 </div>             </table>         </td>     </tr>     <tr class="trrow">         <td class="tdcell"></td>     </tr>     <tr class="trrow">         <td class="tdcell">             <table class="tablecontainer">                 <tr class="trrow AncillaryHeader">                     <td class="tdcell bold">                         <label data-fld="Reason for Issuance"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="PNR"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Date of issue"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="InterPlace Of Indicator"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="International Indicator"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="IATA Number"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Endorsable"></label>                     </td>                 </tr>                 <tr class="trrow eticketRecordRow">                     <td class="tdcell anycolumn">');if(typeof(IssuanceType)!=="undefined"&&(IssuanceType)!=null){__.push($.encode((typeof(IssuanceType)==="function"?(IssuanceType).call($item):(IssuanceType))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(PNR)!=="undefined"&&(PNR)!=null){__.push($.encode((typeof(PNR)==="function"?(PNR).call($item):(PNR))))}__.push('</td>                     <td class="tdcell anycolumn">');if((typeof(DateOfIssuance)!=="undefined"&&(DateOfIssuance)!=null)&&(typeof(DateOfIssuance)==="function"?(DateOfIssuance).call($item):(DateOfIssuance))){__.push(" ");if(typeof(DateOfIssuance.toFormattedDate)!=="undefined"&&(DateOfIssuance.toFormattedDate)!=null){__.push($.encode(DateOfIssuance.toFormattedDate("ddMMMyy")))}__.push(" ")}__.push('  </td>                     <td class="tdcell anycolumn">');if(typeof(PlaceOfIssue)!=="undefined"&&(PlaceOfIssue)!=null){__.push($.encode((typeof(PlaceOfIssue)==="function"?(PlaceOfIssue).call($item):(PlaceOfIssue))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(InternationalIndicator)!=="undefined"&&(InternationalIndicator)!=null){__.push($.encode((typeof(InternationalIndicator)==="function"?(InternationalIndicator).call($item):(InternationalIndicator))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(IATANumber)!=="undefined"&&(IATANumber)!=null){__.push($.encode((typeof(IATANumber)==="function"?(IATANumber).call($item):(IATANumber))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(Endorsable)!=="undefined"&&(Endorsable)!=null){__.push($.encode((typeof(Endorsable)==="function"?(Endorsable).call($item):(Endorsable))))}__.push('</td>                 </tr>             </table>         </td>     </tr>     <tr class="trrow">         <td class="tdcell"></td>     </tr>     ');if((typeof(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)!=="undefined"&&(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)!=null)&&(typeof(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0)==="function"?(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0).call($item):(AncillaryTicketRemarks&&AncillaryTicketRemarks.lengt>0))){__.push('     <tr class="trrow">         <td class="tdcell bold">             <label data-fld="Remarks"></label>         </td>     </tr>     <tr class="trrow">         <td class="tdcell">             <table class="tablecontainer AncillaryRemarksContainer">                 ');if(typeof(AncillaryTicketRemarks)!=="undefined"&&(AncillaryTicketRemarks)!=null){$.each((typeof(AncillaryTicketRemarks)==="function"?(AncillaryTicketRemarks).call($item):(AncillaryTicketRemarks)),function(k,l){with(this){__.push('                 <tr class="trrow">                     <td class="tdcell anycolumn">');if(typeof(l.Remark)!=="undefined"&&(l.Remark)!=null){__.push($.encode((typeof(l.Remark)==="function"?(l.Remark).call($item):(l.Remark))))}__.push("</td>                 </tr>                 ")}})}__.push("             </table>         </td>     </tr>     ")}__.push('     <tr class="trrow">         <td class="tdcell"></td>     </tr>     <tr class="trrow">         <td class="tdcell bold">             <label data-fld="Coupons"></label>         </td>     </tr>     <tr class="trrow">         <td class="tdcell">             ');if(typeof(AncillaryTicketCoupons)!=="undefined"&&(AncillaryTicketCoupons)!=null){$.each((typeof(AncillaryTicketCoupons)==="function"?(AncillaryTicketCoupons).call($item):(AncillaryTicketCoupons)),function(k,l){with(this){__.push('             <table class="tablecontainer">                 <tr class="trrow AncillaryHeader">                     <td class="tdcell bold">                         <label data-fld=""></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="RFISC"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Operating Airline"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Origin Destination"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Status"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Issued in Connection with ticket"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Value"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Details"></label>                     </td>                 </tr>                 <tr class="trrow">                     <td class="tdcell anycolumn">');if(typeof(l.cpnNumber)!=="undefined"&&(l.cpnNumber)!=null){__.push($.encode((typeof(l.cpnNumber)==="function"?(l.cpnNumber).call($item):(l.cpnNumber))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.IssuanceSubCode)!=="undefined"&&(l.IssuanceSubCode)!=null){__.push($.encode((typeof(l.IssuanceSubCode)==="function"?(l.IssuanceSubCode).call($item):(l.IssuanceSubCode))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.OperatingAirline)!=="undefined"&&(l.OperatingAirline)!=null){__.push($.encode((typeof(l.OperatingAirline)==="function"?(l.OperatingAirline).call($item):(l.OperatingAirline))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.OriginDestination)!=="undefined"&&(l.OriginDestination)!=null){__.push($.encode((typeof(l.OriginDestination)==="function"?(l.OriginDestination).call($item):(l.OriginDestination))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.Status)!=="undefined"&&(l.Status)!=null){__.push($.encode((typeof(l.Status)==="function"?(l.Status).call($item):(l.Status))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.ConnectionWithEticket)!=="undefined"&&(l.ConnectionWithEticket)!=null){__.push($.encode((typeof(l.ConnectionWithEticket)==="function"?(l.ConnectionWithEticket).call($item):(l.ConnectionWithEticket))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponValue)!=="undefined"&&(l.CouponValue)!=null){__.push($.encode((typeof(l.CouponValue)==="function"?(l.CouponValue).call($item):(l.CouponValue))))}__.push('</td>                     <td class="tdcell anycolumn">                         <label class="fn_CouponDetail link" detailindex="');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('" data-fld="Details +"></label>                     </td>                 </tr>             </table>             <table class="tablecontainer AncillaryMoreDetailsContainer" id="coupnDetail');if(typeof(k)!=="undefined"&&(k)!=null){__.push($.encode((typeof(k)==="function"?(k).call($item):(k))))}__.push('">                 <tr class="trrow AncillaryHeader">                     <td class="tdcell bold">                         <label data-fld="Refundable"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Exchangeable"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Interlinable"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Consummed at issuance"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Excess baggage"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Rate per unit"></label>                     </td>                 </tr>                 <tr class="trrow">                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.Refundable)!=="undefined"&&(l.CouponDetail.Refundable)!=null){__.push($.encode((typeof(l.CouponDetail.Refundable)==="function"?(l.CouponDetail.Refundable).call($item):(l.CouponDetail.Refundable))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.Exchangeable)!=="undefined"&&(l.CouponDetail.Exchangeable)!=null){__.push($.encode((typeof(l.CouponDetail.Exchangeable)==="function"?(l.CouponDetail.Exchangeable).call($item):(l.CouponDetail.Exchangeable))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.Interlinable)!=="undefined"&&(l.CouponDetail.Interlinable)!=null){__.push($.encode((typeof(l.CouponDetail.Interlinable)==="function"?(l.CouponDetail.Interlinable).call($item):(l.CouponDetail.Interlinable))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.ConsummedIssuance)!=="undefined"&&(l.CouponDetail.ConsummedIssuance)!=null){__.push($.encode((typeof(l.CouponDetail.ConsummedIssuance)==="function"?(l.CouponDetail.ConsummedIssuance).call($item):(l.CouponDetail.ConsummedIssuance))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.ExcessBaggage)!=="undefined"&&(l.CouponDetail.ExcessBaggage)!=null){__.push($.encode((typeof(l.CouponDetail.ExcessBaggage)==="function"?(l.CouponDetail.ExcessBaggage).call($item):(l.CouponDetail.ExcessBaggage))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(l.CouponDetail.RatePerUnit)!=="undefined"&&(l.CouponDetail.RatePerUnit)!=null){__.push($.encode((typeof(l.CouponDetail.RatePerUnit)==="function"?(l.CouponDetail.RatePerUnit).call($item):(l.CouponDetail.RatePerUnit))))}__.push("</td>                 </tr>             </table>             <br />             ")}})}__.push('         </td>     </tr>     <tr class="trrow">         <td class="tdcell"></td>     </tr>     <tr class="trrow">         <td class="tdcell bold">             <label data-fld="Issuing status: First issue"></label>         </td>     </tr>     <tr class="trrow">         <td class="tdcell">             <table class="tablecontainer IssuingContainer">                 <tr class="trrow AncillaryHeader">                     <td class="tdcell bold">                         <label data-fld="Fare Information"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Currency"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Amount"></label>                     </td>                 </tr>                  ');if(typeof(AncillaryTicketFaresInfo)!=="undefined"&&(AncillaryTicketFaresInfo)!=null){$.each((typeof(AncillaryTicketFaresInfo)==="function"?(AncillaryTicketFaresInfo).call($item):(AncillaryTicketFaresInfo)),function(k,l){with(this){__.push('                 <tr class="trrow">                     <td class="tdcell anycolumn">');if(typeof(l.FareType)!=="undefined"&&(l.FareType)!=null){__.push($.encode((typeof(l.FareType)==="function"?(l.FareType).call($item):(l.FareType))))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(EP.Money.Converted)!=="undefined"&&(EP.Money.Converted)!=null){__.push(EP.Money.Converted(l.Amount,l.Currency,"amountHtml"))}__.push('</td>                     <td class="tdcell anycolumn">');if(typeof(EP.Money.UserCurrency)!=="undefined"&&(EP.Money.UserCurrency)!=null){__.push(EP.Money.UserCurrency(l.Currency))}__.push("</td>                 </tr>                 ")}})}__.push('              </table>         </td>     </tr>     <tr class="trrow">         <td class="tdcell"></td>     </tr>     <tr class="trrow">         <td class="tdcell bold">             <label data-fld="Form of Payment"></label>         </td>     </tr>     <tr class="trrow">         <td class="tdcell">             <table class="tablecontainer FormOfPaymentContainer">                 <tr class="trrow AncillaryHeader">                     <td class="tdcell bold">                         <label data-fld="Type"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Details"></label>                     </td>                     <td class="tdcell bold">                         <label data-fld="Amount per passenger"></label>                     </td>                 </tr>                 <tr class="trrow eticketRecordRow">                     <td class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentType)!=="undefined"&&(AncillaryTicketFOP.PaymentType)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentType)==="function"?(AncillaryTicketFOP.PaymentType).call($item):(AncillaryTicketFOP.PaymentType))))}__.push("  ")}__.push(' </td>                     <td class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentDetail)!=="undefined"&&(AncillaryTicketFOP.PaymentDetail)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentDetail)==="function"?(AncillaryTicketFOP.PaymentDetail).call($item):(AncillaryTicketFOP.PaymentDetail))))}__.push(" ")}__.push(' </td>                     <td class="tdcell anycolumn">');if((typeof(AncillaryTicketFOP)!=="undefined"&&(AncillaryTicketFOP)!=null)&&(typeof(AncillaryTicketFOP)==="function"?(AncillaryTicketFOP).call($item):(AncillaryTicketFOP))){__.push("  ");if(typeof(AncillaryTicketFOP.PaymentAmountDetail)!=="undefined"&&(AncillaryTicketFOP.PaymentAmountDetail)!=null){__.push($.encode((typeof(AncillaryTicketFOP.PaymentAmountDetail)==="function"?(AncillaryTicketFOP.PaymentAmountDetail).call($item):(AncillaryTicketFOP.PaymentAmountDetail))))}__.push(" ")}__.push(" </td>                 </tr>             </table>         </td>     </tr> </table> </div>")}return __}jQuery.template("#MailAncillaryEticketContent",tmp_MailAncillaryEticketContent);function tmp_ChatSupport(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="ChatSupportContainer">     <table>         <tr>             <td colspan="2">                 <div id="chatWin" style="background-color: white; height: 325px; width: 290px; overflow: auto;"></div>             </td>         </tr>         <tr>             <td>                 <input id="txtMessage" type="text" />             </td>             <td>                 <button id="sendMessage">Send</button>             </td>         </tr>     </table> </div>')}return __}jQuery.template("#ChatSupport",tmp_ChatSupport);function tmp_BannerCookies(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="CookiePolicy">     <div class="tablecontainer">         <div class="trrow">             <div class="tdcell">                 <img src="Images/info.png" style="float:left; margin-right:6px; height:16px;"/>                 <label>                      This site uses cookies placed by us and third parties to assist you in your navigation of the site, collect statistical information and show you relevant advertising</label>                                  <a href="javascript:void(0)" class="fn_cookiesPolicy link bold DoLocalize">Cookies Policy</a>             </div>             <div class="tdcell">                 <a href="javascript:void(0)" class="fn_closeCookies closeCookies link"><label class="bold">Close</label> X</a>             </div>         </div>     </div> </div>')}return __}jQuery.template("#BannerCookies",tmp_BannerCookies);function tmp_CookiesPolicy(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="CookiePolicyContent">      <h5 style="color: #999999;">         <label>Cookies Last updated :</label>     </h5>     <label>Cookies Policy Content</label> </div>')}return __}jQuery.template("#CookiesPolicy",tmp_CookiesPolicy);function tmp_CurrencySelect(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="CurrrencySelect">     ');if((typeof(SelectedDesign=="DropDownCode")!=="undefined"&&(SelectedDesign=="DropDownCode")!=null)&&(typeof(SelectedDesign=="DropDownCode")==="function"?(SelectedDesign=="DropDownCode").call($item):(SelectedDesign=="DropDownCode"))){__.push('          <div class="DropDownCodeContainer">             ');if(typeof("#DropDownListTemplate")!=="undefined"&&("#DropDownListTemplate")!=null){__=__.concat($item.nest("#DropDownListTemplate",{Name:"CurrencyDropDown",SelectedValue:SelectedCurrency,DataSource:CurrencyDataSource}))}__.push("             </div>     ")}else{if((typeof(SelectedDesign=="DropDownCodeName")!=="undefined"&&(SelectedDesign=="DropDownCodeName")!=null)&&(typeof(SelectedDesign=="DropDownCodeName")==="function"?(SelectedDesign=="DropDownCodeName").call($item):(SelectedDesign=="DropDownCodeName"))){__.push('          <div class="DropDownCodeNameContainer">             ');if(typeof("#DropDownListTemplate")!=="undefined"&&("#DropDownListTemplate")!=null){__=__.concat($item.nest("#DropDownListTemplate",{Name:"CurrencyDropDownCodeName",SelectedValue:SelectedCurrency,DataSource:CurrencyDataSource}))}__.push("         </div>        ")}else{if((typeof(SelectedDesign=="Popup")!=="undefined"&&(SelectedDesign=="Popup")!=null)&&(typeof(SelectedDesign=="Popup")==="function"?(SelectedDesign=="Popup").call($item):(SelectedDesign=="Popup"))){__.push('         <div class="tablecontainer PopupContainer">             <div class="trrow">                 <div class="tdcell">                     <a class="link fn_OpenCurrencySelectPopup" href="javascript:void(0)">                         ');if(typeof(SelectedCurrencyValue)!=="undefined"&&(SelectedCurrencyValue)!=null){__.push($.encode((typeof(SelectedCurrencyValue)==="function"?(SelectedCurrencyValue).call($item):(SelectedCurrencyValue))))}__.push('<img src="Images/fare_d.gif" />                     </a>                 </div>             </div>         </div>     ')}}}__.push(" </div>")}return __}jQuery.template("#CurrencySelect",tmp_CurrencySelect);function tmp_CurrencySelectPopup(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="CurrencyPopup">     <div class="tablecontainer">         <div class="trrow">             ');if(typeof(PopupDataSource)!=="undefined"&&(PopupDataSource)!=null){$.each((typeof(PopupDataSource)==="function"?(PopupDataSource).call($item):(PopupDataSource)),function($index,$value){with(this){__.push('             <div class="tdcell valignTop Group">                 ');if(typeof(this)!=="undefined"&&(this)!=null){$.each((typeof(this)==="function"?(this).call($item):(this)),function($index,$value){with(this){__.push('                 <div class="GroupItems">                     <a class="fn_ChangeCurrency link" href="javascript:void(0)" data-currency-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">                         <label data-fld="NoLocalize">');if(typeof(Value)!=="undefined"&&(Value)!=null){__.push($.encode((typeof(Value)==="function"?(Value).call($item):(Value))))}__.push("</label>                     </a>                 </div>                 ")}})}__.push("             </div>             ")}})}__.push("         </div>     </div>  </div>")}return __}jQuery.template("#CurrencySelectPopup",tmp_CurrencySelectPopup);function tmp_DeepLink(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkMainTable DeepLink_');if(typeof(GroupCode)!=="undefined"&&(GroupCode)!=null){__.push($.encode((typeof(GroupCode)==="function"?(GroupCode).call($item):(GroupCode))))}__.push('">     ');if((typeof(DeepLinksColumns)!=="undefined"&&(DeepLinksColumns)!=null)&&(typeof(DeepLinksColumns)==="function"?(DeepLinksColumns).call($item):(DeepLinksColumns))){__.push('         <div class="tablecontainer DeepLink">             <div class="trrow">                 <div class="tdcell bold DeepLink_Col1_Header">                     ');if(typeof(ColumnTitles[0])!=="undefined"&&(ColumnTitles[0])!=null){__.push($.encode((typeof(ColumnTitles[0])==="function"?(ColumnTitles[0]).call($item):(ColumnTitles[0]))))}__.push("                  </div>                 ");if((typeof(ColumnCount>1&&DeepLinksColumns.length>1)!=="undefined"&&(ColumnCount>1&&DeepLinksColumns.length>1)!=null)&&(typeof(ColumnCount>1&&DeepLinksColumns.length>1)==="function"?(ColumnCount>1&&DeepLinksColumns.length>1).call($item):(ColumnCount>1&&DeepLinksColumns.length>1))){__.push('                     <div class="tdcell DeepLink_Col2_Header ');if((typeof(DeepLinksColumns.length==2)!=="undefined"&&(DeepLinksColumns.length==2)!=null)&&(typeof(DeepLinksColumns.length==2)==="function"?(DeepLinksColumns.length==2).call($item):(DeepLinksColumns.length==2))){__.push("percent50")}__.push("");if((typeof(DeepLinksColumns.length>2)!=="undefined"&&(DeepLinksColumns.length>2)!=null)&&(typeof(DeepLinksColumns.length>2)==="function"?(DeepLinksColumns.length>2).call($item):(DeepLinksColumns.length>2))){__.push("percent33")}__.push(' bold">                         ');if(typeof(ColumnTitles[1])!=="undefined"&&(ColumnTitles[1])!=null){__.push($.encode((typeof(ColumnTitles[1])==="function"?(ColumnTitles[1]).call($item):(ColumnTitles[1]))))}__.push("                      </div>                 ")}__.push("                     ");if((typeof(ColumnCount>2&&DeepLinksColumns.length>2)!=="undefined"&&(ColumnCount>2&&DeepLinksColumns.length>2)!=null)&&(typeof(ColumnCount>2&&DeepLinksColumns.length>2)==="function"?(ColumnCount>2&&DeepLinksColumns.length>2).call($item):(ColumnCount>2&&DeepLinksColumns.length>2))){__.push('                     <div class="tdcell DeepLink_Col3_Header percent33 bold">                         ');if(typeof(ColumnTitles[2])!=="undefined"&&(ColumnTitles[2])!=null){__.push($.encode((typeof(ColumnTitles[2])==="function"?(ColumnTitles[2]).call($item):(ColumnTitles[2]))))}__.push("                      </div>                 ")}__.push('             </div>             <div class="trrow">                 ');if((typeof(ColumnCount>0&&DeepLinksColumns.length>0)!=="undefined"&&(ColumnCount>0&&DeepLinksColumns.length>0)!=null)&&(typeof(ColumnCount>0&&DeepLinksColumns.length>0)==="function"?(ColumnCount>0&&DeepLinksColumns.length>0).call($item):(ColumnCount>0&&DeepLinksColumns.length>0))){__.push("                         ");if((typeof(DeepLinksColumns[0].DeepLinks.length>0)!=="undefined"&&(DeepLinksColumns[0].DeepLinks.length>0)!=null)&&(typeof(DeepLinksColumns[0].DeepLinks.length>0)==="function"?(DeepLinksColumns[0].DeepLinks.length>0).call($item):(DeepLinksColumns[0].DeepLinks.length>0))){__.push('                             <div class="tdcell DeepLink_Col1 valignTop">                                 ');if(typeof(DeepLinksColumns[0].DeepLinks)!=="undefined"&&(DeepLinksColumns[0].DeepLinks)!=null){$.each((typeof(DeepLinksColumns[0].DeepLinks)==="function"?(DeepLinksColumns[0].DeepLinks).call($item):(DeepLinksColumns[0].DeepLinks)),function(di,dv){with(this){__.push("                                    ");if(typeof(TemplateType)!=="undefined"&&(TemplateType)!=null){__=__.concat($item.nest(TemplateType,DeepLinksColumns[0].DeepLinks[di]))}__.push("                                 ")}})}__.push("                              </div>                 ")}__.push("                     ")}__.push("                     ");if((typeof(ColumnCount>1&&DeepLinksColumns.length>1)!=="undefined"&&(ColumnCount>1&&DeepLinksColumns.length>1)!=null)&&(typeof(ColumnCount>1&&DeepLinksColumns.length>1)==="function"?(ColumnCount>1&&DeepLinksColumns.length>1).call($item):(ColumnCount>1&&DeepLinksColumns.length>1))){__.push("                         ");if((typeof(DeepLinksColumns[1].DeepLinks.length>0)!=="undefined"&&(DeepLinksColumns[1].DeepLinks.length>0)!=null)&&(typeof(DeepLinksColumns[1].DeepLinks.length>0)==="function"?(DeepLinksColumns[1].DeepLinks.length>0).call($item):(DeepLinksColumns[1].DeepLinks.length>0))){__.push('                             <div class="tdcell DeepLink_Col2 valignTop">                                 ');if(typeof(DeepLinksColumns[1].DeepLinks)!=="undefined"&&(DeepLinksColumns[1].DeepLinks)!=null){$.each((typeof(DeepLinksColumns[1].DeepLinks)==="function"?(DeepLinksColumns[1].DeepLinks).call($item):(DeepLinksColumns[1].DeepLinks)),function(di,dv){with(this){__.push("                                    ");if(typeof(TemplateType)!=="undefined"&&(TemplateType)!=null){__=__.concat($item.nest(TemplateType,DeepLinksColumns[1].DeepLinks[di]))}__.push("                                 ")}})}__.push("                              </div>                 ")}__.push("                     ")}__.push("                     ");if((typeof(ColumnCount>2&&DeepLinksColumns.length>2)!=="undefined"&&(ColumnCount>2&&DeepLinksColumns.length>2)!=null)&&(typeof(ColumnCount>2&&DeepLinksColumns.length>2)==="function"?(ColumnCount>2&&DeepLinksColumns.length>2).call($item):(ColumnCount>2&&DeepLinksColumns.length>2))){__.push("                         ");if((typeof(DeepLinksColumns[2].DeepLinks.length>0)!=="undefined"&&(DeepLinksColumns[2].DeepLinks.length>0)!=null)&&(typeof(DeepLinksColumns[2].DeepLinks.length>0)==="function"?(DeepLinksColumns[2].DeepLinks.length>0).call($item):(DeepLinksColumns[2].DeepLinks.length>0))){__.push('                             <div class="tdcell DeepLink_Col3 valignTop">                                 ');if(typeof(DeepLinksColumns[2].DeepLinks)!=="undefined"&&(DeepLinksColumns[2].DeepLinks)!=null){$.each((typeof(DeepLinksColumns[2].DeepLinks)==="function"?(DeepLinksColumns[2].DeepLinks).call($item):(DeepLinksColumns[2].DeepLinks)),function(di,dv){with(this){__.push("                                    ");if(typeof(TemplateType)!=="undefined"&&(TemplateType)!=null){__=__.concat($item.nest(TemplateType,DeepLinksColumns[2].DeepLinks[di]))}__.push("                                 ")}})}__.push("                              </div>                 ")}__.push("                     ")}__.push("             </div>         </div>     ")}__.push(" </div>")}return __}jQuery.template("#DeepLink",tmp_DeepLink);function tmp_DeepLinkImageOnly(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkImageOnlyMainTable">     <div class="tablecontainer DeepLinkImageOnly">         <div class="trrow">             <div class="tdcell valignTop DeepLinkImageContainer">                 ');if((typeof(ImageURL)!=="undefined"&&(ImageURL)!=null)&&(typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))){__.push('                 <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">                     <img src="');if(typeof(ImageURL)!=="undefined"&&(ImageURL)!=null){__.push($.encode((typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))))}__.push('" onerror="this.src=\'Images/modules/noimage.jpg\';this.width=100;this.height=100;" />                 </a>                 ')}else{if((true)&&true){__.push('                     <div class="ImageUploadPanel ImageUpload_');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('" deeplinkid="');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('"></div>                 ')}}__.push("             </div>         </div>     </div> </div>")}return __}jQuery.template("#DeepLinkImageOnly",tmp_DeepLinkImageOnly);function tmp_DeepLinkItemImg(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkItemImgtMainTable">     <div class="tablecontainer DeepLinkItemImg">         <div class="trrow">             <div class="tdcell valignTop DeepLinkImageContainer">                 ');if((typeof(ImageURL)!=="undefined"&&(ImageURL)!=null)&&(typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))){__.push('                 <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">                     <img src="');if(typeof(ImageURL)!=="undefined"&&(ImageURL)!=null){__.push($.encode((typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))))}__.push('" onerror="this.src=\'Images/modules/noimage.jpg\';this.width=100;this.height=100;" />                 </a>                 ')}else{if((true)&&true){__.push('                     <div class="ImageUploadPanel ImageUpload_');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('" deeplinkid="');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('"></div>                 ')}}__.push('             </div>             <div class="tdcell valignTop percent50 DeepLinkDescContainer">                 <a class="link" href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">');if(typeof(Description)!=="undefined"&&(Description)!=null){__.push($.encode((typeof(Description)==="function"?(Description).call($item):(Description))))}__.push("                 </a>             </div>         </div>     </div> </div>")}return __}jQuery.template("#DeepLinkItemImg",tmp_DeepLinkItemImg);function tmp_DeepLinkItemText(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkItemTextMainTable">     <div class="tablecontainer DeepLinkItemText">         <div class="trrow">             <div class="tdcell valignTop DeepLinkDescContainer">                 <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">');if(typeof(Description)!=="undefined"&&(Description)!=null){__.push($.encode((typeof(Description)==="function"?(Description).call($item):(Description))))}__.push('                 </a>             </div>             <div class="tdcell valignTop percent33 alignRight DeepLinkPriceContainer">                 <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">');if(typeof(Price)!=="undefined"&&(Price)!=null){__.push($.encode((typeof(Price)==="function"?(Price).call($item):(Price))))}__.push("</a>             </div>         </div>     </div> </div>")}return __}jQuery.template("#DeepLinkItemText",tmp_DeepLinkItemText);function tmp_DeepLinkItemTextImg(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkItemTextImgMainTable">     <div class="tablecontainer DeepLinkItemTextImg">         <div class="trrow">             <div class="tdcell valignTop percent33 DeepLinkImageContainer">                 ');if((typeof(ImageURL)!=="undefined"&&(ImageURL)!=null)&&(typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))){__.push('                 <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">                     <img src="');if(typeof(ImageURL)!=="undefined"&&(ImageURL)!=null){__.push($.encode((typeof(ImageURL)==="function"?(ImageURL).call($item):(ImageURL))))}__.push('"  onerror="this.src=\'Images/modules/noimage.jpg\';this.width=100;this.height=100;" />                 </a>                 ')}else{if((true)&&true){__.push('                     <div class="ImageUploadPanel ImageUpload_');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('" DeepLinkId="');if(typeof(DeepLinkID)!=="undefined"&&(DeepLinkID)!=null){__.push($.encode((typeof(DeepLinkID)==="function"?(DeepLinkID).call($item):(DeepLinkID))))}__.push('"></div>                 ')}}__.push('             </div>             <div class="tdcell">                 <div class="tablecontainer">                     <div class="trrow">                         <div class="tdcell valignTop DeepLinkDescContainer">                             <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">');if(typeof(Description)!=="undefined"&&(Description)!=null){__.push($.encode((typeof(Description)==="function"?(Description).call($item):(Description))))}__.push('                             </a>                         </div>                     </div>                     <div class="trrow">                         <div class="tdcell valignTop alignRight DeepLinkPriceContainer">                             <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">');if(typeof(Price)!=="undefined"&&(Price)!=null){__.push($.encode((typeof(Price)==="function"?(Price).call($item):(Price))))}__.push("                             </a>                         </div>                     </div>                 </div>             </div>         </div>     </div> </div>")}return __}jQuery.template("#DeepLinkItemTextImg",tmp_DeepLinkItemTextImg);function tmp_DeepLinkItemTextOnly(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="DeepLinkItemTextOnlyMainTable">         <div class="tablecontainer DeepLinkItemTextOnly">             <div class="trrow">                 <div class="tdcell DeepLinkDescContainer">                     <a href="?');if(typeof(QueryURL)!=="undefined"&&(QueryURL)!=null){__.push($.encode((typeof(QueryURL)==="function"?(QueryURL).call($item):(QueryURL))))}__.push('">                         ');if(typeof(Description)!=="undefined"&&(Description)!=null){__.push($.encode((typeof(Description)==="function"?(Description).call($item):(Description))))}__.push("                     </a>                 </div>             </div>         </div>     </div>")}return __}jQuery.template("#DeepLinkItemTextOnly",tmp_DeepLinkItemTextOnly);function tmp_RecommendationSort(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="Recommendation">    Sorting         </div>')}return __}jQuery.template("#RecommendationSort",tmp_RecommendationSort);function tmp_OptionSort(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="Option">    Sorting         </div>')}return __}jQuery.template("#OptionSort",tmp_OptionSort);function tmp_ContentStore(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<html xmlns="http://www.w3.org/1999/xhtml"> <head>     <title>TBO Voucher</title>     <style type="text/css">         #voucher         {             padding: 10px;             border: 1px solid #000;             width: 600px;             font-size: 11px;             font-family:Arial,Helvetica,sans-serif;    background-color:#fff;    color:#000;    text-align:left;         }         .inner-div         {             border: 1px dotted #000;             padding: 10px;             overflow: hidden;             margin: 5px;         }         #title         {             background-image:url({TemplatePath}Top.gif);             background-repeat:repeat-x;             background-position:middle center;             background-color: #EEE;             padding: 10px;             margin: 5px;         }         #title-header         {             font-size: 18px;             float: left;         }         #title-right         {             float: right;             line-height: 20px;         }                  #title-right a.button         {         }                  h2         {             background-image:url({TemplatePath}Top.gif);             background-repeat:repeat-x;             background-position:middle center;             font-size: 14px;             background-color: #EEE;             margin: 0px 0px 5px 0px;             padding:4px;         }         .lbl         {             font-weight: bold;         }                  .resv-no         {             font-weight: bold;             font-size: 20px;             color: #4D90FE;         }                  .clear         {             clear: both;         }                           table         {             font-size: 11px;         }         .table-header         {             font-weight: bold;             background-color: #EEE;         }                  .table-column1         {             width: 50px;         }         .table-column2         {             width: 250px;         }         .table-column3         {             width: 260px;         }         .table-row td         {             padding-bottom: 5px;             border-bottom: 1px solid #EEE;         }                  #hotel-name         {             background-color: #EEE;             margin-bottom: 5px;         }         #hotel-image         {             float: left;         }         #hotel-basic-info         {             margin-left: 85px;         }         #hotel-book-info         {             margin-top: 10px;         }         .inner-div2         {         }         .fLeft         {             width: 50%;             float: left;         }         .padRight         {             padding-right: 2px;         }     </style> </head> <body>     <div id="voucher">         <div id="hotel-information" class="inner-div">             <h2 class="MainTemplateCaption">                 ');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('</h2>             <div>                 <div class="inner-div2">                     <img id="hotel-image" src="');if(typeof(HotelImage)!=="undefined"&&(HotelImage)!=null){__.push($.encode((typeof(HotelImage)==="function"?(HotelImage).call($item):(HotelImage))))}__.push('" width="80" height="100" alt="');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('" />                     <div id="hotel-basic-info">                         <span class="lbl">Address:</span>                              <span>');if(typeof(HotelAddress.AddressLine1)!=="undefined"&&(HotelAddress.AddressLine1)!=null){__.push($.encode((typeof(HotelAddress.AddressLine1)==="function"?(HotelAddress.AddressLine1).call($item):(HotelAddress.AddressLine1))))}__.push("</span> <br />                             ");if((typeof(HotelAddress.AddressLine2)!=="undefined"&&(HotelAddress.AddressLine2)!=null)&&(typeof(HotelAddress.AddressLine2)==="function"?(HotelAddress.AddressLine2).call($item):(HotelAddress.AddressLine2))){__.push(" <span>");if(typeof(HotelAddress.AddressLine2)!=="undefined"&&(HotelAddress.AddressLine2)!=null){__.push($.encode((typeof(HotelAddress.AddressLine2)==="function"?(HotelAddress.AddressLine2).call($item):(HotelAddress.AddressLine2))))}__.push("</span> <br /> ")}__.push('                         <span class="lbl">City/Country:</span> <span>');if(typeof(HotelCity)!=="undefined"&&(HotelCity)!=null){__.push($.encode((typeof(HotelCity)==="function"?(HotelCity).call($item):(HotelCity))))}__.push("/");if(typeof(HotelCountry)!=="undefined"&&(HotelCountry)!=null){__.push($.encode((typeof(HotelCountry)==="function"?(HotelCountry).call($item):(HotelCountry))))}__.push('</span>                         <br />                         <span class="lbl">Telephone:</span> <span>');if(typeof(HotelPhone)!=="undefined"&&(HotelPhone)!=null){__.push($.encode((typeof(HotelPhone)==="function"?(HotelPhone).call($item):(HotelPhone))))}__.push('</span>                         <br />                         <span class="lbl">Fax:</span> <span>');if(typeof(HotelFax)!=="undefined"&&(HotelFax)!=null){__.push($.encode((typeof(HotelFax)==="function"?(HotelFax).call($item):(HotelFax))))}__.push('</span>                     </div>                 </div>             </div>             <div class="clear">             </div>             <div id="hotel-book-info">                 <div class="fLeft">                     <div class="inner-div2">                         <span class="lbl">Lead Passanger:</span><span>');if(typeof(LeadPassenger)!=="undefined"&&(LeadPassenger)!=null){__.push($.encode((typeof(LeadPassenger)==="function"?(LeadPassenger).call($item):(LeadPassenger))))}__.push('</span>                         <br />                         <span class="lbl">Reference Number:</span><span>');if(typeof(ReferenceNumber)!=="undefined"&&(ReferenceNumber)!=null){__.push($.encode((typeof(ReferenceNumber)==="function"?(ReferenceNumber).call($item):(ReferenceNumber))))}__.push('</span>                         <br />       <span class="lbl">Reservation Number:</span><span class="resv-no">');if(typeof(ReservationNumber)!=="undefined"&&(ReservationNumber)!=null){__.push($.encode((typeof(ReservationNumber)==="function"?(ReservationNumber).call($item):(ReservationNumber))))}__.push('</span>                     </div>                 </div>                 <div class="fLeft">                     <div class="inner-div2">                         <span class="lbl">Check-In Date:</span> <span>');if(typeof(HotelCheckinDate)!=="undefined"&&(HotelCheckinDate)!=null){__.push($.encode((typeof(HotelCheckinDate)==="function"?(HotelCheckinDate).call($item):(HotelCheckinDate))))}__.push('</span>                         <br />                         <span class="lbl">Check-Out Date:</span> <span>');if(typeof(HotelCheckoutDate)!=="undefined"&&(HotelCheckoutDate)!=null){__.push($.encode((typeof(HotelCheckoutDate)==="function"?(HotelCheckoutDate).call($item):(HotelCheckoutDate))))}__.push('</span>                         <br />                         <span class="lbl">Nights:</span> <span>');if(typeof(NumberOfNights)!=="undefined"&&(NumberOfNights)!=null){__.push($.encode((typeof(NumberOfNights)==="function"?(NumberOfNights).call($item):(NumberOfNights))))}__.push('</span>                     </div>                 </div>                 <div class="clear">                 </div>             </div>         </div>         <div id="passenger-information" class="inner-div">             <h2 class="MainTemplateCaption">                 Guests</h2>             <table>                 <tr class="table-header">                     <td class="table-column1">                         Room No                     </td>                     <td class="table-column2">                         Room Detail                     </td>                     <td class="table-column3">                         Guests                     </td>                 </tr>                 ');if(typeof(Guests)!=="undefined"&&(Guests)!=null){$.each((typeof(Guests)==="function"?(Guests).call($item):(Guests)),function($index,$value){with(this){__.push('                     <tr class="table-header">                         <td class="table-column1">                             ');if(typeof(RoomNo)!=="undefined"&&(RoomNo)!=null){__.push($.encode((typeof(RoomNo)==="function"?(RoomNo).call($item):(RoomNo))))}__.push('                         </td>                         <td class="table-column2">                             ');if(typeof(RoomName)!=="undefined"&&(RoomName)!=null){__.push($.encode((typeof(RoomName)==="function"?(RoomName).call($item):(RoomName))))}__.push('                         </td>                         <td class="table-column3">                             ');if(typeof(Passengers)!=="undefined"&&(Passengers)!=null){$.each((typeof(Passengers)==="function"?(Passengers).call($item):(Passengers)),function(index,value){with(this){__.push("                                 ");if(typeof(Title)!=="undefined"&&(Title)!=null){__.push($.encode((typeof(Title)==="function"?(Title).call($item):(Title))))}__.push(" ");if(typeof(FirstName)!=="undefined"&&(FirstName)!=null){__.push($.encode((typeof(FirstName)==="function"?(FirstName).call($item):(FirstName))))}__.push(" ");if(typeof(Surname)!=="undefined"&&(Surname)!=null){__.push($.encode((typeof(Surname)==="function"?(Surname).call($item):(Surname))))}__.push("                             ")}})}__.push("                         </td>                     </tr>                                     ")}})}__.push('             </table>         </div>         <div id="contact-detail" class="inner-div">             <h2 class="MainTemplateCaption">                 Agency Information</h2>              <div id="hotel-rules" class="inner-div">                 <h2 class="MainTemplateCaption">                     Hotel Rules                 </h2>                 ');if((typeof(SimplePolicies.length==1)!=="undefined"&&(SimplePolicies.length==1)!=null)&&(typeof(SimplePolicies.length==1)==="function"?(SimplePolicies.length==1).call($item):(SimplePolicies.length==1))){__.push("                 <ul>                     ");if(typeof(SimplePolicies[0].Policies)!=="undefined"&&(SimplePolicies[0].Policies)!=null){$.each((typeof(SimplePolicies[0].Policies)==="function"?(SimplePolicies[0].Policies).call($item):(SimplePolicies[0].Policies)),function(index,policy){with(this){__.push("                         <li>                             ");if(typeof(policy)!=="undefined"&&(policy)!=null){__.push($.encode((typeof(policy)==="function"?(policy).call($item):(policy))))}__.push("                         </li>                        ")}})}__.push("                 </ul>                 ")}__.push("                  ");if((typeof(SimplePolicies.length>1)!=="undefined"&&(SimplePolicies.length>1)!=null)&&(typeof(SimplePolicies.length>1)==="function"?(SimplePolicies.length>1).call($item):(SimplePolicies.length>1))){__.push("                 <ul>                     ");if(typeof(SimplePolicies)!=="undefined"&&(SimplePolicies)!=null){$.each((typeof(SimplePolicies)==="function"?(SimplePolicies).call($item):(SimplePolicies)),function(index,item){with(this){__.push("                     <li>Room ");if(typeof(item.RoomNo)!=="undefined"&&(item.RoomNo)!=null){__.push($.encode((typeof(item.RoomNo)==="function"?(item.RoomNo).call($item):(item.RoomNo))))}__.push("</li>                     <ul>                         ");if(typeof(item.Policies)!=="undefined"&&(item.Policies)!=null){$.each((typeof(item.Policies)==="function"?(item.Policies).call($item):(item.Policies)),function(index,policy){with(this){__.push("                         <li>                             ");if(typeof(policy)!=="undefined"&&(policy)!=null){__.push($.encode((typeof(policy)==="function"?(policy).call($item):(policy))))}__.push("                         </li>                         ")}})}__.push("                     </ul>                     ")}})}__.push("                 </ul>                 ")}__.push("                 <br />                 ");if((typeof(ExtraCancellationPoliciesForAllRoom&&ExtraCancellationPoliciesForAllRoom.length>1)!=="undefined"&&(ExtraCancellationPoliciesForAllRoom&&ExtraCancellationPoliciesForAllRoom.length>1)!=null)&&(typeof(ExtraCancellationPoliciesForAllRoom&&ExtraCancellationPoliciesForAllRoom.length>1)==="function"?(ExtraCancellationPoliciesForAllRoom&&ExtraCancellationPoliciesForAllRoom.length>1).call($item):(ExtraCancellationPoliciesForAllRoom&&ExtraCancellationPoliciesForAllRoom.length>1))){__.push("                 <ul>                     ");if(typeof(ExtraCancellationPoliciesForAllRoom)!=="undefined"&&(ExtraCancellationPoliciesForAllRoom)!=null){$.each((typeof(ExtraCancellationPoliciesForAllRoom)==="function"?(ExtraCancellationPoliciesForAllRoom).call($item):(ExtraCancellationPoliciesForAllRoom)),function(index,extraPolicy){with(this){__.push("                     <li>                         ");if(typeof(extraPolicy)!=="undefined"&&(extraPolicy)!=null){__.push($.encode((typeof(extraPolicy)==="function"?(extraPolicy).call($item):(extraPolicy))))}__.push("                     </li>                     ")}})}__.push("                 </ul>                 ")}__.push("              </div>             ");if(typeof(OfficeAddress.AddressLine1)!=="undefined"&&(OfficeAddress.AddressLine1)!=null){__.push($.encode((typeof(OfficeAddress.AddressLine1)==="function"?(OfficeAddress.AddressLine1).call($item):(OfficeAddress.AddressLine1))))}__.push(" <br />             ");if(typeof(OfficeAddress.AddressLine2)!=="undefined"&&(OfficeAddress.AddressLine2)!=null){__.push($.encode((typeof(OfficeAddress.AddressLine2)==="function"?(OfficeAddress.AddressLine2).call($item):(OfficeAddress.AddressLine2))))}__.push(" <br />             ");if(typeof(OfficeAddress.CityCode)!=="undefined"&&(OfficeAddress.CityCode)!=null){__.push($.encode((typeof(OfficeAddress.CityCode)==="function"?(OfficeAddress.CityCode).call($item):(OfficeAddress.CityCode))))}__.push(" <br />             ");if(typeof(OfficeAddress.Email)!=="undefined"&&(OfficeAddress.Email)!=null){__.push($.encode((typeof(OfficeAddress.Email)==="function"?(OfficeAddress.Email).call($item):(OfficeAddress.Email))))}__.push(" <br />             ");if(typeof(OfficeAddress.Phone)!=="undefined"&&(OfficeAddress.Phone)!=null){__.push($.encode((typeof(OfficeAddress.Phone)==="function"?(OfficeAddress.Phone).call($item):(OfficeAddress.Phone))))}__.push(" <br />             ");if(typeof(OfficeAddress.Title)!=="undefined"&&(OfficeAddress.Title)!=null){__.push($.encode((typeof(OfficeAddress.Title)==="function"?(OfficeAddress.Title).call($item):(OfficeAddress.Title))))}__.push(" <br />             ");if(typeof(OfficeAddress.WorkingDaysAndHoursText)!=="undefined"&&(OfficeAddress.WorkingDaysAndHoursText)!=null){__.push($.encode((typeof(OfficeAddress.WorkingDaysAndHoursText)==="function"?(OfficeAddress.WorkingDaysAndHoursText).call($item):(OfficeAddress.WorkingDaysAndHoursText))))}__.push(" <br />         </div>     </div> </body> </html>")}return __}jQuery.template("#ContentStore",tmp_ContentStore);function tmp_GoGlobal(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<html> <head>     <title>Voucher</title>     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">     <link href="http://www.goglobal.travel/common/css/StyleSheet.css" type="text/css"           rel="stylesheet">     <meta content="MSHTML 6.00.6000.16788" name="GENERATOR">     <style>         body {             PADDING: 0px;             FONT-SIZE: 11px;             MARGIN: 0px;             COLOR: #555555;             LINE-HEIGHT: 15px;             FONT-FAMILY: verdana,verdana, Helvetica, sans-serif;             BACKGROUND-COLOR: #f5f5f5;         }          .InputTextblue1 {             font-family: verdana;             font-size: 11px;             color: #000000;             border-bottom: solid 1px #3f70bd;             border-right: solid 1px #3f70bd;             border-left: solid 1px #3f70bd;             border-top: solid 1px #3f70bd;             visibility: hidden;         }          .InputTextblue2 {             font-family: verdana;             font-size: 11px;             color: #000000;             border-bottom: solid 1px #3f70bd;             border-right: solid 1px #3f70bd;             border-left: solid 1px #3f70bd;             border-top: solid 1px #3f70bd;             visibility: visible;         }          .cursor {             cursor: pointer;         }          .cursor1 {             cursor: hand;         }          .sample3 {             border: 2px;             border-style: solid;             border-color: #D6D6D6;             border-spacing: 3;         }          .proftable {             border-width: 1px;             border-collapse: collapse;             border-color: #D6D6D6;         }          td {             FONT-FAMILY: verdana;             font-size: 11px;             COLOR: #676a69;             font-style: normal;         }          .blacktd {             FONT-FAMILY: verdana;             font-size: 11px;             COLOR: #000000;             font-style: normal;         }          .ddl {             color: White;         }          .ddlnotwhite {             color: Black;         }          tr {             FONT-FAMILY: verdana;             font-size: 11px;             COLOR: #000000;         }          .cbclass {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: gray;         }          .tbclass {             font-family: verdana;             font-size: 11px;             color: Black;             border-color: #003da2;             border-bottom: solid 1px navy;             border-right: solid 1px navy;             border-left: solid 1px navy;             border-top: solid 1px navy;         }           .btclass {             font-family: verdana;             font-size: 12px;             color: #003da2;         }           .mandatoryfield {             font-family: verdana;             font-size: 12px;             font-weight: bolder;             color: Red;         }           .lbtclass {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             color: Black;             text-decoration: underline;             margin-left: 0.2cm;             font-weight: bold;             cursor: pointer;         }          select {             border: 1px solid navy;             font-family: verdana;             font-size: 11px;             color: black;             margin-left: 6px;         }              .tdgrid {             font-family: Verdana;             font-size: 11px;             color: Black;         }          .header {             font-family: Verdana;             font-size: 18px;             font-weight: bold;             color: #3f70bd;         }          .tdlablenotbold {             font-family: Verdana;             font-size: 11px;             font-weight: normal;             color: gray;         }          .subheader {             font-family: Verdana;             font-size: 14px;             font-weight: bold;             color: #3f70bd;         }          .agencyinfo {             display: block;             font: 12px Verdana;             color: Black; /*#3f70bd;*/             height: 80px;             width: 650px;             margin: 0px 0px 0px 0px;             padding: 2px 2px 2px 2px;             border: solid 1px #7f9db9;             background: White;         }          .subheader12 {             font-family: Verdana;             font-size: 12px;             font-weight: bold;             color: #3f70bd;         }          .tdcaption {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: Blue;         }          .tdlable {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: gray;         }          .tdlable2 {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: black;             border: 1px solid #dcdcdc;         }          .tdlable3 {             font-family: Verdana;             font-size: 11px;             font-weight: normal;             color: black;             border: 1px solid #dcdcdc;         }          .tdlabletbl2 {             border: 1px solid #dcdcdc;         }          .btnkursir {             cursor: pointer;         }          .tdlableInfo {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: Black;         }          .tdlableBlack {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: Black;         }          .tdlableBlack14 {             font-family: Verdana;             font-size: 14px;             font-weight: bold;             color: Black;         }          .tdlabelRed {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: gray;             background-color: Red;         }          .tdlabelYellow {             font-family: Verdana;             font-size: 11px;             font-weight: bold;             color: gray;             background-color: Yellow;         }          .Welcome {             color: white;         }          .menu {             background-color: #666a69;             width: 100%;             font-size: 16px;         }          .footer {             background-color: #e5ebf7;             width: 100%;         }          .loginpage {             background-color: #e5ebf7;         }          .menuLinks {             color: White;         }          img {             border: 0px;             vertical-align: middle;         }          a.left:link {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             color: Gray;             text-decoration: underline;             margin-left: 0.2cm;             font-weight: bold;         }          a.left:visited {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             color: Gray;             text-decoration: underline;             margin-left: 0.2cm;             font-weight: bold;         }          a.left:active {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             COLOR: Gray;             text-decoration: underline;             margin-left: 0.2cm;             font-weight: bold;         }          a.left:hover {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             COLOR: Gray;             text-decoration: underline;             margin-left: 0.2cm;             font-weight: bold;         }            a:link {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             color: Gray;             text-decoration: underline;             font-weight: bold;         }          a:visited {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             color: Gray;             text-decoration: underline;             font-weight: bold;         }          a:active {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             COLOR: Gray;             text-decoration: underline;             font-weight: bold;         }          a:hover {             FONT-SIZE: 11px;             FONT-FAMILY: verdana;             COLOR: Gray;             text-decoration: underline;             font-weight: bold;         }             .TabMenu {             padding: 0px 0px 0px 0px;             margin: 0px 0px 0px 0px;             color: white;             font-size: 0.8em;             font-weight: normal;         }          .View {             BORDER-BOTTOM: black solid 0px;             BORDER-right: black solid 0px;             BORDER-left: black solid 0px;             BORDER-top: black solid 0px;             height: 200px;             width: 500px;             background-color: #cccccc;             padding: 10px 10px 10px 10px;         }          .InputText {             font-family: verdana;             font-size: 12px;             color: #000000;             border-bottom: solid 1px navy;             border-right: solid 1px navy;             border-left: solid 1px navy;             border-top: solid 1px navy;             width: 180px;         }          .gridHeader {             font-family: verdana;             font-size: 12px;             background-color: #959796;             font-weight: bolder;             color: White;             height: 20px;             text-align: left;             margin: 0px;             padding-left: 0px;         }          .gridHeader11 {             font-family: verdana;             font-size: 10px;             background-color: #959796;             font-weight: bolder;             color: White;             height: 20px;             text-align: left;             margin: 0px;             padding-left: 0px;         }          .gridcol {             text-align: left;             margin: 0px;             padding-left: 1px;         }           .gridFooter {             font-family: verdana;             font-size: 16px;             background-color: #959796;             font-weight: bold;             color: White;             vertical-align: middle;         }          .StatusGridFooter {             font-size: 18px;             color: Red;         }          .gridPagerStyle {             background-color: #959796;             font-weight: bold;             color: White;             vertical-align: middle;             text-align: left;             font-family: verdana;             font-size: 12px;         }          .tdperiodhed {             font-family: verdana;             font-size: 13px;             /*background-color:#99ceff;*/             background-color: White;             font-weight: bold;             color: Navy;         }          .hedperiod {             font-family: Verdana;             font-size: 14px;             font-weight: bold;             color: #3f70bd;             background-color: #cccccc;             text-align: center;         }          .tdperiod {             font-family: verdana;             font-size: 12px;             background-color: #f7f6f3;             width: 17px;             color: Navy;             text-align: center;         }          .tdperiod1 {             font-family: verdana;             font-size: 12px;             /*background-color:Green; */             background-color: #66ff66;             width: 17px;             /*color:White;*/             color: Black text-align:center;         }          .tdperiod1Equiv {             font-family: verdana;             font-size: 12px;             /*background-color:Green; */             background-color: #66ff66;             width: 17px;             /*color:Orange;*/             color: Red;             text-align: center;         }            .tdperiod2 {             font-family: verdana;             font-size: 12px;             background-color: White;             width: 17px;             color: Navy;             text-align: center;         }          .tdperiod2Equiv {             font-family: verdana;             font-size: 12px;             background-color: White;             width: 17px;             color: Orange;             text-align: center;         }            .tdperiodNotActive {             font-family: verdana;             font-size: 12px;             background-color: Red;             width: 17px;             color: White;             text-align: center;         }          .tdperiodNotActiveEquiv {             font-family: verdana;             font-size: 12px;             background-color: Red;             width: 17px;             color: Orange;             text-align: center;         }          .tdperiodalternativ {             font-family: verdana;             font-size: 12px;             background-color: #ffffff;             width: 16px;             color: Navy;             text-align: center;         }             .tdperiodborder {             font-family: verdana;             font-size: 11px;             background-color: Orange;             width: 16px;             color: Navy;             text-align: center;         }          .tdperiodbold {             font-family: verdana;             font-size: 11px;             /*background-color:#89aace;*/             background-color: #ddddff;             width: 16px;             color: Navy;             text-align: center;             font-weight: bold;         }          input.btn {             color: #050;             font-family: \'trebuchet ms\',helvetica,sans-serif;             font-size: 84%;             font-weight: bold;             background-color: #ff460e;             border: 1px solid;             border-top-color: #696;             border-left-color: #696;             border-right-color: #363;             border-bottom-color: #363;             border-style: outset;         }           input.btnhov {             border-top-color: #c63;             border-left-color: #c63;             border-right-color: #930;             border-bottom-color: #930;             border-style: inset;             background-color: #ff460e;         }          .transparent {             BORDER-RIGHT: silver 1px solid;             BORDER-TOP: green 1px solid;             DISPLAY: none;             FILTER: alpha(opacity=90);             BORDER-LEFT: silver 1px solid;             WIDTH: 170px;             COLOR: white;             BORDER-BOTTOM: silver 1px solid;             POSITION: absolute;             HEIGHT: 100px;             BACKGROUND-COLOR: silver;         }          .searchresredrow {             color: #ffffff;             BACKGROUND-COLOR: #FFCC99;             font-family: verdana;             font-size: 11px;         }          .searchAlternatingRow {             color: #284775;             BACKGROUND-COLOR: #ffffff;             direction: ltr;             font-family: verdana;             font-size: 11px;         }          .searchRowStyle {             color: #333333;             BACKGROUND-COLOR: #F7F6F3;             direction: ltr;             font-family: verdana;             font-size: 11px;         }          .searchtd {             text-align: left;             direction: ltr;             margin-left: 0px;             padding-left: 0px;             font-family: verdana;             font-size: 11px;         }          html, body, #wrapper {             height: 100%;             margin: 0;             padding: 0;             border: none;         }          #wrapper {             margin: 0 auto;             text-align: left;             vertical-align: middle;             width: 100%;         }           .sample {             border-width: 1px;             border-style: double;             border-collapse: collapse;             background-color: #f5f5f5;             border-color: #f5f5f5;         }          .tdsample {             border-width: 1px;             border-style: inset;             padding: 1px;             border-color: #e6e6e6;             background-color: #f5f5f5;         }          .tdsampletest {             border-width: 1px;             border-style: solid;             padding: 1px;             border-color: #D6D6D6;         }          .tdproforma {             border: solid 1px #D6D6D6;             padding: 1px;             font: bold 11px verdana;         }          .tdhotelmechinggrid {             border-bottom: #939495 5px solid;         }          .tdextranetgrid {             border-bottom: gray 2px solid;         }           div.progressBackgroundFilter {             position: absolute;             top: 0px;             bottom: -1500px;             left: 0px;             right: 0px;             overflow: hidden;             padding: 0;             margin: 0;             background-color: #44aaff; /*#44aaff*/             filter: alpha(opacity=22);             opacity: 0.5;             z-index: 1000;         }          div.processMessage {             position: absolute;             top: 30%;             left: 44%;             padding: 10px;             width: 160px;             height: 100px;             z-index: 1001;             background-color: #fff;         }           .tooltiptitle {             COLOR: #4760a3;             TEXT-DECORATION: none;             CURSOR: Default;             font-family: arial;             font-weight: bold;             font-size: 8pt;         }          .tooltipcontent {             COLOR: #000000;             TEXT-DECORATION: none;             CURSOR: Default;             font-family: arial;             font-size: 8pt;         }          #ToolTip {             position: absolute;             width: 280px;             top: 0px;             left: 0px;             z-index: 4;             visibility: hidden;         }          .NArial {             font-family: arial;             font-size: 10pt;         }          .NArialL {             font-family: arial;             font-size: 12pt;         }          .NArialS {             font-family: arial;             font-size: 8pt;         }          .NArialW {             COLOR: #FFFFFF;             font-family: arial;             font-size: 10pt;         }          .AmendTitle {             font: bold 20px verdana;             background: #9DC2EE;             color: Black;         }          .AmendHeader {             background: #9DC2EE;             color: black;             font: bolder 12px verdana;             height: 20px;             text-align: left;             margin: 0px;             padding-left: 0px;         }          .amendTable {             border: 1px solid white;         }          /* Set Style of voucher report*/         .tdRepHeader {             color: White;             background-color: Gray;             font-family: Verdana;             font-size: 12px;             font-weight: bold;         }          .trRepHeader {             background-color: Gray;             height: 4px;             font-size: 1px;         }          .trRepFooter {             background-color: Gray;             height: 1px;             font-size: 1px;         }          .trRepItem {             background-color: #d2d2d2;         }          .trRepItem2 {             background-color: #dcdcdc;         }          .trRepItem3 {             background-color: #e6e6e6;         }          .trRepItem4 {             background-color: #f0f0f0;         }          .trRepItem5 {             background-color: #d2d2d2;         }          .trRepItem6 {             background-color: #dcdcdc;         }          .trRepItem7 {             background-color: #e6e6e6;         }          .trRepItem8 {             background-color: #f0f0f0;         }          .trRepItem9 {             background-color: #d2d2d2;         }          .trRepItem10 {             background-color: #dcdcdc;         }          .trRepItem11 {             background-color: #e6e6e6;         }          .reportSum {             font-family: Verdana;             font-size: 12px;         }     </style> </head> <body style="padding-right: 0px; padding-left: 0px; background: #ffffff; padding-bottom: 0px;     margin: 0px; font: bold 12px/15px verdana; color: #555555; padding-top: 0px">     <div>         <table style="font: bold 12px verdana; width: 690px; height: 100%">             <tbody>                 <tr align="left">                     <td style="width: 330px">                         <img id="logoimg" src="{path}gogloballogo.jpg">                     </td>                     <td style="font-weight: bold; width: 360px; color: #000000" align="left">                         <div style="padding-left: 20px; color: #15141a">                             ');if(typeof(OfficeAddress.AddressLine1)!=="undefined"&&(OfficeAddress.AddressLine1)!=null){__.push($.encode((typeof(OfficeAddress.AddressLine1)==="function"?(OfficeAddress.AddressLine1).call($item):(OfficeAddress.AddressLine1))))}__.push('                         </div>                     </td>                 </tr>                 <tr align="left">                     <td style="background-image: url({path}goglobalspacer.gif); height: 5px" colspan="2"></td>                 </tr>                 <tr align="left">                     <td style="height: 3px" colspan="2"></td>                 </tr>                 <tr align="left">                     <td style="font: bold 12pt verdana; color: #4760a0; text-align: left" align="middle"                         colspan="2">                         <!--header with booking number BEGIN-->                         <table width="100%">                             <tbody>                                 <tr align="middle">                                     <td>                                         <span>                                             <span class="header" id="lbheader" style="font-size: 21px">Prepaid Voucher</span>                                             &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; <span id="lbBooknumder" style="font-weight: bold;                                                 font-size: 11px; color: #4760a0">');if(typeof(PrepaidVoucher)!=="undefined"&&(PrepaidVoucher)!=null){__.push($.encode((typeof(PrepaidVoucher)==="function"?(PrepaidVoucher).call($item):(PrepaidVoucher))))}__.push('</span>                                         </span>                                     </td>                                 </tr>                             </tbody>                         </table>                         <!--header with booking number END-->                     </td>                 </tr>                 <tr align="left">                     <td style="height: 3px" colspan="2"></td>                 </tr>                 <tr align="left">                     <td style="background-image: url({path}goglobalspacer.gif); height: 5px" colspan="2"></td>                 </tr>                 <tr align="left">                     <td style="vertical-align: top; width: 630px" colspan="2">                         <!-- Hotel details BEGIN -->                         <table id="datatable" style="font: 11px verdana; margin-left: 40px" cellspacing="0"                                cellpadding="0" width="100%">                             <tbody>                                 <tr align="left">                                     <td style="width: 10px"></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Hotel :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBHotel" style="font-size: 17px">');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('</span>                                     </td>                                 </tr>                                 <tr style="vertical-align: top" align="left">                                     <td style="height: 16px"></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Address :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBAddressHotel">                                             <div style="width: 230px">                                                 ');if(typeof(HotelAddress.AddressLine1)!=="undefined"&&(HotelAddress.AddressLine1)!=null){__.push($.encode((typeof(HotelAddress.AddressLine1)==="function"?(HotelAddress.AddressLine1).call($item):(HotelAddress.AddressLine1))))}__.push('                                             </div>                                         </span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Phone :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBPhoneHotel">');if(typeof(HotelPhone)!=="undefined"&&(HotelPhone)!=null){__.push($.encode((typeof(HotelPhone)==="function"?(HotelPhone).call($item):(HotelPhone))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Fax :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBFaxHotel">');if(typeof(HotelFax)!=="undefined"&&(HotelFax)!=null){__.push($.encode((typeof(HotelFax)==="function"?(HotelFax).call($item):(HotelFax))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Check-In Date :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBCheckIn">');if(typeof(HotelCheckinDate)!=="undefined"&&(HotelCheckinDate)!=null){__.push($.encode((typeof(HotelCheckinDate)==="function"?(HotelCheckinDate).call($item):(HotelCheckinDate))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Room Basis :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="lbroomb">');if(typeof(HotelRoomBasis)!=="undefined"&&(HotelRoomBasis)!=null){__.push($.encode((typeof(HotelRoomBasis)==="function"?(HotelRoomBasis).call($item):(HotelRoomBasis))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Number of nights :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="padding-left: 1px; font-weight: bold; color: #15141a">                                         ');if(typeof(NumberOfNights)!=="undefined"&&(NumberOfNights)!=null){__.push($.encode((typeof(NumberOfNights)==="function"?(NumberOfNights).call($item):(NumberOfNights))))}__.push('                                     </td>                                 </tr>                                 <tr align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Rooms :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold">                                         <table id="RoomsArea" cellpadding="0" border="0">                                             <tbody>                                                 <tr valign="center">                                                     <td class="blacktd" style="color: #15141a">                                                         ');if(typeof(RoomCount)!=="undefined"&&(RoomCount)!=null){__.push($.encode((typeof(RoomCount)==="function"?(RoomCount).call($item):(RoomCount))))}__.push('                                                     </td>                                                 </tr>                                             </tbody>                                         </table>                                     </td>                                 </tr>                                 <tr valign="center" align="left">                                     <td></td>                                     <td colspan="2">                                         <div style="padding-right: 0px; margin-top: 10px; padding-left: 0px; padding-bottom: 0px;                                             padding-top: 0px">                                             <table id="tblnames" style="border-right: 1px solid; border-top: 1px solid; border-left: 1px solid;                                                 border-bottom: 1px solid; border-collapse: collapse" bordercolor="#dcdcdc" cellspacing="0"                                                    cellpadding="0" width="600" border="1">                                                 <tbody>                                                     ');if(typeof(GoGlobalRooms)!=="undefined"&&(GoGlobalRooms)!=null){$.each((typeof(GoGlobalRooms)==="function"?(GoGlobalRooms).call($item):(GoGlobalRooms)),function($index,$value){with(this){__.push('                                                         <tr>                                                             <td class="tdlable2">                                                                 Room Type                                                             </td>                                                             <td class="tdlable2">                                                                 Category                                                             </td>                                                             <td class="tdlable2">                                                                 Basis                                                             </td>                                                             <td class="tdlable2">                                                                 Names                                                             </td>                                                         </tr>                                                         <tr class="tdlabletbl">                                                             <td class="tdlable3" style="color: #15141a">                                                                 ');if(typeof(RoomType)!=="undefined"&&(RoomType)!=null){__.push($.encode((typeof(RoomType)==="function"?(RoomType).call($item):(RoomType))))}__.push('                                                             </td>                                                             <td class="tdlable3" style="color: #15141a">                                                                 ');if(typeof(RoomCategory)!=="undefined"&&(RoomCategory)!=null){__.push($.encode((typeof(RoomCategory)==="function"?(RoomCategory).call($item):(RoomCategory))))}__.push('&nbsp;                                                             </td>                                                             <td class="tdlable3" style="color: #15141a">                                                                 ');if(typeof(RoomBasis)!=="undefined"&&(RoomBasis)!=null){__.push($.encode((typeof(RoomBasis)==="function"?(RoomBasis).call($item):(RoomBasis))))}__.push('                                                             </td>                                                             <td class="tdlable3" style="color: #15141a">                                                                 ');if(typeof(PassengerNames)!=="undefined"&&(PassengerNames)!=null){$.each((typeof(PassengerNames)==="function"?(PassengerNames).call($item):(PassengerNames)),function(index,item){with(this){__.push("                                                                     ");if(typeof(item)!=="undefined"&&(item)!=null){__.push($.encode((typeof(item)==="function"?(item).call($item):(item))))}__.push(" <br />                                                                 ")}})}__.push("                                                             </td>                                                         </tr>                                                     ")}})}__.push('                                                 </tbody>                                             </table>                                             <br>                                         </div>                                     </td>                                 </tr>                                 <!--<tr>                                     <td style="width: 12px"></td>                                     <td style="width: 200px">Room Category:</td>                                     <td style="width: 420px;height: auto; color: Black; font: 12px verdana;">                                         <span id="roomcat" style="float: left;height: auto;"></span>                                      </td>                                 </tr>-->                                 <tr valign="top" align="left">                                     <td></td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black">Remarks :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBRemarks" style="font-family: Verdana">');if(typeof(Remarks)!=="undefined"&&(Remarks)!=null){__.push($.encode((typeof(Remarks)==="function"?(Remarks).call($item):(Remarks))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td style="height: 10px" colspan="3"></td>                                 </tr>                                 <tr align="left">                                     <td>                                         &nbsp;                                     </td>                                     <td class="tdlablenotbold" style="width: 202px; text-align: right">                                         <span style="color: black" nowrap>Booked and payable by :&nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a">                                         <span id="LBPayed">');if(typeof(BookedAndPayableBy)!=="undefined"&&(BookedAndPayableBy)!=null){__.push($.encode((typeof(BookedAndPayableBy)==="function"?(BookedAndPayableBy).call($item):(BookedAndPayableBy))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td style="height: 15px"></td>                                     <td class="tdlablenotbold" style="width: 202px; height: 15px; text-align: right">                                         <span style="color: black">Supplier Ref. No.: &nbsp;</span>                                     </td>                                     <td class="blacktd" style="font-weight: bold; color: #15141a; height: 15px">                                         <span id="LBRefSuppl">');if(typeof(SupplierRefNo)!=="undefined"&&(SupplierRefNo)!=null){__.push($.encode((typeof(SupplierRefNo)==="function"?(SupplierRefNo).call($item):(SupplierRefNo))))}__.push('</span>                                     </td>                                 </tr>                                 <tr align="left">                                     <td style="height: 20px" colspan="3"></td>                                 </tr>                                 <tr align="left">                                     <td colspan="3">                                         <div style="font-weight: bold; color: #4760a0; text-align: center">                                             <!--Only payment for extras to be collected from clients.-->                                             Only payment for extras to be collected from clients.                                         </div>                                         <br>                                         <br>                                     </td>                                 </tr>                                 <tr valign="bottom" align="left">                                     <td colspan="3"></td>                                 </tr>                                 <tr align="left">                                     <td colspan="3">                                         <span id="IHGSpecialRemarkLabel">                                             <table border="1">                                                 <tbody>                                                     <tr>                                                         <td style="color: black">                                                             <b>IMPORTANT NOTICE FOR THE HOTELIER:</b>                                                             <br>                                                             <ol>                                                                 <li><b><u>You are by no means allowed to charge the guest for the room rate.</u></b>                                                                 <li>                                                                     This booking is payable by a Single Use Credit Card/MasterCard of Go Global Travel,                                                                     which you have received together with the Holidex reservation message.                                                                 <li>                                                                     NB! THE CARD IS PRELOADED automatically with funds, please DO NOT TAKE ANY AUTHORIZATIONS                                                                     on it, you must simply charge directly the full booking amount to the card, as per                                                                     contract upon clients\' departure.                                                                 <li>                                                                     Do not delete or replace the Single Use Credit Card number with those of the guest.                                                                 <li>                                                                     If you are in doubt please contact your Manager Reservations Dept., or Go Global                                                                     Travel on the emergency telephone numbers above.                                                                 </li>                                                             </ol>                                                         </td>                                                     </tr>                                                 </tbody>                                             </table>                                         </span>                                     </td>                                 </tr>                             </tbody>                         </table>                         <!-- Hotel details END -->                     </td>                 </tr>                 <tr valign="bottom" align="left">                     <td colspan="2">                         <!--*************************R E M R K S **************************-->                         <table width="100%">                             <tbody>                                 <tr valign="top" align="left">                                     <td>                                         <div id="remarksdiv" style="margin-left: 40px">                                             <span style="font-weight: normal; font-size: 9px; margin-left: 24px; color: black">                                                 <b>                                                     <!--Important notices to clients, please read carefully:-->                                                     Important notices to clients, please read carefully:                                                 </b>                                             </span>                                             <div style="font-weight: normal; font-size: 12px; margin-left: 24px; color: black">                                                 <b>                                                     <!--YOU MUST PRESENT THIS VOUCHER TO RECEPTION ON CHECK-IN, IN ORDER TO AVOID BEING DOUBLE CHARGED DIRECTLY BY THE HOTEL -->                                                     <span id="lblExtra">                                                         *** YOU MUST PRESENT THIS VOUCHER TO RECEPTION ON CHECK-IN, IN ORDER                                                         TO AVOID BEING DOUBLE CHARGED DIRECTLY BY THE HOTEL ***                                                     </span>                                                 </b>                                             </div>                                             <ul style="margin-top: 8px; font-weight: normal; font-size: 8px; margin-bottom: 0px;                                                 color: black; line-height: 15px">                                                 <li>                                                     <!--If you decide to shorten your stay while at a hotel you must obtain from the reception manager on duty his/her signed consent in writing upon your check-out that they will not be charging for unused nights. This is a must requirement and failure to provide such letter will preclude us from seeking any refunds from the hotels/suppliers on your behalf. Refunds from us are strictly subject to hotel providing us with the refund first.-->                                                     If you decide to shorten your stay while at a hotel you must obtain from the reception                                                     manager on duty his/her signed consent in writing upon your check-out that they                                                     will not be charging for unused nights. This is a must requirement and failure to                                                     provide such letter will preclude us from seeking any refunds from the hotels/suppliers                                                     on your behalf. Refunds from us are strictly subject to hotel providing us with                                                     the refund first.                                                 </li>                                             </ul>                                             <ul style="margin-top: 6px; font-weight: normal; font-size: 8px; margin-bottom: 6px;                                                 color: black; line-height: 15px">                                                 <li>                                                     <!--You must report all and any complaints you might have to the hotel on the spot during your stay, immediately as they arise.  We will not be liable for any compensation for a problem which could have been rectified during the clients stay, had the hotel been made aware of it.-->                                                     You must report all and any complaints you might have to the hotel on the spot during                                                     your stay, immediately as they arise. We will not be liable for any compensation                                                     for a problem which could have been rectified during the clients stay, had the hotel                                                     been made aware of it.                                                 </li>                                             </ul>                                             <br>                                             <br>                                         </div>                                     </td>                                     <td>                                         <!--logo goglobal on voucher footer-->                                         <div style="float: right; width: 206px; height: 109px; text-align: right">                                             <img id="imgbottom" src="{path}gogloballogoggsmall.gif">                                         </div>                                     </td>                                 </tr>                             </tbody>                         </table>                         <!--****************** R E M R K S *****************-->                     </td>                 </tr>             </tbody>         </table>     </div> </body> </html>')}return __}jQuery.template("#GoGlobal",tmp_GoGlobal);function tmp_HotelsPro(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<html xmlns="http://www.w3.org/1999/xhtml"> <head>     <title>PRE-PAID ACCOMMODATION VOUCHER</title>      <style type="text/css"> BODY {  FONT-SIZE: 11px; FONT-FAMILY: verdana, arial, helvetica } TD {  FONT-SIZE: 11px; FONT-FAMILY: verdana, arial, helvetica } TH {  FONT-SIZE: 11px; FONT-FAMILY: verdana, arial, helvetica } A.ust-linkler {  FONT: 10px Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #0066ff; TEXT-DECORATION: underline } A.ust-linkler:hover {  FONT: 10px Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #8aa6c4; TEXT-DECORATION: none } .ust-linkler-aracizgi {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #171717; TEXT-DECORATION: none } .tarih {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #dd132b; TEXT-DECORATION: none } .search {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #360006; TEXT-DECORATION: none } .seach-baslik {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } .search-city {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } .search-baslik1 {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } A.more-cities {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } A.more-cities:hover {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #dd132b; TEXT-DECORATION: none } .sag-basliklar {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #360006; LETTER-SPACING: -1px; TEXT-DECORATION: none } A.ust-linkler1 {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.ust-linkler1:hover {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffd8d8; TEXT-DECORATION: none } .ust-linkler-ok {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.text-city {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333399; LETTER-SPACING: -1px; TEXT-DECORATION: underline } A.text-city:hover {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; LETTER-SPACING: -1px; TEXT-DECORATION: underline } .text-city1 {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; LETTER-SPACING: -1px; TEXT-DECORATION: none } .text-city2 {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; LETTER-SPACING: -1px; TEXT-DECORATION: none } .sol-basliklar {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #360006; LETTER-SPACING: -1px; TEXT-DECORATION: none } A.text-telephone {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } A.text-telephone:hover {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; TEXT-DECORATION: none } text-telephone9 {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } A.text-telephone1 {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; TEXT-DECORATION: none } A.text-telephone1:hover {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; TEXT-DECORATION: none } .text-orta {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223644; LETTER-SPACING: -1px; TEXT-DECORATION: none } .copriyht {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #b9bdc4; TEXT-DECORATION: none } .date {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } .search1 {  FONT: bold 16px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.text-city3 {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333399; LETTER-SPACING: -1px; TEXT-DECORATION: underline } A.text-city3:hover {  FONT: 9px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; LETTER-SPACING: -1px; TEXT-DECORATION: underline } .special {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; TEXT-DECORATION: none } .special1 {  FONT: bold 14px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #3c4246; TEXT-DECORATION: none } A.hotel-destin {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333399; LETTER-SPACING: -1px } A.hotel-destin:hover {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; LETTER-SPACING: -1px; TEXT-DECORATION: underline } .hotel-destin1 {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333399; LETTER-SPACING: -1px; TEXT-DECORATION: none } A.special-sol {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333399; LETTER-SPACING: -1px; TEXT-DECORATION: underline } A.special-sol:hover {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #e50d35; LETTER-SPACING: -1px; TEXT-DECORATION: underline } .discount {  FONT: 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff9daa; LETTER-SPACING: -1px; TEXT-DECORATION: none } .text-orta1 {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #575c6c; TEXT-DECORATION: none } .text-orta1-bold {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #575c6c; TEXT-DECORATION: none } .travel-agent {  FONT: 15px Geneva, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #000000; TEXT-DECORATION: none } .travel-agent-b {  FONT: bold 15px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #000000; TEXT-DECORATION: none } .travel-agent1 {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; TEXT-DECORATION: none } .travel-agent2 {  FONT: bold 13px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff3333; LETTER-SPACING: -1px; TEXT-DECORATION: none } A.city {  FONT: bold 15px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #000000; TEXT-DECORATION: none } A.city:hover {  FONT: bold 15px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #333333; TEXT-DECORATION: underline } A.hotel {  FONT: bold 13px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff3333; LETTER-SPACING: -1px; TEXT-DECORATION: none } A.hotel:hover {  FONT: bold 13px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #f00000; LETTER-SPACING: -1px; TEXT-DECORATION: underline } .please-wait {  FONT: bold 11px Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff3333; TEXT-DECORATION: none } .please-wait1 {  FONT: bold 12px Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #000000; LETTER-SPACING: -1em; TEXT-DECORATION: none } .welcome {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff3333; TEXT-DECORATION: none } .hotels-font {  FONT: bold 14px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #dd132b; TEXT-DECORATION: none } .hotels-font1 {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.customer {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #0a75b6; TEXT-DECORATION: none } A.customer:hover {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff0000; TEXT-DECORATION: none } A.ustlinkler {  FONT: bold 13px Arial, Verdana, "Helvetica Media"; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.ustlinkler:hover {  FONT: bold 13px Arial, Verdana, "Helvetica Media"; TEXT-TRANSFORM: none; COLOR: #ffffcc; TEXT-DECORATION: none } .yeni-ortabaslik {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; LETTER-SPACING: normal; TEXT-DECORATION: none } .thisweek {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #3366cc; TEXT-DECORATION: none } A.thisweek1 {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #3366cc; TEXT-DECORATION: underline } A.thisweek1:hover {  FONT: 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff3300; TEXT-DECORATION: none } .text-orta2 {  FONT: bold 11px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #575c6c; TEXT-DECORATION: none } .hotel-details {  FONT: bold 13px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #405a76; TEXT-DECORATION: none } .best-rates {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ff0000; TEXT-DECORATION: none } A.infobook {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #ffffff; TEXT-DECORATION: none } A.infobook:hover {  FONT: bold 10px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #223553; TEXT-DECORATION: none } .from {  FONT: bold 12px Verdana, Arial, Helvetica, sans-serif; TEXT-TRANSFORM: none; COLOR: #c10228; TEXT-DECORATION: none } H1 {  MARGIN-TOP: 0px; FONT-WEIGHT: bold; FONT-SIZE: 11px; MARGIN-BOTTOM: 0px; FONT-VARIANT: normal } A {  TEXT-DECORATION: none } TD.cal {  FONT-SIZE: 11px; color: #000000; FONT-FAMILY: Arial,Helvetica,Sans-serif } SELECT.month {  FONT-SIZE: 11px; WIDTH: 85px; color: #000000; FONT-FAMILY: Arial,Helvetica,Sans-serif } INPUT.year {  FONT-SIZE: 11px; WIDTH: 30px; color: #000000; FONT-FAMILY: Arial,Helvetica,Sans-serif } .calDaysColor {  FONT-SIZE: 11px; color: #ffffff; FONT-FAMILY: Arial,Helvetica,Sans-serif; BACKGROUND-color: #000000 } .calBgColor {  FONT-SIZE: 11px; color: #ffffff; FONT-FAMILY: Arial,Helvetica,Sans-serif; BACKGROUND-color: #d3d3d3 } .calBorderColor {  FONT-SIZE: 11px; color: #ffffff; FONT-FAMILY: Arial,Helvetica,Sans-serif; BACKGROUND-color: #a9a9a9 } .calHighlightColor {  FONT-SIZE: 11px; color: #ffffff; FONT-FAMILY: Arial,Helvetica,Sans-serif; BACKGROUND-color: #ffffcc } A.cal {  FONT-SIZE: 11px; color: #000000; FONT-FAMILY: Arial,Helvetica,Sans-serif; TEXT-DECORATION: none } A.cal:hover {  FONT-SIZE: 11px; color: #ff0000; FONT-FAMILY: Arial,Helvetica,Sans-serif; TEXT-DECORATION: none } .disabled {  FONT-SIZE: 11px; color: #808080; FONT-FAMILY: Arial,Helvetica,Sans-serif; TEXT-DECORATION: none } .smile {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #ff0080; FONT-FAMILY: helvetica,verdana,arial } .smile2 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #ff0080; FONT-FAMILY: helvetica,verdana,arial } .first {  FONT-WEIGHT: bold; FONT-SIZE: 16pt; color: #463c2b; FONT-FAMILY: times new roman } .black05 {  FONT-SIZE: 5pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black06 {  FONT-SIZE: 6pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black07 {  FONT-SIZE: 7pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black08 {  FONT-SIZE: 8pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black09 {  FONT-SIZE: 9pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black10 {  FONT-SIZE: 10pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black11 {  FONT-SIZE: 11pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black12 {  FONT-SIZE: 12pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .black15 {  FONT-SIZE: 15pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .blackbold20 {  FONT-WEIGHT: bold; FONT-SIZE: 20pt; color: #black; FONT-FAMILY: verdana, arial, helvetica } .blackbold35 {  FONT-WEIGHT: bold; FONT-SIZE: 35pt; color: #black; FONT-FAMILY: verdana,arial,helvetica } .white06 {  FONT-SIZE: 6pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .white07 {  FONT-SIZE: 7pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .white08 {  FONT-SIZE: 8pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .white09 {  FONT-SIZE: 9pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .white10 {  FONT-SIZE: 10pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .white11 {  FONT-SIZE: 11pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .whitebold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .whitebold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .whitebold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .whitebold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .whitebold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #white; FONT-FAMILY: verdana,arial,helvetica } .red08 {  FONT-SIZE: 8pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .red09 {  FONT-SIZE: 9pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .red10 {  FONT-SIZE: 10pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .red11 {  FONT-SIZE: 11pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .redbold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .redbold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .redbold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .redbold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #ff0000; FONT-FAMILY: verdana,arial,helvetica } .hoteltitle {  FONT-WEIGHT: bold; FONT-SIZE: 24pt; color: #black; FONT-STYLE: italic; FONT-FAMILY: times new roman,verdana,arial,helvetica } .urltitle {  FONT-WEIGHT: bold; FONT-SIZE: 18pt; color: #red; FONT-FAMILY: times new roman,verdana,arial,helvetica } .titlered10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #ff0000; FONT-STYLE: italic; FONT-FAMILY: times new roman,verdana,arial,helvetica } .yellow08 {  FONT-SIZE: 8pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellow09 {  FONT-SIZE: 9pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellow10 {  FONT-SIZE: 10pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellow11 {  FONT-SIZE: 11pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellowbold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellowbold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellowbold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellowbold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #ffcc00; FONT-FAMILY: verdana,arial,helvetica } .yellow208 {  FONT-SIZE: 8pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellow209 {  FONT-SIZE: 9pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellow210 {  FONT-SIZE: 10pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellow211 {  FONT-SIZE: 11pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellowbold208 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellowbold209 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellowbold210 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .yellowbold211 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #ff9900; FONT-FAMILY: verdana,arial,helvetica } .orange08 {  FONT-SIZE: 8pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orange09 {  FONT-SIZE: 9pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orange10 {  FONT-SIZE: 10pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orange11 {  FONT-SIZE: 11pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orangebold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orangebold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orangebold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orangebold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #ff6600; FONT-FAMILY: verdana,arial,helvetica } .orangebold14 {  FONT-WEIGHT: bold; FONT-SIZE: 22pt; color: #ff0000; FONT-FAMILY: times new roman,verdana,arial,helvetica } .bordo07 {  FONT-SIZE: 7pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordo08 {  FONT-SIZE: 8pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordo09 {  FONT-SIZE: 9pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordo10 {  FONT-SIZE: 10pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordo11 {  FONT-SIZE: 11pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordobold07 {  FONT-WEIGHT: bold; FONT-SIZE: 7pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordobold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .bordobold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #660066; FONT-FAMILY: verdana,arial,helvetica } .blue06 {  FONT-SIZE: 6pt; color: #0a5e9c; FONT-FAMILY: arial,helvetica,verdana } .blue07 {  FONT-SIZE: 7pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .blue08 {  FONT-SIZE: 8pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .blue09 {  FONT-SIZE: 9pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .blue10 {  FONT-SIZE: 10pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .blue11 {  FONT-SIZE: 11pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .bluebold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .bluebold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .bluebold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .bluebold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #0a5e9c; FONT-FAMILY: verdana,arial,helvetica } .newblue07 {  FONT-SIZE: 7pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newblue08 {  FONT-SIZE: 8pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newblue09 {  FONT-SIZE: 9pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newblue10 {  FONT-SIZE: 10pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newblue11 {  FONT-SIZE: 11pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newbluebold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newbluebold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newbluebold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .newbluebold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #0066cc; FONT-FAMILY: verdana,arial,helvetica } .bluestylebold09 {  FONT-WEIGHT: bold; FONT-SIZE: 9pt; color: #65ccf3; FONT-FAMILY: verdana,arial,helvetica } .grey07 {  FONT-SIZE: 7pt; color: #c9c9c7; FONT-FAMILY: verdana,arial,helvetica } .grey08 {  FONT-SIZE: 8pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .grey09 {  FONT-SIZE: 9pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .grey10 {  FONT-SIZE: 10pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .grey11 {  FONT-SIZE: 11pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .greybold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .greybold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .greybold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .greybold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #504f45; FONT-FAMILY: verdana,arial,helvetica } .darkblue07 {  FONT-SIZE: 7pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkblue08 {  FONT-SIZE: 8pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkblue09 {  FONT-SIZE: 9pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkblue10 {  FONT-SIZE: 10pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkblue11 {  FONT-SIZE: 11pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkbluebold08 {  FONT-WEIGHT: bold; FONT-SIZE: 8pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkbluebold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkbluebold11 {  FONT-WEIGHT: bold; FONT-SIZE: 11pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkbluebold12 {  FONT-WEIGHT: bold; FONT-SIZE: 12pt; color: #010b65; FONT-FAMILY: verdana,arial,helvetica } .darkredbold07 {  FONT-WEIGHT: bold; FONT-SIZE: 7pt; color: #be0000; FONT-FAMILY: verdana,arial,helvetica } .darkredbold10 {  FONT-WEIGHT: bold; FONT-SIZE: 10pt; color: #be0000; FONT-FAMILY: verdana,arial,helvetica } .darkred14 {  FONT-SIZE: 14pt; color: #be0000; FONT-FAMILY: verdana,arial,helvetica } .input08 {  FONT-SIZE: 8pt; FONT-FAMILY: verdana,arial,helvetica } .input09 {  FONT-SIZE: 9pt; FONT-FAMILY: verdana,arial,helvetica } .input10 {  FONT-SIZE: 10pt; FONT-FAMILY: verdana,arial,helvetica } .border {  BORDER-RIGHT: #ff793b 1px solid; BORDER-TOP: #ff793b 1px solid; BORDER-LEFT: #ff793b 1px solid; BORDER-BOTTOM: #ff793b 1px solid } .border_topless {  BORDER-RIGHT: #ff793b 1px solid; BORDER-TOP: #ff793b 0px solid; BORDER-LEFT: #ff793b 1px solid; BORDER-BOTTOM: #ff793b 1px solid } .border_bottom {  BORDER-RIGHT: #ff793b 0px solid; BORDER-TOP: #ff793b 0px solid; BORDER-LEFT: #ff793b 0px solid; BORDER-BOTTOM: #ff793b 1px solid } .border_top {  BORDER-RIGHT: #6699cc 0px solid; BORDER-TOP: #6699cc 2px solid; BORDER-LEFT: #6699cc 0px solid; BORDER-BOTTOM: #6699cc 0px solid } .border_right {  BORDER-RIGHT: #ff793b 1px solid; BORDER-TOP: #ff793b 0px solid; BORDER-LEFT: #ff793b 0px solid; BORDER-BOTTOM: #ff793b 0px solid } .calendar {  FONT-SIZE: 10px; CURSOR: default; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif } .calendarHeaders {  FONT-WEIGHT: bold; FONT-SIZE: 12px; VERTICAL-ALIGN: top; CURSOR: default; color: #b92333; BACKGROUND-REPEAT: repeat-x; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif } .calendarText {  FONT-WEIGHT: bold; FONT-SIZE: 11px; CURSOR: default; color: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif } .calendarTextM {  FONT-WEIGHT: bold; FONT-SIZE: 10px; CURSOR: default; color: #000000; FONT-FAMILY: Verdana, Arial, Helvetica, sans-serif   a.ust-linkler {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #171717;  text-decoration: underline;  letter-spacing: -1px;      } a.ust-linkler:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #444444;  text-decoration: none;  letter-spacing: -1px;  } .ust-linkler-aracizgi {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #171717;  text-decoration: none; } .tarih {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #DD132B;  text-decoration: none; } .search {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #360006;  text-decoration: none; } .seach-baslik {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } .search-city {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } .search-baslik1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } a.more-cities {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } a.more-cities:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #DD132B;  text-decoration: none; } .sag-basliklar {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #360006;  text-decoration: none;  letter-spacing: -1px; } a.ust-linkler1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #FFFFFF;  text-decoration: none; } a.ust-linkler1:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #FFD8D8;  text-decoration: none; } .ust-linkler-ok {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #FFFFFF;  text-decoration: none; } a.text-city {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #333399;  text-decoration: underline;  letter-spacing: -1px;  } a.text-city:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: underline;  letter-spacing: -1px;  } .text-city1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: none;  letter-spacing: -1px;  } .text-city2 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none;  letter-spacing: -1px; } .sol-basliklar {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #360006;  text-decoration: none;  letter-spacing: -1px;    } a.text-telephone {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } a.text-telephone:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: none; } a.text-telephone1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 12px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none; } a.text-telephone1:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 12px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: none; } .text-orta {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #223644;  text-decoration: none;  letter-spacing: -1px; } .copriyht {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #B9BDC4;  text-decoration: none; } .search1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #FFFFFF;  text-decoration: none; } a.text-city3 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #333399;  text-decoration: underline;  letter-spacing: -1px;  } a.text-city3:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 9px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: underline;  letter-spacing: -1px; } .special {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: none; } .special1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 14px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #3C4246;  text-decoration: none; } a.hotel-destin {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  letter-spacing: -1px;  color: #333399; } a.hotel-destin:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: underline;  letter-spacing: -1px; } .hotel-destin1 {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 11px;  font-style: normal;  line-height: normal;  font-weight: bold;  font-variant: normal;  text-transform: none;  text-decoration: none;  color: #333399;  letter-spacing: -1px;   } a.special-sol {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #333399;  text-decoration: underline;  letter-spacing: -1px; } a.special-sol:hover {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  color: #E50D35;  text-decoration: underline;  letter-spacing: -1px; } .discount {  font-family: Verdana, Arial, Helvetica, sans-serif;  font-size: 10px;  font-style: normal;  line-height: normal;  font-weight: normal;  font-variant: normal;  text-transform: none;  text-decoration: none;  letter-spacing: -1px;  color: #FF9DAA; }  </style>     <meta content="MSHTML 6.00.6000.16788" name="GENERATOR"> </head> <body>     <table cellspacing="0" cellpadding="0" width="620" align="center">         <tbody>             <tr>                 <td align="right">                     <a style="text-decoration: none" href="javascript:window.print();">                         <img src="{path}ico_print.gif" border="0">                         Yazdır</a>                 </td>             </tr>         </tbody>     </table>     <table class="black08" cellspacing="0" width="620" align="center">         <tbody>             <tr>                 <td colspan="2">                     <br>                     <table style="border-right: #a6a6a6 1px solid; border-top: #a6a6a6 1px solid; border-left: #a6a6a6 1px solid;                         border-bottom: #a6a6a6 1px solid; border-collapse: collapse" cellspacing="0"                         cellpadding="0" width="100%" border="0">                         <tbody>                             <tr>                                 <td valign="bottom" align="left" width="31%">                                     <img src="{path}gts_logo_sm.gif">                                 </td>                                 <td class="black08" valign="bottom" align="right" width="39%">                                                                      </td>                             </tr>                         </tbody>                     </table>                 </td>             </tr>             <tr>                 <td valign="center" align="middle" colspan="2" height="40">                     <font face="Arial, Helvetica, sans-serif" color="#000000" size="5"><strong>PREPAID ACCOMMODATIONS                         - VOUCHER </strong></font>                 </td>             </tr>             <tr>                 <td valign="top" colspan="2">                     <table class="black08" style="border-right: #a6a6a6 1px solid; border-top: #a6a6a6 1px solid;                         border-left: #a6a6a6 1px solid; border-bottom: #a6a6a6 1px solid; border-collapse: collapse"                         cellspacing="3" cellpadding="0" width="100%" border="0">                         <tbody>                             <tr>                                 <td align="middle" colspan="2" height="25">                                     <font color="#000000" size="4">Hotel Information</font>                                 </td>                             </tr>                             <tr>                                 <td width="23%">                                     <span class="blackbold09">Hotel Name :</span></td>                                 <td width="77%">                                     ');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('</td>                             </tr>                             <tr>                                 <td>                                     <span class="blackbold09">Hotel Address :</span></td>                                 <td>                                     ');if(typeof(HotelAddress.AddressLine1)!=="undefined"&&(HotelAddress.AddressLine1)!=null){__.push($.encode((typeof(HotelAddress.AddressLine1)==="function"?(HotelAddress.AddressLine1).call($item):(HotelAddress.AddressLine1))))}__.push('</td>                             </tr>                             <tr>                                 <td>                                     <span class="blackbold09">Hotel Phone :</span></td>                                 <td>                                     ');if(typeof(HotelPhone)!=="undefined"&&(HotelPhone)!=null){__.push($.encode((typeof(HotelPhone)==="function"?(HotelPhone).call($item):(HotelPhone))))}__.push('</td>                             </tr>                         </tbody>                     </table>                 </td>             </tr>             <tr>                 <td align="left" height="25">                 </td>                 <td align="right" width="40%">                     <span class="blackbold09">Reservation date :');if(typeof(ReservationDate)!=="undefined"&&(ReservationDate)!=null){__.push($.encode((typeof(ReservationDate)==="function"?(ReservationDate).call($item):(ReservationDate))))}__.push('</span></td>             </tr>             <tr>                 <td valign="top" colspan="2">                     <table class="black08" style="border-right: #a6a6a6 1px solid; border-top: #a6a6a6 1px solid;                         border-left: #a6a6a6 1px solid; border-bottom: #a6a6a6 1px solid; border-collapse: collapse"                         height="70" cellspacing="3" cellpadding="0" width="100%" border="0">                         <tbody>                             <tr>                                 <td align="middle" colspan="2" height="25">                                     <font color="#000000" size="4">Reservation Details</font>                                 </td>                             </tr>                             <tr>                                 <td colspan="2">                                     <table width="62%" border="0" align="left" cellpadding="0" cellspacing="0">                                         <tbody>                                             <tr>                                                 <td valign="top" width="32%">                                                     <span class="blackbold09">Passenger Name :</span></td>                                                 <td width="68%">                                                     <b>                                                         ');if(typeof(Passengers)!=="undefined"&&(Passengers)!=null){$.each((typeof(Passengers)==="function"?(Passengers).call($item):(Passengers)),function($index,$value){with(this){__.push("                                                             ");if(typeof(Title)!=="undefined"&&(Title)!=null){__.push($.encode((typeof(Title)==="function"?(Title).call($item):(Title))))}__.push(" ");if(typeof(FirstName)!=="undefined"&&(FirstName)!=null){__.push($.encode((typeof(FirstName)==="function"?(FirstName).call($item):(FirstName))))}__.push(" ");if(typeof(LastName)!=="undefined"&&(LastName)!=null){__.push($.encode((typeof(LastName)==="function"?(LastName).call($item):(LastName))))}__.push(",                                                         ")}})}__.push('                                                     </b>                                                 </td>                                             </tr>                                         </tbody>                                     </table>                                 </td>                             </tr>                             <tr>                                 <td align="left" width="54%" height="20">                                     <span class="blackbold09">Check - In Date :</span>');if(typeof(HotelCheckinDate)!=="undefined"&&(HotelCheckinDate)!=null){__.push($.encode((typeof(HotelCheckinDate)==="function"?(HotelCheckinDate).call($item):(HotelCheckinDate))))}__.push('</td>                                 <td align="left" width="46%">                                     <span class="blackbold09">Check - Out Date :</span>');if(typeof(HotelCheckoutate)!=="undefined"&&(HotelCheckoutate)!=null){__.push($.encode((typeof(HotelCheckoutate)==="function"?(HotelCheckoutate).call($item):(HotelCheckoutate))))}__.push('</td>                             </tr>                             <tr>                                 <td align="left" width="54%" height="20">                                     <span class="blackbold09">Room Type :</span> ');if(typeof(RoomType)!=="undefined"&&(RoomType)!=null){__.push($.encode((typeof(RoomType)==="function"?(RoomType).call($item):(RoomType))))}__.push('                                     <br>                                 </td>                                 <td align="left" width="46%">                                     <span class="blackbold09">Service Type :</span>');if(typeof(ServiceType)!=="undefined"&&(ServiceType)!=null){__.push($.encode((typeof(ServiceType)==="function"?(ServiceType).call($item):(ServiceType))))}__.push('</td>                             </tr>                             <tr>                                 <td align="left" width="54%" height="20">                                     <span class="blackbold09">Confirmation Number :</span> (');if(typeof(ConfirmationNumber)!=="undefined"&&(ConfirmationNumber)!=null){__.push($.encode((typeof(ConfirmationNumber)==="function"?(ConfirmationNumber).call($item):(ConfirmationNumber))))}__.push(')                                 </td>                                 <td align="left" width="46%">                                     <span class="blackbold09">Reservation Code :</span>');if(typeof(ReservationCode)!=="undefined"&&(ReservationCode)!=null){__.push($.encode((typeof(ReservationCode)==="function"?(ReservationCode).call($item):(ReservationCode))))}__.push('</td>                             </tr>                         </tbody>                     </table>                 </td>             </tr>             <tr>                 <td colspan="2">                     <table class="black08" style="border-right: #a6a6a6 1px solid; border-top: #a6a6a6 1px solid;                         border-left: #a6a6a6 1px solid; border-bottom: #a6a6a6 1px solid; border-collapse: collapse"                         height="70" cellspacing="3" cellpadding="0" width="100%" border="0">                         <tbody>                             <tr>                                 <td align="middle" colspan="2">                                     <span class="blackbold09">TERMS AND CONDITIONS </span>                                 </td>                             </tr>                             <tr>                                 <td style="padding-right: 10px; padding-left: 10px; padding-bottom: 10px; padding-top: 10px"                                     align="justify" colspan="2">                                     <br>                                     &#8226; <b>Late Check-in:</b> Reservations will be held until 7:00am the day after                                     your scheduled arrival.                                     <br>                                     &#8226; All cancellations and amendments must be made by e-mail, fax or by contacting                                     444-OTEL (6835) reservation line. We will not be bound by nor responsible for any                                     changes and cancellations made directly with the hotel.                                     <br>                                     &#8226; All extras are to be paid by clients, excluding all services above.<br>                                     &#8226; We do not guarantee separate bed for triple rooms.                                     <br>                                 </td>                             </tr>                             <tr>                                 <td colspan="2">                                     <hr>                                 </td>                             </tr>                             <tr>                                 <td align="left" width="%50">                                     <span class="blackbold09">Customer Services:</span><br>                                     ');if(typeof(OfficeAdress.AddressLine1)!=="undefined"&&(OfficeAdress.AddressLine1)!=null){__.push($.encode((typeof(OfficeAdress.AddressLine1)==="function"?(OfficeAdress.AddressLine1).call($item):(OfficeAdress.AddressLine1))))}__.push("                                 </td>                             </tr>                         </tbody>                     </table>                 </td>             </tr>         </tbody>     </table> </body> </html>")}return __}jQuery.template("#HotelsPro",tmp_HotelsPro);function tmp_SunHotels(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> <head>     <title>SunHotels - Voucher</title>     <style>         #SunHotelsVoucherWrapper div#wrapper         {             width: 606px;         }          #SunHotelsVoucherWrapper .header         {             width: 30%;             font-weight: bold;             margin-bottom: 10px;             vertical-align: top;         }          #SunHotelsVoucherWrapper .header .small         {             font-weight: normal;             font-size: 0.8em;             vertical-align: top;         }          #SunHotelsVoucherWrapper .info         {             width: 70%;             padding-bottom: 7px;         }          #SunHotelsVoucherWrapper br.clear         {             clear: both;         }          #SunHotelsVoucherWrapper br.clearRight         {             clear: right;         }          #SunHotelsVoucherWrapper div.pagebreak         {             page-break-after: always;         }          #SunHotelsVoucherWrapper #headerImage         {             max-height: 100px;             max-width: 600px;         }          #SunHotelsVoucherWrapper h1         {             text-align: center;             font-weight: bold;         }          #SunHotelsVoucherWrapper div.linebreak         {             width: 600px;         }     </style> </head> <body>     <div id="SunHotelsVoucherWrapper">         ');if(typeof(Content)!=="undefined"&&(Content)!=null){__.push((typeof(Content)==="function"?(Content).call($item):(Content)))}__.push("     </div> </body> </html>")}return __}jQuery.template("#SunHotels",tmp_SunHotels);function tmp_TBO(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> <html xmlns="http://www.w3.org/1999/xhtml"> <head>     <title>TBO Voucher</title>     <style type="text/css">         #voucher         {             padding: 10px;             border: 1px solid #000;             width: 600px;             font-size: 11px;             font-family:Arial,Helvetica,sans-serif;         }         .inner-div         {             border: 1px dotted #000;             padding: 10px;             overflow: hidden;             margin: 5px;         }         #title         {             background-image:url({TemplatePath}Top.gif);             background-repeat:repeat-x;             background-position:middle center;             background-color: #EEE;             padding: 10px;             margin: 5px;         }         #title-header         {             font-size: 18px;             float: left;         }         #title-right         {             float: right;             line-height: 20px;         }                  #title-right a.button         {         }                  h2         {             background-image:url({TemplatePath}Top.gif);             background-repeat:repeat-x;             background-position:middle center;             font-size: 14px;             background-color: #EEE;             margin: 0px 0px 5px 0px;             padding:4px;         }         .lbl         {             font-weight: bold;         }                  .resv-no         {             font-weight: bold;             font-size: 20px;             color: #4D90FE;         }                  .clear         {             clear: both;         }                           table         {             font-size: 11px;         }         .table-header         {             font-weight: bold;             background-color: #EEE;         }                  .table-column1         {             width: 50px;         }         .table-column2         {             width: 250px;         }         .table-column3         {             width: 260px;         }         .table-row td         {             padding-bottom: 5px;             border-bottom: 1px solid #EEE;         }                  #hotel-name         {             background-color: #EEE;             margin-bottom: 5px;         }         #hotel-image         {             float: left;         }         #hotel-basic-info         {             margin-left: 85px;         }         #hotel-book-info         {             margin-top: 10px;         }         .inner-div2         {         }         .fLeft         {             width: 50%;             float: left;         }         .padRight         {             padding-right: 2px;         }     </style> </head> <body>     <div id="voucher">         <div id="title">             <div id="title-header">                 Hotel Voucher</div>         </div>         <div id="hotel-information" class="inner-div">             <h2>                 ');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('</h2>             <div>                 <div class="inner-div2">                     <img id="hotel-image" src="');if(typeof(HotelImage)!=="undefined"&&(HotelImage)!=null){__.push($.encode((typeof(HotelImage)==="function"?(HotelImage).call($item):(HotelImage))))}__.push('" width="80" height="100" alt="');if(typeof(HotelName)!=="undefined"&&(HotelName)!=null){__.push($.encode((typeof(HotelName)==="function"?(HotelName).call($item):(HotelName))))}__.push('" />                     <div id="hotel-basic-info">                         <!--<h2>                             Hotel Informations</h2>-->                         <span class="lbl">Address:</span> <span>');if(typeof(HotelAddress)!=="undefined"&&(HotelAddress)!=null){__.push($.encode((typeof(HotelAddress)==="function"?(HotelAddress).call($item):(HotelAddress))))}__.push('</span>                         <br />                         <span class="lbl">City/Country:</span> <span>');if(typeof(HotelCity)!=="undefined"&&(HotelCity)!=null){__.push($.encode((typeof(HotelCity)==="function"?(HotelCity).call($item):(HotelCity))))}__.push("/");if(typeof(HotelCountry)!=="undefined"&&(HotelCountry)!=null){__.push($.encode((typeof(HotelCountry)==="function"?(HotelCountry).call($item):(HotelCountry))))}__.push('</span>                         <br />                         <span class="lbl">Telephone:</span> <span>');if(typeof(HotelPhone)!=="undefined"&&(HotelPhone)!=null){__.push($.encode((typeof(HotelPhone)==="function"?(HotelPhone).call($item):(HotelPhone))))}__.push('</span>                         <br />                         <span class="lbl">Fax:</span> <span>');if(typeof(HotelFax)!=="undefined"&&(HotelFax)!=null){__.push($.encode((typeof(HotelFax)==="function"?(HotelFax).call($item):(HotelFax))))}__.push('</span>                         <!--<br />                         <span class="lbl">Email:</span> <span>{Hotel.Email}</span>-->                     </div>                 </div>             </div>             <!--           <div class="fLeft">                 <div class="inner-div2">                     <h2>                         Agency Informations</h2>                     <span class="lbl">Title:</span> <span>{Agency.Title}</span>                     <br />                     <span class="lbl">Phone:</span> <span>{Agency.Phone}</span>                     <br />                     <span class="lbl">Email:</span> <span>{Agency.Email}</span>                     <br />                     <span class="lbl">Address:</span> <span>{Agency.Address}</span>                 </div>             </div>-->             <div class="clear">             </div>             <div id="hotel-book-info">                 <div class="fLeft">                     <div class="inner-div2">                         <span class="lbl">Lead Passanger:</span><span>');if(typeof(LeadPassanger)!=="undefined"&&(LeadPassanger)!=null){__.push($.encode((typeof(LeadPassanger)==="function"?(LeadPassanger).call($item):(LeadPassanger))))}__.push('</span>                         <br />                         <span class="lbl">Reference Number:</span><span>');if(typeof(ReferenceNumber)!=="undefined"&&(ReferenceNumber)!=null){__.push($.encode((typeof(ReferenceNumber)==="function"?(ReferenceNumber).call($item):(ReferenceNumber))))}__.push('</span>                         <br />       <span class="lbl">Reservation Number:</span><span class="resv-no">');if(typeof(ReservationNumber)!=="undefined"&&(ReservationNumber)!=null){__.push($.encode((typeof(ReservationNumber)==="function"?(ReservationNumber).call($item):(ReservationNumber))))}__.push('</span>                     </div>                 </div>                 <div class="fLeft">                     <div class="inner-div2">                         <span class="lbl">Check-In Date:</span> <span>');if(typeof(hotelcheckindate)!=="undefined"&&(hotelcheckindate)!=null){__.push($.encode((typeof(hotelcheckindate)==="function"?(hotelcheckindate).call($item):(hotelcheckindate))))}__.push('</span>                         <br />                         <span class="lbl">Check-Out Date:</span> <span>');if(typeof(hotelcheckoutdate)!=="undefined"&&(hotelcheckoutdate)!=null){__.push($.encode((typeof(hotelcheckoutdate)==="function"?(hotelcheckoutdate).call($item):(hotelcheckoutdate))))}__.push('</span>                         <br />                         <span class="lbl">Nights:</span> <span>');if(typeof(NumberOfNights)!=="undefined"&&(NumberOfNights)!=null){__.push($.encode((typeof(NumberOfNights)==="function"?(NumberOfNights).call($item):(NumberOfNights))))}__.push('</span>                     </div>                 </div>                 <div class="clear">                 </div>             </div>         </div>         <div id="passenger-information" class="inner-div">             <h2>                 Guests</h2>             <table>                 <tr class="table-header">                     <td class="table-column1">                         Room No                     </td>                     <td class="table-column2">                         Room Detail                     </td>                     <td class="table-column3">                         Guests                     </td>                 </tr>                 {Hotel.Guest.Rows}             </table>         </div>         <div id="hotel-rules" class="inner-div">             <h2>                 Hotel Rules</h2>             {Hotel.Cancel.Policy}         </div>         <div id="contact-detail" class="inner-div">             <h2>                 Agency Information</h2>             {officeadress}         </div>     </div> </body> </html>')}return __}jQuery.template("#TBO",tmp_TBO);function tmp_HtmlModule(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<form id="HtmlModule">     <div id="CustomHTML">     </div>     <textarea rows="60" cols="80" style="width: 100%; height: 500px;" class="tinymce"> </textarea>      ');if((typeof(EditSaveButtonsVisibility)!=="undefined"&&(EditSaveButtonsVisibility)!=null)&&(typeof(EditSaveButtonsVisibility)==="function"?(EditSaveButtonsVisibility).call($item):(EditSaveButtonsVisibility))){__.push("         ");if(typeof("#ButtonTemplate")!=="undefined"&&("#ButtonTemplate")!=null){__=__.concat($item.nest("#ButtonTemplate",{Name:"Edit",Text:"Edit",Class:"positive HtmlModuleEdit"}))}__.push("          ");if(typeof("#ButtonTemplate")!=="undefined"&&("#ButtonTemplate")!=null){__=__.concat($item.nest("#ButtonTemplate",{Name:"Save",Text:"Save",Class:"positive HtmlModuleSave"}))}__.push("     ")}__.push(" </form>")}return __}jQuery.template("#HtmlModule",tmp_HtmlModule);function tmp_IFrameModule(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="IFrameModules">   </div>')}return __}jQuery.template("#IFrameModule",tmp_IFrameModule);function tmp_LanguageSelect(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="LanguageSelect">     ');if((typeof(SelectedDesign=="DropDown")!=="undefined"&&(SelectedDesign=="DropDown")!=null)&&(typeof(SelectedDesign=="DropDown")==="function"?(SelectedDesign=="DropDown").call($item):(SelectedDesign=="DropDown"))){__.push('           <div class="LanguageSelectDropdownContainer">             ');if(typeof("#DropDownListTemplate")!=="undefined"&&("#DropDownListTemplate")!=null){__=__.concat($item.nest("#DropDownListTemplate",{Name:"CultureDropDown",SelectedValue:EP.Localization.Culture,DataSource:CultureDataSource}))}__.push("             </div>           ")}else{if((typeof(SelectedDesign=="DropDownFlag")!=="undefined"&&(SelectedDesign=="DropDownFlag")!=null)&&(typeof(SelectedDesign=="DropDownFlag")==="function"?(SelectedDesign=="DropDownFlag").call($item):(SelectedDesign=="DropDownFlag"))){__.push('         <div class="LanguageSelectDropdownWithFlagsContainer">             ');if(typeof("#DropDownListTemplate")!=="undefined"&&("#DropDownListTemplate")!=null){__=__.concat($item.nest("#DropDownListTemplate",{Name:"CultureDropDownWithFlag",SelectedValue:EP.Localization.Culture,DataSource:CultureDataSource}))}__.push("         </div>     ")}else{if((typeof(SelectedDesign=="LinkFlag")!=="undefined"&&(SelectedDesign=="LinkFlag")!=null)&&(typeof(SelectedDesign=="LinkFlag")==="function"?(SelectedDesign=="LinkFlag").call($item):(SelectedDesign=="LinkFlag"))){__.push('         <div class="LanguageSelectLinkContainer">             ');if(typeof(CultureDataSource)!=="undefined"&&(CultureDataSource)!=null){$.each((typeof(CultureDataSource)==="function"?(CultureDataSource).call($item):(CultureDataSource)),function($index,$value){with(this){__.push("                 ");if(typeof(EP.LanguageSelect.GetFlagImage)!=="undefined"&&(EP.LanguageSelect.GetFlagImage)!=null){__.push(EP.LanguageSelect.GetFlagImage(Key))}__.push('                  <a class="fn_ChangeCulture link" href="javascript:void(0)" data-culture-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">');if(typeof(Key.split)!=="undefined"&&(Key.split)!=null){__.push($.encode(Key.split("-")[Key.split("-").length-1].toUpperCase()))}__.push("</a>             ")}})}__.push("         </div>     ")}else{if((typeof(SelectedDesign=="Link")!=="undefined"&&(SelectedDesign=="Link")!=null)&&(typeof(SelectedDesign=="Link")==="function"?(SelectedDesign=="Link").call($item):(SelectedDesign=="Link"))){__.push('         <div class="LanguageSelectLinkContainer">             ');if(typeof(CultureDataSource)!=="undefined"&&(CultureDataSource)!=null){$.each((typeof(CultureDataSource)==="function"?(CultureDataSource).call($item):(CultureDataSource)),function($index,$value){with(this){__.push('                 <a class="fn_ChangeCulture link" href="javascript:void(0)" data-culture-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">');if(typeof(Value.trim)!=="undefined"&&(Value.trim)!=null){__.push($.encode(Value.trim()))}__.push('</a>                 <span class="LanguageSelectLinkSeperator"> | </span>             ')}})}__.push("         </div>     ")}else{if((typeof(SelectedDesign=="Flag")!=="undefined"&&(SelectedDesign=="Flag")!=null)&&(typeof(SelectedDesign=="Flag")==="function"?(SelectedDesign=="Flag").call($item):(SelectedDesign=="Flag"))){__.push('         <div class="LanguageSelectLinkContainer">             ');if(typeof(CultureDataSource)!=="undefined"&&(CultureDataSource)!=null){$.each((typeof(CultureDataSource)==="function"?(CultureDataSource).call($item):(CultureDataSource)),function($index,$value){with(this){__.push('                 <a class="fn_ChangeCulture link" href="javascript:void(0)" data-culture-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">                     ');if(typeof(EP.LanguageSelect.GetFlagImage)!=="undefined"&&(EP.LanguageSelect.GetFlagImage)!=null){__.push(EP.LanguageSelect.GetFlagImage(Key))}__.push("                 </a>             ")}})}__.push("         </div>     ")}else{if((typeof(SelectedDesign=="LinkFlagName")!=="undefined"&&(SelectedDesign=="LinkFlagName")!=null)&&(typeof(SelectedDesign=="LinkFlagName")==="function"?(SelectedDesign=="LinkFlagName").call($item):(SelectedDesign=="LinkFlagName"))){__.push('         <div class="LanguageSelectLinkContainer">             ');if(typeof(CultureDataSource)!=="undefined"&&(CultureDataSource)!=null){$.each((typeof(CultureDataSource)==="function"?(CultureDataSource).call($item):(CultureDataSource)),function($index,$value){with(this){__.push("                 ");if(typeof(EP.LanguageSelect.GetFlagImage)!=="undefined"&&(EP.LanguageSelect.GetFlagImage)!=null){__.push(EP.LanguageSelect.GetFlagImage(Key))}__.push('                 <a class="fn_ChangeCulture link" href="javascript:void(0)" data-culture-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">');if(typeof(Value.trim)!=="undefined"&&(Value.trim)!=null){__.push($.encode(Value.trim()))}__.push("</a>             ")}})}__.push("         </div>             ")}else{if((typeof(SelectedDesign=="PopupBox")!=="undefined"&&(SelectedDesign=="PopupBox")!=null)&&(typeof(SelectedDesign=="PopupBox")==="function"?(SelectedDesign=="PopupBox").call($item):(SelectedDesign=="PopupBox"))){__.push('         <div class="tablecontainer CulturePopupBoxContainer">             <div class="trrow">                 <div class="tdcell">                     ');if(typeof(EP.LanguageSelect.GetFlagImage)!=="undefined"&&(EP.LanguageSelect.GetFlagImage)!=null){__.push(EP.LanguageSelect.GetFlagImage(EP.Localization.Culture))}__.push('                      <a class="link fn_OpenLanguageSelectPopup" href="javascript:void(0)">                                                ');if(typeof(EP.LanguageSelect.GetCultureName)!=="undefined"&&(EP.LanguageSelect.GetCultureName)!=null){__.push($.encode(EP.LanguageSelect.GetCultureName(EP.Localization.Culture)))}__.push(' <img src="Images/fare_d.gif" />                     </a>                 </div>             </div>         </div>     ')}}}}}}}__.push(" </div>")}return __}jQuery.template("#LanguageSelect",tmp_LanguageSelect);function tmp_LanguageSelectPopup(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="CulturePopup">     <div class="tablecontainer">         <div class="trrow">         ');if(typeof(CultureDataSource)!=="undefined"&&(CultureDataSource)!=null){$.each((typeof(CultureDataSource)==="function"?(CultureDataSource).call($item):(CultureDataSource)),function(continent,lookupTable){with(this){__.push('             <div class="tdcell valignTop Group">                 <div class="GroupHeader bold">');if(typeof(continent)!=="undefined"&&(continent)!=null){__.push($.encode((typeof(continent)==="function"?(continent).call($item):(continent))))}__.push("</div>                 ");if(typeof(lookupTable)!=="undefined"&&(lookupTable)!=null){$.each((typeof(lookupTable)==="function"?(lookupTable).call($item):(lookupTable)),function($index,$value){with(this){__.push('                     <div class="GroupItems">                         ');if(typeof(EP.LanguageSelect.GetFlagImage)!=="undefined"&&(EP.LanguageSelect.GetFlagImage)!=null){__.push(EP.LanguageSelect.GetFlagImage(Key))}__.push('&nbsp;                         <a class="fn_ChangeCulture link" href="javascript:void(0)" data-culture-key="');if(typeof(Key)!=="undefined"&&(Key)!=null){__.push($.encode((typeof(Key)==="function"?(Key).call($item):(Key))))}__.push('">                             <label data-fld="NoLocalize">');if(typeof(Region)!=="undefined"&&(Region)!=null){__.push($.encode((typeof(Region)==="function"?(Region).call($item):(Region))))}__.push("</label>                         </a>                     </div>                 ")}})}__.push("             </div>         ")}})}__.push("         </div>     </div>  </div>")}return __}jQuery.template("#LanguageSelectPopup",tmp_LanguageSelectPopup);function tmp_CorporateListSelection(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="tablecontainer">     <div class="trrow">         <div class="tdcell columnWidthWide">             <label data-fld="TemplatedWrapper.Sub Agency.Caption">Sub Agency</label>         </div>         <div class="tdcell">             ');if(typeof("#CategoryDropDownListTemplate")!=="undefined"&&("#CategoryDropDownListTemplate")!=null){__=__.concat($item.nest("#CategoryDropDownListTemplate",{Name:"DropCorporate",SelectedValue:"",DataSource:DataSources,CategoryName:"CorporateOptions"}))}__.push("         </div>     </div> </div>")}return __}jQuery.template("#CorporateListSelection",tmp_CorporateListSelection);function tmp_Login(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<form id="UserLoginForm" autocomplete="off" onsubmit="if (event) event.returnValue = false;return false;">     <div class="UserLoginMainTable">         <div class="tablecontainer Login">             <div class="trrow">                 <div class="tdcell">                     <label data-fld="Login.User Name.Text">                         Login Name</label>                 </div>                 <div class="tdcell alignRight">                     ');if(typeof("#TextBoxTemplate")!=="undefined"&&("#TextBoxTemplate")!=null){__=__.concat($item.nest("#TextBoxTemplate",{Name:"UserName",Value:UserName}))}__.push('                 </div>             </div>             <div class="trrow">                 <div class="tdcell">                     <label data-fld="Login.Password.Text">                         Password</label>                 </div>                 <div class="tdcell alignRight">                     ');if(typeof("#PasswordTextBoxTemplate")!=="undefined"&&("#PasswordTextBoxTemplate")!=null){__=__.concat($item.nest("#PasswordTextBoxTemplate",{Name:"Password",Value:Password,Remember:true}))}__.push('                 </div>             </div>             <div class="trrow">                 <div class="tdcell">                 </div>                 <div class="tdcell LoginStatusButton alignRight fn_LoginStatusButton">                     ');if(typeof("#SubmitButtonTemplate")!=="undefined"&&("#SubmitButtonTemplate")!=null){__=__.concat($item.nest("#SubmitButtonTemplate",{Name:"Login",Text:"Login",Class:"positive Login",LocalizeKey:"Login.Log In.Text"}))}__.push("                 </div>             </div>             ");if((typeof(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink")&&EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True")!=="undefined"&&(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink")&&EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True")!=null)&&(typeof(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink")&&EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True")==="function"?(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink")&&EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True").call($item):(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink")&&EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="True"))){__.push("                 ");if((typeof(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink").toLowerCase()=="true")!=="undefined"&&(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink").toLowerCase()=="true")!=null)&&(typeof(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink").toLowerCase()=="true")==="function"?(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink").toLowerCase()=="true").call($item):(EP.DataManager.GetRuleValue("DisplaySubAgencyRegisterLink").toLowerCase()=="true"))){__.push('                 <div class="trrow">                     <div class="tdcell">                     </div>                     <div class="tdcell LoginStatusButton alignRight fn_LoginStatusButton">                         <label class="fn_RegisterSubAgency link" data-fld="Register.Register Sub Agency.Text">Register Sub Agency</label>                     </div>                 </div>             ')}__.push("             ")}__.push('              <div class="trrow">                  <div class="tdcell">                  </div>                  <div class="tdcell LoginPasswordRecover alignRight fn_LoginPasswordRecover">                      ');if((typeof(EP.DataManager.GetRuleValue)!=="undefined"&&(EP.DataManager.GetRuleValue)!=null)&&EP.DataManager.GetRuleValue("UseAgencyMembershipSystem")=="False"&&!EP.DataManager.GetRuleValue("EM_RegisteryUrl")){__.push('                      <label class="fn_PasswordRecoverLink PasswordRecoverLink link" data-fld="AWCHyperLink.Recover Password.Text">Recover Password</label>                      ')}else{if((true)&&true){__.push("                         ");if((typeof(EP.DataManager.GetRuleValue)!=="undefined"&&(EP.DataManager.GetRuleValue)!=null)&&EP.DataManager.GetRuleValue("EM_RegisteryUrl")){__.push('                             <a href="');if(typeof(EP.StateManager("GeneralInformation").RecoverPasswordLink)!=="undefined"&&(EP.StateManager("GeneralInformation").RecoverPasswordLink)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").RecoverPasswordLink)==="function"?(EP.StateManager("GeneralInformation").RecoverPasswordLink).call($item):(EP.StateManager("GeneralInformation").RecoverPasswordLink))))}__.push('" target="');if(typeof(EP.StateManager("GeneralInformation").RecoverPasswordTarget)!=="undefined"&&(EP.StateManager("GeneralInformation").RecoverPasswordTarget)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").RecoverPasswordTarget)==="function"?(EP.StateManager("GeneralInformation").RecoverPasswordTarget).call($item):(EP.StateManager("GeneralInformation").RecoverPasswordTarget))))}__.push('" class="DoLocalize" data-fld="AWCHyperLink.Recover Password.Text">Recover Password</a>                         ')}__.push("                      ")}}__.push("                  </div>              </div>         </div>     </div> </form>")}return __}jQuery.template("#Login",tmp_Login);function tmp_SessionLocked(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<form id="UserLoginForm" onsubmit="if (event) event.returnValue = false;return false;">     <p>         ');if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("AWCLabel.TimeOutLoginMessage.Text","Your user management session has expired. Please re-enter your password"))}__.push('     </p>     <div class="tablecontainer">         <div class="trrow">             <div class="tdcell">                 <label data-fld="Login.User Name.Text">                     User Name                 </label>             </div>             <div class="tdcell alignRight">                 ');if(typeof("#TextBoxTemplate")!=="undefined"&&("#TextBoxTemplate")!=null){__=__.concat($item.nest("#TextBoxTemplate",{Name:"UserName",Value:UserName}))}__.push('             </div>         </div>         <div class="trrow">             <div class="tdcell">                 <label data-fld="Login.Password.Text">                     Password                 </label>             </div>             <div class="tdcell alignRight">                 ');if(typeof("#PasswordTextBoxTemplate")!=="undefined"&&("#PasswordTextBoxTemplate")!=null){__=__.concat($item.nest("#PasswordTextBoxTemplate",{Name:"Password",Value:Password,Remember:true}))}__.push("             </div>         </div>     </div> </form>")}return __}jQuery.template("#SessionLocked",tmp_SessionLocked);function tmp_LoginStatus(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if((typeof(User)!=="undefined"&&(User)!=null)&&(typeof(User)==="function"?(User).call($item):(User))){__.push("      ");if((typeof(EP.LoginStatus.HasCorporateListOfAgency)!=="undefined"&&(EP.LoginStatus.HasCorporateListOfAgency)!=null)&&(typeof(EP.LoginStatus.HasCorporateListOfAgency)==="function"?(EP.LoginStatus.HasCorporateListOfAgency).call($item):(EP.LoginStatus.HasCorporateListOfAgency))){__.push("         ");if(typeof("#CategoryDropDownListTemplate")!=="undefined"&&("#CategoryDropDownListTemplate")!=null){__=__.concat($item.nest("#CategoryDropDownListTemplate",{Name:"CorporateListOfAgency",DataSource:EP.StateManager("GeneralInformation").DataSource,CategoryName:"CorporateListOfAgency",SelectedValue:EP.StateManager("OrganizationID")}))}__.push("     ")}__.push("     ");if(typeof(EP.BaseFunctions.GetLocalizedFormattedText)!=="undefined"&&(EP.BaseFunctions.GetLocalizedFormattedText)!=null){__.push(EP.BaseFunctions.GetLocalizedFormattedText("Welcome ((0)) ((1)) ((2))",[User.UserInformation.FirstName,User.UserInformation.SecondaryName,User.UserInformation.SurName]))}__.push("           ");if((typeof(User.UserInformation.CorporateName)!=="undefined"&&(User.UserInformation.CorporateName)!=null)&&(typeof(User.UserInformation.CorporateName)==="function"?(User.UserInformation.CorporateName).call($item):(User.UserInformation.CorporateName))){__.push('         , <label class="CorporateNameLabel" data-fld="NoLocalize"> ');if(typeof(User.UserInformation.CorporateName)!=="undefined"&&(User.UserInformation.CorporateName)!=null){__.push($.encode((typeof(User.UserInformation.CorporateName)==="function"?(User.UserInformation.CorporateName).call($item):(User.UserInformation.CorporateName))))}__.push("</label>     ")}__.push('          <label class="fn_Logout link" data-fld="AWCHyperLink.Logout.Text">Logout</label>     ');if((typeof(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="False")!=="undefined"&&(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="False")!=null)&&(typeof(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="False")==="function"?(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="False").call($item):(EP.DataManager.GetRuleValue("AllowConsolidatorModule")=="False"))){__.push("         ");if((typeof(EP.DataManager.GetRuleValue)!=="undefined"&&(EP.DataManager.GetRuleValue)!=null)&&EP.DataManager.GetRuleValue("UseAgencyMembershipSystem")=="False"&&!EP.DataManager.GetRuleValue("EM_ProfileUpdateURL")){__.push('  / <label class="fn_EditProfile link" data-fld="AWCHyperLink.Edit Profile.Text">Edit Profile</label>         ')}else{if((true)&&true){__.push("             ");if((typeof(EP.DataManager.GetRuleValue)!=="undefined"&&(EP.DataManager.GetRuleValue)!=null)&&EP.DataManager.GetRuleValue("EM_ProfileUpdateURL")){__.push('             / <a href="');if(typeof(EP.StateManager("GeneralInformation").EditProfileLink)!=="undefined"&&(EP.StateManager("GeneralInformation").EditProfileLink)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").EditProfileLink)==="function"?(EP.StateManager("GeneralInformation").EditProfileLink).call($item):(EP.StateManager("GeneralInformation").EditProfileLink))))}__.push('" target="');if(typeof(EP.StateManager("GeneralInformation").EditProfileTarget)!=="undefined"&&(EP.StateManager("GeneralInformation").EditProfileTarget)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").EditProfileTarget)==="function"?(EP.StateManager("GeneralInformation").EditProfileTarget).call($item):(EP.StateManager("GeneralInformation").EditProfileTarget))))}__.push('" class="DoLocalize" data-fld="AWCHyperLink.Edit Profile.Text">EditProfile</a>             ')}__.push("         ")}}__.push("     ")}__.push(" ")}else{if((true)&&true){__.push('         <label class="fn_Login link" data-fld="AWCHyperLink.Login.Text">Login</label>         ');if((typeof(ShowRegisterLink)!=="undefined"&&(ShowRegisterLink)!=null)&&(typeof(ShowRegisterLink)==="function"?(ShowRegisterLink).call($item):(ShowRegisterLink))){__.push("          ");if((typeof(!ShowAgencyRegisterLink)!=="undefined"&&(!ShowAgencyRegisterLink)!=null)&&(typeof(!ShowAgencyRegisterLink)==="function"?(!ShowAgencyRegisterLink).call($item):(!ShowAgencyRegisterLink))){__.push('                  / <label class="fn_Register link" data-fld="AWCHyperLink.Register.Text">Register</label>         ')}else{if((true)&&true){__.push('                  / <a href="');if(typeof(EP.StateManager("GeneralInformation").RegisterLink)!=="undefined"&&(EP.StateManager("GeneralInformation").RegisterLink)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").RegisterLink)==="function"?(EP.StateManager("GeneralInformation").RegisterLink).call($item):(EP.StateManager("GeneralInformation").RegisterLink))))}__.push('" target="');if(typeof(EP.StateManager("GeneralInformation").RegisterTarget)!=="undefined"&&(EP.StateManager("GeneralInformation").RegisterTarget)!=null){__.push($.encode((typeof(EP.StateManager("GeneralInformation").RegisterTarget)==="function"?(EP.StateManager("GeneralInformation").RegisterTarget).call($item):(EP.StateManager("GeneralInformation").RegisterTarget))))}__.push('" class="DoLocalize" data-fld="AWCHyperLink.Register.Text">Register</a>         ')}}__.push("      ")}__.push(" ")}}__.push("")}return __}jQuery.template("#LoginStatus",tmp_LoginStatus);function tmp_ManualCost(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("<!-- 09226158 ilke --> ");if((typeof(EP.ManualCost.Type()!="none")!=="undefined"&&(EP.ManualCost.Type()!="none")!=null)&&(typeof(EP.ManualCost.Type()!="none")==="function"?(EP.ManualCost.Type()!="none").call($item):(EP.ManualCost.Type()!="none"))){__.push('     <div class="tablecontainer manualCost">         <div class="trrow">             <div class="tdcell manualCostLabel">                 <label>                    ');if((typeof(EP.ManualCost.Type()=="SecondaryLevelServiceFeeSearch")!=="undefined"&&(EP.ManualCost.Type()=="SecondaryLevelServiceFeeSearch")!=null)&&(typeof(EP.ManualCost.Type()=="SecondaryLevelServiceFeeSearch")==="function"?(EP.ManualCost.Type()=="SecondaryLevelServiceFeeSearch").call($item):(EP.ManualCost.Type()=="SecondaryLevelServiceFeeSearch"))){__.push("                      Manual Service Fee                    ")}__.push("                    ");if((typeof(EP.ManualCost.Type()=="SecondaryLevelMarkupSearch")!=="undefined"&&(EP.ManualCost.Type()=="SecondaryLevelMarkupSearch")!=null)&&(typeof(EP.ManualCost.Type()=="SecondaryLevelMarkupSearch")==="function"?(EP.ManualCost.Type()=="SecondaryLevelMarkupSearch").call($item):(EP.ManualCost.Type()=="SecondaryLevelMarkupSearch"))){__.push("                     Manual Markup                    ")}__.push('                 </label>             </div>             <div class="tdcell textField">                 ');if(typeof("#ManualCostAmount")!=="undefined"&&("#ManualCostAmount")!=null){__=__.concat($item.nest("#ManualCostAmount",{Name:"ManualCostAmount",ControlOnKeyup:EP.ManualCost.ControlOnKeyup,Value:EP.ManualCost.AmountValueDisplay(ManualCostAmount)}))}__.push("             </div>         </div>     </div> ")}__.push("")}return __}jQuery.template("#ManualCost",tmp_ManualCost);function tmp_TopLocation(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if((typeof(Value.Type===1)!=="undefined"&&(Value.Type===1)!=null)&&(typeof(Value.Type===1)==="function"?(Value.Type===1).call($item):(Value.Type===1))){__.push('  <a class="link flightLink topLocation');if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push(" level");if(typeof(Value.Level)!=="undefined"&&(Value.Level)!=null){__.push($.encode((typeof(Value.Level)==="function"?(Value.Level).call($item):(Value.Level))))}__.push('" href="javascript:;">');if(typeof(Value.ToName)!=="undefined"&&(Value.ToName)!=null){__.push($.encode((typeof(Value.ToName)==="function"?(Value.ToName).call($item):(Value.ToName))))}__.push("</a>   ")}__.push(" ");if((typeof(Value.Type===2)!=="undefined"&&(Value.Type===2)!=null)&&(typeof(Value.Type===2)==="function"?(Value.Type===2).call($item):(Value.Type===2))){__.push('  <a class="link hotelLink topLocation');if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push(" level");if(typeof(Value.Level)!=="undefined"&&(Value.Level)!=null){__.push($.encode((typeof(Value.Level)==="function"?(Value.Level).call($item):(Value.Level))))}__.push('" href="javascript:;">');if(typeof(Value.ToName)!=="undefined"&&(Value.ToName)!=null){__.push($.encode((typeof(Value.ToName)==="function"?(Value.ToName).call($item):(Value.ToName))))}__.push("</a>   ")}__.push(" ");if((typeof(Value.Type===3)!=="undefined"&&(Value.Type===3)!=null)&&(typeof(Value.Type===3)==="function"?(Value.Type===3).call($item):(Value.Type===3))){__.push('  <a class="link carLink topLocation');if(typeof(Index)!=="undefined"&&(Index)!=null){__.push($.encode((typeof(Index)==="function"?(Index).call($item):(Index))))}__.push(" level");if(typeof(Value.Level)!=="undefined"&&(Value.Level)!=null){__.push($.encode((typeof(Value.Level)==="function"?(Value.Level).call($item):(Value.Level))))}__.push('" href="javascript:;">');if(typeof(Value.ToName)!=="undefined"&&(Value.ToName)!=null){__.push($.encode((typeof(Value.ToName)==="function"?(Value.ToName).call($item):(Value.ToName))))}__.push("</a>   ")}__.push("")}return __}jQuery.template("#TopLocation",tmp_TopLocation);function tmp_TopLocations(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push("");if(typeof(items)!=="undefined"&&(items)!=null){$.each((typeof(items)==="function"?(items).call($item):(items)),function(i,v){with(this){__.push("  ");if(typeof("#TopLocation")!=="undefined"&&("#TopLocation")!=null){__=__.concat($item.nest("#TopLocation",{Index:i,Value:v}))}__.push("  ")}})}__.push("  ");if((typeof(!hasData)!=="undefined"&&(!hasData)!=null)&&(typeof(!hasData)==="function"?(!hasData).call($item):(!hasData))){__.push("     ");if(typeof(EP.Localization.Get)!=="undefined"&&(EP.Localization.Get)!=null){__.push(EP.Localization.Get("There is no data"))}__.push(" ")}__.push("")}return __}jQuery.template("#TopLocations",tmp_TopLocations);function tmp_ValidationPanel(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('<div class="ui-widget ValidationPanel">     <div style="padding: 7px" class="ui-state-error ui-corner-all">         <div class="ValidationTitle">             <p>                 <span style="margin-right: 0.3em; float: left;" class="ui-icon ui-icon-alert"></span>                 <strong><label>Alert: Please review the following message(s)</label></strong>             </p>         </div>         <hr />         <ul>             ');if(typeof(validator.errorList)!=="undefined"&&(validator.errorList)!=null){$.each((typeof(validator.errorList)==="function"?(validator.errorList).call($item):(validator.errorList)),function(i,v){with(this){__.push('             <li>                 <div class="tablecontainer">                     <div class="trrow">                         <div class="tdcell" style="width:20px">                             <span class="ui-icon ui-icon-triangle-1-e" />                         </div>                         <div class="tdcell">                             <span>');if(typeof(message)!=="undefined"&&(message)!=null){__.push((typeof(message)==="function"?(message).call($item):(message)))}__.push("</span></div>                     </div>                 </div>             </li>             ")}})}__.push("         </ul>     </div> </div>")}return __}jQuery.template("#ValidationPanel",tmp_ValidationPanel);